[debug] [2024-04-01T02:59:07.800Z] ----------------------------------------------------------------------
[debug] [2024-04-01T02:59:07.801Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Tel\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js serve
[debug] [2024-04-01T02:59:07.802Z] CLI Version:   13.6.0
[debug] [2024-04-01T02:59:07.802Z] Platform:      win32
[debug] [2024-04-01T02:59:07.802Z] Node Version:  v19.6.0
[debug] [2024-04-01T02:59:07.802Z] Time:          Sun Mar 31 2024 19:59:07 GMT-0700 (Pacific Daylight Time)
[debug] [2024-04-01T02:59:07.802Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-04-01T02:59:07.858Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-04-01T02:59:07.859Z] > authorizing via signed-in user (achouhan0114@gmail.com)
[debug] [2024-04-01T02:59:07.859Z] [iam] checking project csc190-w for permissions ["firebase.projects.get"]
[debug] [2024-04-01T02:59:07.860Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions [none]
[debug] [2024-04-01T02:59:07.860Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions x-goog-quota-user=projects/csc190-w
[debug] [2024-04-01T02:59:07.860Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T02:59:08.015Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions 200
[debug] [2024-04-01T02:59:08.016Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T02:59:08.016Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T02:59:08.253Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T02:59:08.253Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] 
[info] === Serving from 'C:\Users\Tel\CSC190_Website'...
[info] 
[debug] [2024-04-01T02:59:08.257Z] defaultcredentials: writing to file C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json
[debug] [2024-04-01T02:59:08.257Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 
[debug] [2024-04-01T02:59:08.259Z] Setting GAC to C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Tel\\AppData\\Roaming\\firebase\\achouhan0114_gmail_com_application_default_credentials.json"}}
[debug] [2024-04-01T02:59:08.259Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig [none]
[debug] [2024-04-01T02:59:08.687Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig 200
[debug] [2024-04-01T02:59:08.687Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig {"projectId":"csc190-w","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com"}
[debug] [2024-04-01T02:59:08.778Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 200
[debug] [2024-04-01T02:59:08.778Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites {"sites":[{"name":"projects/csc190-w/sites/csc190-w","defaultUrl":"https://csc190-w.web.app","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","type":"DEFAULT_SITE"}]}
[debug] [2024-04-01T02:59:08.778Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config [none]
[debug] [2024-04-01T02:59:09.204Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config 200
[debug] [2024-04-01T02:59:09.205Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config {"projectId":"csc190-w","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com","apiKey":"AIzaSyDTmAvGOetZpKVXBDQyOG18Y8YfVOVPV3M","authDomain":"csc190-w.firebaseapp.com","messagingSenderId":"59153071763","measurementId":"G-KYZHBDYFBR"}
[debug] [2024-04-01T02:59:09.212Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T02:59:09.359Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T02:59:09.359Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] i  functions: Watching "C:\Users\Tel\CSC190_Website\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\Tel\\CSC190_Website\\functions\" for Cloud Functions..."}}
[info] i  hosting[csc190-w]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] +  hosting[csc190-w]: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[debug] [2024-04-01T02:59:09.373Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2024-04-01T02:59:10.105Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "ejs": "^3.1.9",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.13",
    "stripe": "^14.15.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-01T02:59:10.105Z] Building nodejs source
[debug] [2024-04-01T02:59:10.105Z] Failed to find version of module node: reached end of search path C:\Users\Tel\CSC190_Website\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "19". Using node@19 from host. 
[debug] [2024-04-01T02:59:10.107Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-01T02:59:10.111Z] Found firebase-functions binary at 'C:\Users\Tel\CSC190_Website\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8578

[debug] [2024-04-01T02:59:10.460Z] Got response from /__/functions.yaml {"endpoints":{"sendEmailReceipt":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"retry":false},"labels":{},"entryPoint":"sendEmailReceipt"},"handleStripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: sendEmailReceipt, handleStripeWebhook. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: sendEmailReceipt, handleStripeWebhook."}}
[info] i  functions[us-central1-sendEmailReceipt]: function ignored because the firestore emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the firestore emulator does not exist or is not running."}}
[info] +  functions[us-central1-handleStripeWebhook]: http function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook)."}}
[info] i  hosting: ::1 - - [01/Apr/2024:02:59:47 +0000] "GET / HTTP/1.1" 200 774 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:02:59:47 +0000] \"GET / HTTP/1.1\" 200 774 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:02:59:47 +0000] "GET /static/css/main.3903d4f5.css HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:02:59:47 +0000] \"GET /static/css/main.3903d4f5.css HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:02:59:47 +0000] "GET /static/js/main.ffd88924.js HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:02:59:47 +0000] \"GET /static/js/main.ffd88924.js HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:02:59:47 +0000] "GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1" 200 1363422 "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:02:59:47 +0000] \"GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1\" 200 1363422 \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[debug] [2024-04-01T03:02:03.948Z] ----------------------------------------------------------------------
[debug] [2024-04-01T03:02:03.949Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Tel\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy
[debug] [2024-04-01T03:02:03.950Z] CLI Version:   13.6.0
[debug] [2024-04-01T03:02:03.950Z] Platform:      win32
[debug] [2024-04-01T03:02:03.950Z] Node Version:  v19.6.0
[debug] [2024-04-01T03:02:03.950Z] Time:          Sun Mar 31 2024 20:02:03 GMT-0700 (Pacific Daylight Time)
[debug] [2024-04-01T03:02:03.950Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-04-01T03:02:03.987Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-04-01T03:02:03.987Z] > authorizing via signed-in user (achouhan0114@gmail.com)
[debug] [2024-04-01T03:02:03.987Z] [iam] checking project csc190-w for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]
[debug] [2024-04-01T03:02:03.989Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions [none]
[debug] [2024-04-01T03:02:03.989Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions x-goog-quota-user=projects/csc190-w
[debug] [2024-04-01T03:02:03.989Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2024-04-01T03:02:04.212Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions 200
[debug] [2024-04-01T03:02:04.213Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2024-04-01T03:02:04.213Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/csc190-w/serviceAccounts/csc190-w@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-04-01T03:02:04.213Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/csc190-w/serviceAccounts/csc190-w@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-04-01T03:02:04.489Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/csc190-w/serviceAccounts/csc190-w@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-04-01T03:02:04.489Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/csc190-w/serviceAccounts/csc190-w@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-04-01T03:02:04.489Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T03:02:04.678Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T03:02:04.678Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] 
[info] === Deploying to 'csc190-w'...
[info] 
[info] i  deploying functions, hosting 
[debug] [2024-04-01T03:02:04.680Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T03:02:05.016Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T03:02:05.016Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-04-01T03:02:05.017Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/cloudfunctions.googleapis.com [none]
[debug] [2024-04-01T03:02:05.017Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/csc190-w
[debug] [2024-04-01T03:02:05.018Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/runtimeconfig.googleapis.com [none]
[debug] [2024-04-01T03:02:05.018Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/csc190-w
[debug] [2024-04-01T03:02:05.018Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/cloudbuild.googleapis.com [none]
[debug] [2024-04-01T03:02:05.018Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/cloudbuild.googleapis.com x-goog-quota-user=projects/csc190-w
[debug] [2024-04-01T03:02:05.019Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/artifactregistry.googleapis.com [none]
[debug] [2024-04-01T03:02:05.019Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/artifactregistry.googleapis.com x-goog-quota-user=projects/csc190-w
[debug] [2024-04-01T03:02:05.519Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/cloudbuild.googleapis.com 200
[debug] [2024-04-01T03:02:05.519Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-04-01T03:02:05.534Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/artifactregistry.googleapis.com 200
[debug] [2024-04-01T03:02:05.534Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-04-01T03:02:05.549Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/runtimeconfig.googleapis.com 200
[debug] [2024-04-01T03:02:05.549Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-04-01T03:02:05.567Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/cloudfunctions.googleapis.com 200
[debug] [2024-04-01T03:02:05.567Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-04-01T03:02:05.567Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig [none]
[debug] [2024-04-01T03:02:05.725Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig 200
[debug] [2024-04-01T03:02:05.725Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig {"projectId":"csc190-w","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com"}
[debug] [2024-04-01T03:02:05.726Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs [none]
[debug] [2024-04-01T03:02:05.979Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs 200
[debug] [2024-04-01T03:02:05.979Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs {"configs":[{"name":"projects/csc190-w/configs/mailjet"},{"name":"projects/csc190-w/configs/stripe"}]}
[debug] [2024-04-01T03:02:05.979Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/mailjet/variables [none]
[debug] [2024-04-01T03:02:05.980Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/stripe/variables [none]
[debug] [2024-04-01T03:02:06.108Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/mailjet/variables 200
[debug] [2024-04-01T03:02:06.108Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/mailjet/variables {"variables":[{"name":"projects/csc190-w/configs/mailjet/variables/apikey","updateTime":"2024-03-29T07:14:03.231914245Z"},{"name":"projects/csc190-w/configs/mailjet/variables/secretkey","updateTime":"2024-03-29T07:14:04.044007098Z"}]}
[debug] [2024-04-01T03:02:06.108Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/mailjet/variables/apikey [none]
[debug] [2024-04-01T03:02:06.108Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/mailjet/variables/secretkey [none]
[debug] [2024-04-01T03:02:06.154Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/stripe/variables 200
[debug] [2024-04-01T03:02:06.154Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/stripe/variables {"variables":[{"name":"projects/csc190-w/configs/stripe/variables/secret_key","updateTime":"2024-03-31T20:40:04.327673553Z"},{"name":"projects/csc190-w/configs/stripe/variables/webhook_secret","updateTime":"2024-03-31T20:53:25.149785383Z"}]}
[debug] [2024-04-01T03:02:06.155Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/stripe/variables/secret_key [none]
[debug] [2024-04-01T03:02:06.155Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/stripe/variables/webhook_secret [none]
[debug] [2024-04-01T03:02:06.234Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/mailjet/variables/apikey 200
[debug] [2024-04-01T03:02:06.234Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/mailjet/variables/apikey {"name":"projects/csc190-w/configs/mailjet/variables/apikey","updateTime":"2024-03-29T07:14:03.231914245Z","text":"796f1880e9ff286cc1189a47ca778994"}
[debug] [2024-04-01T03:02:06.295Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/mailjet/variables/secretkey 200
[debug] [2024-04-01T03:02:06.295Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/mailjet/variables/secretkey {"name":"projects/csc190-w/configs/mailjet/variables/secretkey","updateTime":"2024-03-29T07:14:04.044007098Z","text":"42e7b70a7d0661a302a2bb0c0fd97037"}
[debug] [2024-04-01T03:02:06.320Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/stripe/variables/webhook_secret 200
[debug] [2024-04-01T03:02:06.320Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/stripe/variables/webhook_secret {"name":"projects/csc190-w/configs/stripe/variables/webhook_secret","updateTime":"2024-03-31T20:53:25.149785383Z","text":"whsec_0j8rXx7taYVT4t7aggamwqPKkOWHsS4v"}
[debug] [2024-04-01T03:02:06.411Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/stripe/variables/secret_key 200
[debug] [2024-04-01T03:02:06.411Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/stripe/variables/secret_key {"name":"projects/csc190-w/configs/stripe/variables/secret_key","updateTime":"2024-03-31T20:40:04.327673553Z","text":"sk_test_51OfAn1IHfTroUmcjRLjz2Fb41rjIwTbClLbtOpy0LKuJ6cbA0MU9YUuScSrj7IIvKaE8UTCRds1LfUXi4kn8Iwae002FPh92H2"}
[debug] [2024-04-01T03:02:06.412Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2024-04-01T03:02:07.153Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "ejs": "^3.1.9",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.13",
    "stripe": "^14.15.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-01T03:02:07.153Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-04-01T03:02:07.154Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-01T03:02:07.159Z] Found firebase-functions binary at 'C:\Users\Tel\CSC190_Website\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8296

[debug] [2024-04-01T03:02:07.511Z] Got response from /__/functions.yaml {"endpoints":{"sendEmailReceipt":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"retry":false},"labels":{},"entryPoint":"sendEmailReceipt"},"handleStripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\Tel\CSC190_Website\functions (69.49 KB) for uploading 
[debug] [2024-04-01T03:02:12.561Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/csc190-w/locations/-/functions [none]
[debug] [2024-04-01T03:02:13.005Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/csc190-w/locations/-/functions 200
[debug] [2024-04-01T03:02:13.005Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/csc190-w/locations/-/functions {"functions":[{"name":"projects/csc190-w/locations/us-central1/functions/createCheckoutSession","httpsTrigger":{"url":"https://us-central1-csc190-w.cloudfunctions.net/createCheckoutSession","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"createCheckoutSession","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"csc190-w@appspot.gserviceaccount.com","updateTime":"2024-04-01T00:36:40.930Z","versionId":"3","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"1402336711788754017c67c41d22c38f024a90d9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/e572c79c-1d57-4f4a-8651-5e1d6daf11c6.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/createCheckoutSession"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"d7be3c1b-d9b2-4b7b-8134-7f76f457dba8","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/d7be3c1b-d9b2-4b7b-8134-7f76f457dba8","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},{"name":"projects/csc190-w/locations/us-central1/functions/handleNewsletterRequest","httpsTrigger":{"url":"https://us-central1-csc190-w.cloudfunctions.net/handleNewsletterRequest","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"handleNewsletterRequest","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"csc190-w@appspot.gserviceaccount.com","updateTime":"2024-03-31T19:28:37.062Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"7f8e3da4d330965b7f673965281537e8bfdbd0c2"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/0e7a2a27-a5bf-4053-bdaa-a0d8a5701809.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/handleNewsletterRequest"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"03202b43-44f7-4eb0-bfd6-2ef38506de39","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/03202b43-44f7-4eb0-bfd6-2ef38506de39","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},{"name":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","httpsTrigger":{"url":"https://us-central1-csc190-w.cloudfunctions.net/handleStripeWebhook","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"handleStripeWebhook","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"csc190-w@appspot.gserviceaccount.com","updateTime":"2024-04-01T00:55:58.548Z","versionId":"11","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"317806cbd9e65650e0fef0b981c373f0716cd373"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/388ac7b3-9dae-452d-b0e0-be8ec59ec271.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},{"name":"projects/csc190-w/locations/us-central1/functions/sendEmailOnNewsletterRequest","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/csc190-w/databases/(default)/documents/newsletterRequests/{requestId}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"sendEmailOnNewsletterRequest","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"csc190-w@appspot.gserviceaccount.com","updateTime":"2024-03-31T19:28:34.046Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"7f8e3da4d330965b7f673965281537e8bfdbd0c2"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/0e7a2a27-a5bf-4053-bdaa-a0d8a5701809.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/sendEmailOnNewsletterRequest"},"runtime":"nodejs18","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"03202b43-44f7-4eb0-bfd6-2ef38506de39","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/03202b43-44f7-4eb0-bfd6-2ef38506de39","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},{"name":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"sendEmailReceipt","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"csc190-w@appspot.gserviceaccount.com","updateTime":"2024-04-01T00:55:55.001Z","versionId":"28","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"317806cbd9e65650e0fef0b981c373f0716cd373"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/388ac7b3-9dae-452d-b0e0-be8ec59ec271.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt"},"runtime":"nodejs18","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},{"name":"projects/csc190-w/locations/us-central1/functions/stripeWebhook","httpsTrigger":{"url":"https://us-central1-csc190-w.cloudfunctions.net/stripeWebhook","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"stripeWebhook","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"csc190-w@appspot.gserviceaccount.com","updateTime":"2024-04-01T00:54:57.368Z","versionId":"3","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"317806cbd9e65650e0fef0b981c373f0716cd373"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/388ac7b3-9dae-452d-b0e0-be8ec59ec271.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/stripeWebhook"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}}]}
[debug] [2024-04-01T03:02:13.006Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/csc190-w/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2024-04-01T03:02:13.600Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/csc190-w/locations/-/functions 200
[debug] [2024-04-01T03:02:13.600Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/csc190-w/locations/-/functions {}
[debug] [2024-04-01T03:02:13.602Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T03:02:13.805Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T03:02:13.806Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[debug] [2024-04-01T03:02:13.809Z] >>> [apiv2][query] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/csc190-w/versions [none]
[debug] [2024-04-01T03:02:13.809Z] >>> [apiv2][body] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/csc190-w/versions {"status":"CREATED","labels":{"deployment-tool":"cli-firebase"}}
[debug] [2024-04-01T03:02:14.574Z] <<< [apiv2][status] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/csc190-w/versions 200
[debug] [2024-04-01T03:02:14.574Z] <<< [apiv2][body] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/csc190-w/versions {"name":"projects/59153071763/sites/csc190-w/versions/24d713dd1cffb044","status":"CREATED","config":{},"labels":{"deployment-tool":"cli-firebase"}}
[debug] [2024-04-01T03:02:14.575Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/csc190-w/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2024-04-01T03:02:14.575Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/csc190-w/locations/us-central1/functions:generateUploadUrl {}
[debug] [2024-04-01T03:02:15.073Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/csc190-w/locations/us-central1/functions:generateUploadUrl 200
[debug] [2024-04-01T03:02:15.073Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/csc190-w/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/2c05d93b-12e4-4651-ac48-4223b5ddc83e.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942336&Signature=O7%2FDGYHVPEj2qLbbs81cSTL7na3rFkqEEhw63sU3%2Fs4lfwbVTK3aYkUC2OQ8mMJkK58n62cM22VYsouu8Oe5c7%2BRH%2FTrqlhpvBkBOkW74TirSr7OaBVbB8upUgPKtEmyieAwvGJyPsME7b%2FKfkO3F5r%2Bhzq%2FSzF5GOvNLYVEHmDIO6hsqOujfbVArBJfssCnNV2nb1NuWAKHQXCTiVL91%2B%2BD3VxTeekjWVYsyxzX1UaSjVvyz7Dq6zjqUMmDHcp6SYB50C4MedLRearnvT0WqUCZ0LL6OH%2FBPD1MZc76gVoZ6HQ53kFPpMFPYIMWAcWtJu8O1%2BdOR%2BGZ7XOyQv6Y7w%3D%3D"}
[debug] [2024-04-01T03:02:15.074Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/2c05d93b-12e4-4651-ac48-4223b5ddc83e.zip GoogleAccessId=service-59153071763%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942336&Signature=O7%2FDGYHVPEj2qLbbs81cSTL7na3rFkqEEhw63sU3%2Fs4lfwbVTK3aYkUC2OQ8mMJkK58n62cM22VYsouu8Oe5c7%2BRH%2FTrqlhpvBkBOkW74TirSr7OaBVbB8upUgPKtEmyieAwvGJyPsME7b%2FKfkO3F5r%2Bhzq%2FSzF5GOvNLYVEHmDIO6hsqOujfbVArBJfssCnNV2nb1NuWAKHQXCTiVL91%2B%2BD3VxTeekjWVYsyxzX1UaSjVvyz7Dq6zjqUMmDHcp6SYB50C4MedLRearnvT0WqUCZ0LL6OH%2FBPD1MZc76gVoZ6HQ53kFPpMFPYIMWAcWtJu8O1%2BdOR%2BGZ7XOyQv6Y7w%3D%3D
[debug] [2024-04-01T03:02:15.074Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/2c05d93b-12e4-4651-ac48-4223b5ddc83e.zip [stream]
[debug] [2024-04-01T03:02:15.405Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/2c05d93b-12e4-4651-ac48-4223b5ddc83e.zip 200
[debug] [2024-04-01T03:02:15.405Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/2c05d93b-12e4-4651-ac48-4223b5ddc83e.zip [omitted]
[info] +  functions: functions folder uploaded successfully 
[info] i  hosting[csc190-w]: beginning deploy... 
[info] i  hosting[csc190-w]: found 27 files in build 
[debug] [2024-04-01T03:02:15.411Z] [hosting] uploading with 200 concurrency
[debug] [2024-04-01T03:02:15.789Z] [hosting] hash cache [YnVpbGQ] stored for 27 files
[debug] [2024-04-01T03:02:15.789Z] [hosting][hash queue][FINAL] {"max":372,"min":2,"avg":24.62962962962963,"active":0,"complete":27,"success":27,"errored":0,"retried":0,"total":27,"elapsed":376}
[debug] [2024-04-01T03:02:15.790Z] >>> [apiv2][query] POST https://firebasehosting.googleapis.com/v1beta1/projects/59153071763/sites/csc190-w/versions/24d713dd1cffb044:populateFiles [none]
[debug] [2024-04-01T03:02:15.790Z] >>> [apiv2][body] POST https://firebasehosting.googleapis.com/v1beta1/projects/59153071763/sites/csc190-w/versions/24d713dd1cffb044:populateFiles {"files":{"/favicon.ico":"eae62e993eb980ec8a25058c39d5a51feab118bd2100c4deebb2a9c158ec11f9","/GEG-logo.png":"fb65c4e9ed1aa5e7d8ba29c549ecf2db2b940183bf4e4acf3863a3cd94eb66d7","/logo192.png":"3ee59515172ee198f3be375979df15ac5345183e656720a381b8872b2a39dc8b","/logo512.png":"ee7e2f3fdb8209c4b6fd7bef6ba50d1b9dba30a25bb5c3126df057e1cb6f5331","/manifest.json":"5c997de1364b8be939319fa9209abd77f2caf7f8844999a9e2e9173f844e7840","/robots.txt":"b2090cf9761ef60aa06e4fab97679bd43dfa5e5df073701ead5879d7c68f1ec5","/image/Soft Group Logo.png":"131858a07157b465e591b3bfe2c13f5ad1f6d4e3d85dd6cebd49885c1a493366","/image/testimage3.jpg":"00df77905bc4286d988015bf2ebec8a2a8fb1f45fb50f47095079b09e2afe572","/image/testprofile.jpg":"0a74950e7146ac7b242ff258c836267c781ff0107e42f73da54471d5611cbfdb","/asset-manifest.json":"7cf69faf97bba634a117bc18ed424209029a34141eb8e92bd63f432a8e7d716c","/index.html":"b7404a458f63ac9ac1312e8c5534bcfd9298bb45821f88c04ce54800458d8c1f","/static/js/787.0aa5bd9d.chunk.js":"b95c41081a3c2ebd608e0ee5ecdf87733eb60a1b6e861120bd7c39c55484e579","/static/js/main.ffd88924.js.LICENSE.txt":"00d703d5eb3d2a37fcac1577acc8001986e1966da9e6b9e727175ed016eeb4c4","/static/js/787.0aa5bd9d.chunk.js.map":"7789876740787ecce64d3c298ffde3d4cda73dc3e0701df69528a9bee4a26c65","/static/css/main.3903d4f5.css":"c7350f8b4d14348a7aaf7f344cfde1b6d2b60e33df81f6d1177787f488599aa5","/static/media/slick.2630a3e3eab21c607e21.svg":"d00477d40ed40fa1dd3bdee27d9286804121b15fea83bae7d5415d902b055de0","/static/media/slick.295183786cd8a1389865.woff":"029a727c9e1081d2f9e1015f02f18da88f268512ea4f58589a6f17f532928530","/static/media/slick.a4e97f5a2a64f0ab1323.eot":"52b9a169969e053d43df6bd21c4dc789c2518d99afd8590a17ef50cd24c77cf6","/static/media/slick.c94f7671dcc99dce43e2.ttf":"6aad751007cf9a89350af287f824ab64f096c472c7c9c679fb3d55b6174fc004","/static/media/trophy.48027391358c96b3378e.jpg":"cd19fa7a293cb5c8768df6e455a7d739199e0c43195e4c2f54e3ab197c2372df","/static/media/customer-service-icon.0c632c6387dea62c33c1.png":"2e21de5b99f153fde82102bb25173bccfb407b3843560b8ededbc56062086b02","/static/css/main.3903d4f5.css.map":"884f98b950ea31e63c4ccc4bcf6b60edaa1de0eaa1d3ec8106951547b6962f3f","/static/js/main.ffd88924.js":"75117e68ee7f61ee233d77ddf3de84b14462899bb21633dd0c403e0d1672cd2f","/static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png":"770c54814c0e4e926270a42985931fefa45fedb0cc8e18b9f24c1e1aa376a2a0","/static/media/GEG-white.bff8e9bf34096593d8bd.png":"5b1ecb32a05753e357b4895704f21977b3a58c0e32555d8c7b3970ac072bb8bc","/static/media/GEG-logo.f666891fecaab69ecb4f.png":"fb65c4e9ed1aa5e7d8ba29c549ecf2db2b940183bf4e4acf3863a3cd94eb66d7","/static/js/main.ffd88924.js.map":"6fad78fe0a4ed55adfc2fd1d7688b5e584587fd4cdc9f2b85f3382e2348b2287"}}
[debug] [2024-04-01T03:02:16.379Z] <<< [apiv2][status] POST https://firebasehosting.googleapis.com/v1beta1/projects/59153071763/sites/csc190-w/versions/24d713dd1cffb044:populateFiles 200
[debug] [2024-04-01T03:02:16.379Z] <<< [apiv2][body] POST https://firebasehosting.googleapis.com/v1beta1/projects/59153071763/sites/csc190-w/versions/24d713dd1cffb044:populateFiles {"uploadRequiredHashes":["6fad78fe0a4ed55adfc2fd1d7688b5e584587fd4cdc9f2b85f3382e2348b2287","75117e68ee7f61ee233d77ddf3de84b14462899bb21633dd0c403e0d1672cd2f","7cf69faf97bba634a117bc18ed424209029a34141eb8e92bd63f432a8e7d716c","b7404a458f63ac9ac1312e8c5534bcfd9298bb45821f88c04ce54800458d8c1f"],"uploadUrl":"https://upload-firebasehosting.googleapis.com/upload/sites/csc190-w/versions/24d713dd1cffb044/files"}
[debug] [2024-04-01T03:02:16.379Z] >>> [apiv2][query] POST https://upload-firebasehosting.googleapis.com/upload/sites/csc190-w/versions/24d713dd1cffb044/files/6fad78fe0a4ed55adfc2fd1d7688b5e584587fd4cdc9f2b85f3382e2348b2287 [none]
[debug] [2024-04-01T03:02:16.379Z] >>> [apiv2][body] POST https://upload-firebasehosting.googleapis.com/upload/sites/csc190-w/versions/24d713dd1cffb044/files/6fad78fe0a4ed55adfc2fd1d7688b5e584587fd4cdc9f2b85f3382e2348b2287 [stream]
[debug] [2024-04-01T03:02:16.380Z] >>> [apiv2][query] POST https://upload-firebasehosting.googleapis.com/upload/sites/csc190-w/versions/24d713dd1cffb044/files/75117e68ee7f61ee233d77ddf3de84b14462899bb21633dd0c403e0d1672cd2f [none]
[debug] [2024-04-01T03:02:16.380Z] >>> [apiv2][body] POST https://upload-firebasehosting.googleapis.com/upload/sites/csc190-w/versions/24d713dd1cffb044/files/75117e68ee7f61ee233d77ddf3de84b14462899bb21633dd0c403e0d1672cd2f [stream]
[debug] [2024-04-01T03:02:16.380Z] >>> [apiv2][query] POST https://upload-firebasehosting.googleapis.com/upload/sites/csc190-w/versions/24d713dd1cffb044/files/7cf69faf97bba634a117bc18ed424209029a34141eb8e92bd63f432a8e7d716c [none]
[debug] [2024-04-01T03:02:16.380Z] >>> [apiv2][body] POST https://upload-firebasehosting.googleapis.com/upload/sites/csc190-w/versions/24d713dd1cffb044/files/7cf69faf97bba634a117bc18ed424209029a34141eb8e92bd63f432a8e7d716c [stream]
[debug] [2024-04-01T03:02:16.381Z] >>> [apiv2][query] POST https://upload-firebasehosting.googleapis.com/upload/sites/csc190-w/versions/24d713dd1cffb044/files/b7404a458f63ac9ac1312e8c5534bcfd9298bb45821f88c04ce54800458d8c1f [none]
[debug] [2024-04-01T03:02:16.381Z] >>> [apiv2][body] POST https://upload-firebasehosting.googleapis.com/upload/sites/csc190-w/versions/24d713dd1cffb044/files/b7404a458f63ac9ac1312e8c5534bcfd9298bb45821f88c04ce54800458d8c1f [stream]
[debug] [2024-04-01T03:02:16.381Z] [hosting][populate queue][FINAL] {"max":591,"min":591,"avg":591,"active":0,"complete":1,"success":1,"errored":0,"retried":0,"total":1,"elapsed":593}
[debug] [2024-04-01T03:02:16.381Z] [hosting] uploads queued: 4
[debug] [2024-04-01T03:02:17.137Z] <<< [apiv2][status] POST https://upload-firebasehosting.googleapis.com/upload/sites/csc190-w/versions/24d713dd1cffb044/files/b7404a458f63ac9ac1312e8c5534bcfd9298bb45821f88c04ce54800458d8c1f 200
[debug] [2024-04-01T03:02:17.138Z] <<< [apiv2][body] POST https://upload-firebasehosting.googleapis.com/upload/sites/csc190-w/versions/24d713dd1cffb044/files/b7404a458f63ac9ac1312e8c5534bcfd9298bb45821f88c04ce54800458d8c1f [stream]
[debug] [2024-04-01T03:02:17.183Z] <<< [apiv2][status] POST https://upload-firebasehosting.googleapis.com/upload/sites/csc190-w/versions/24d713dd1cffb044/files/7cf69faf97bba634a117bc18ed424209029a34141eb8e92bd63f432a8e7d716c 200
[debug] [2024-04-01T03:02:17.183Z] <<< [apiv2][body] POST https://upload-firebasehosting.googleapis.com/upload/sites/csc190-w/versions/24d713dd1cffb044/files/7cf69faf97bba634a117bc18ed424209029a34141eb8e92bd63f432a8e7d716c [stream]
[debug] [2024-04-01T03:02:17.248Z] <<< [apiv2][status] POST https://upload-firebasehosting.googleapis.com/upload/sites/csc190-w/versions/24d713dd1cffb044/files/75117e68ee7f61ee233d77ddf3de84b14462899bb21633dd0c403e0d1672cd2f 200
[debug] [2024-04-01T03:02:17.249Z] <<< [apiv2][body] POST https://upload-firebasehosting.googleapis.com/upload/sites/csc190-w/versions/24d713dd1cffb044/files/75117e68ee7f61ee233d77ddf3de84b14462899bb21633dd0c403e0d1672cd2f [stream]
[debug] [2024-04-01T03:02:17.327Z] <<< [apiv2][status] POST https://upload-firebasehosting.googleapis.com/upload/sites/csc190-w/versions/24d713dd1cffb044/files/6fad78fe0a4ed55adfc2fd1d7688b5e584587fd4cdc9f2b85f3382e2348b2287 200
[debug] [2024-04-01T03:02:17.327Z] <<< [apiv2][body] POST https://upload-firebasehosting.googleapis.com/upload/sites/csc190-w/versions/24d713dd1cffb044/files/6fad78fe0a4ed55adfc2fd1d7688b5e584587fd4cdc9f2b85f3382e2348b2287 [stream]
[debug] [2024-04-01T03:02:17.327Z] [hosting][upload queue][FINAL] {"max":948,"min":759,"avg":845.25,"active":0,"complete":4,"success":4,"errored":0,"retried":0,"total":4,"elapsed":948}
[info] +  hosting[csc190-w]: file upload complete 
[debug] [2024-04-01T03:02:17.328Z] [hosting] deploy completed after 1922ms
[info] 
The following functions are found in your project but do not exist in your local source code:
	createCheckoutSession(us-central1)
	handleNewsletterRequest(us-central1)
	sendEmailOnNewsletterRequest(us-central1)
	stripeWebhook(us-central1)

If you are renaming a function or changing its region, it is recommended that you create the new function first before deleting the old one to prevent event loss. For more info, visit https://firebase.google.com/docs/functions/manage-functions#modify

[info] i  functions: updating Node.js 18 (1st Gen) function sendEmailReceipt(us-central1)... 
[info] i  functions: updating Node.js 18 (1st Gen) function handleStripeWebhook(us-central1)... 
[debug] [2024-04-01T03:02:45.966Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/csc190-w/locations/us-central1/functions/sendEmailReceipt updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2CeventTrigger.eventType%2CeventTrigger.resource%2CeventTrigger.failurePolicy%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2024-04-01T03:02:45.967Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/csc190-w/locations/us-central1/functions/sendEmailReceipt {"name":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/2c05d93b-12e4-4651-ac48-4223b5ddc83e.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942336&Signature=O7%2FDGYHVPEj2qLbbs81cSTL7na3rFkqEEhw63sU3%2Fs4lfwbVTK3aYkUC2OQ8mMJkK58n62cM22VYsouu8Oe5c7%2BRH%2FTrqlhpvBkBOkW74TirSr7OaBVbB8upUgPKtEmyieAwvGJyPsME7b%2FKfkO3F5r%2Bhzq%2FSzF5GOvNLYVEHmDIO6hsqOujfbVArBJfssCnNV2nb1NuWAKHQXCTiVL91%2B%2BD3VxTeekjWVYsyxzX1UaSjVvyz7Dq6zjqUMmDHcp6SYB50C4MedLRearnvT0WqUCZ0LL6OH%2FBPD1MZc76gVoZ6HQ53kFPpMFPYIMWAcWtJu8O1%2BdOR%2BGZ7XOyQv6Y7w%3D%3D","entryPoint":"sendEmailReceipt","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2024-04-01T03:02:46.533Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/csc190-w/locations/us-central1/functions/sendEmailReceipt 200
[debug] [2024-04-01T03:02:46.533Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/csc190-w/locations/us-central1/functions/sendEmailReceipt {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmailReceipt","updateTime":"2024-04-01T00:55:55.001Z","versionId":"28","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/2c05d93b-12e4-4651-ac48-4223b5ddc83e.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942336&Signature=O7%2FDGYHVPEj2qLbbs81cSTL7na3rFkqEEhw63sU3%2Fs4lfwbVTK3aYkUC2OQ8mMJkK58n62cM22VYsouu8Oe5c7%2BRH%2FTrqlhpvBkBOkW74TirSr7OaBVbB8upUgPKtEmyieAwvGJyPsME7b%2FKfkO3F5r%2Bhzq%2FSzF5GOvNLYVEHmDIO6hsqOujfbVArBJfssCnNV2nb1NuWAKHQXCTiVL91%2B%2BD3VxTeekjWVYsyxzX1UaSjVvyz7Dq6zjqUMmDHcp6SYB50C4MedLRearnvT0WqUCZ0LL6OH%2FBPD1MZc76gVoZ6HQ53kFPpMFPYIMWAcWtJu8O1%2BdOR%2BGZ7XOyQv6Y7w%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"29","updateTime":"2024-04-01T03:02:47Z"}}
[debug] [2024-04-01T03:02:46.534Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ [none]
[debug] [2024-04-01T03:02:46.703Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ 200
[debug] [2024-04-01T03:02:46.703Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmailReceipt","updateTime":"2024-04-01T00:55:55.001Z","versionId":"28","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/2c05d93b-12e4-4651-ac48-4223b5ddc83e.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942336&Signature=O7%2FDGYHVPEj2qLbbs81cSTL7na3rFkqEEhw63sU3%2Fs4lfwbVTK3aYkUC2OQ8mMJkK58n62cM22VYsouu8Oe5c7%2BRH%2FTrqlhpvBkBOkW74TirSr7OaBVbB8upUgPKtEmyieAwvGJyPsME7b%2FKfkO3F5r%2Bhzq%2FSzF5GOvNLYVEHmDIO6hsqOujfbVArBJfssCnNV2nb1NuWAKHQXCTiVL91%2B%2BD3VxTeekjWVYsyxzX1UaSjVvyz7Dq6zjqUMmDHcp6SYB50C4MedLRearnvT0WqUCZ0LL6OH%2FBPD1MZc76gVoZ6HQ53kFPpMFPYIMWAcWtJu8O1%2BdOR%2BGZ7XOyQv6Y7w%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"29","updateTime":"2024-04-01T03:02:47Z"}}
[debug] [2024-04-01T03:02:47.207Z] [update-default-us-central1-sendEmailReceipt] Retrying task index 0
[debug] [2024-04-01T03:02:47.207Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ [none]
[debug] [2024-04-01T03:02:47.418Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ 200
[debug] [2024-04-01T03:02:47.418Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmailReceipt","updateTime":"2024-04-01T00:55:55.001Z","versionId":"28","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/2c05d93b-12e4-4651-ac48-4223b5ddc83e.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942336&Signature=O7%2FDGYHVPEj2qLbbs81cSTL7na3rFkqEEhw63sU3%2Fs4lfwbVTK3aYkUC2OQ8mMJkK58n62cM22VYsouu8Oe5c7%2BRH%2FTrqlhpvBkBOkW74TirSr7OaBVbB8upUgPKtEmyieAwvGJyPsME7b%2FKfkO3F5r%2Bhzq%2FSzF5GOvNLYVEHmDIO6hsqOujfbVArBJfssCnNV2nb1NuWAKHQXCTiVL91%2B%2BD3VxTeekjWVYsyxzX1UaSjVvyz7Dq6zjqUMmDHcp6SYB50C4MedLRearnvT0WqUCZ0LL6OH%2FBPD1MZc76gVoZ6HQ53kFPpMFPYIMWAcWtJu8O1%2BdOR%2BGZ7XOyQv6Y7w%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"29","updateTime":"2024-04-01T03:02:47Z"}}
[debug] [2024-04-01T03:02:48.430Z] [update-default-us-central1-sendEmailReceipt] Retrying task index 0
[debug] [2024-04-01T03:02:48.430Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ [none]
[debug] [2024-04-01T03:02:48.633Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ 200
[debug] [2024-04-01T03:02:48.633Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmailReceipt","updateTime":"2024-04-01T00:55:55.001Z","versionId":"28","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/2c05d93b-12e4-4651-ac48-4223b5ddc83e.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942336&Signature=O7%2FDGYHVPEj2qLbbs81cSTL7na3rFkqEEhw63sU3%2Fs4lfwbVTK3aYkUC2OQ8mMJkK58n62cM22VYsouu8Oe5c7%2BRH%2FTrqlhpvBkBOkW74TirSr7OaBVbB8upUgPKtEmyieAwvGJyPsME7b%2FKfkO3F5r%2Bhzq%2FSzF5GOvNLYVEHmDIO6hsqOujfbVArBJfssCnNV2nb1NuWAKHQXCTiVL91%2B%2BD3VxTeekjWVYsyxzX1UaSjVvyz7Dq6zjqUMmDHcp6SYB50C4MedLRearnvT0WqUCZ0LL6OH%2FBPD1MZc76gVoZ6HQ53kFPpMFPYIMWAcWtJu8O1%2BdOR%2BGZ7XOyQv6Y7w%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"29","updateTime":"2024-04-01T03:02:47Z","buildId":"7433a1f6-09b6-4090-ab7d-56837f64b3da","buildName":"projects/59153071763/locations/us-central1/builds/7433a1f6-09b6-4090-ab7d-56837f64b3da"}}
[debug] [2024-04-01T03:02:50.646Z] [update-default-us-central1-sendEmailReceipt] Retrying task index 0
[debug] [2024-04-01T03:02:50.646Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ [none]
[debug] [2024-04-01T03:02:50.783Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ 200
[debug] [2024-04-01T03:02:50.783Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmailReceipt","updateTime":"2024-04-01T00:55:55.001Z","versionId":"28","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/2c05d93b-12e4-4651-ac48-4223b5ddc83e.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942336&Signature=O7%2FDGYHVPEj2qLbbs81cSTL7na3rFkqEEhw63sU3%2Fs4lfwbVTK3aYkUC2OQ8mMJkK58n62cM22VYsouu8Oe5c7%2BRH%2FTrqlhpvBkBOkW74TirSr7OaBVbB8upUgPKtEmyieAwvGJyPsME7b%2FKfkO3F5r%2Bhzq%2FSzF5GOvNLYVEHmDIO6hsqOujfbVArBJfssCnNV2nb1NuWAKHQXCTiVL91%2B%2BD3VxTeekjWVYsyxzX1UaSjVvyz7Dq6zjqUMmDHcp6SYB50C4MedLRearnvT0WqUCZ0LL6OH%2FBPD1MZc76gVoZ6HQ53kFPpMFPYIMWAcWtJu8O1%2BdOR%2BGZ7XOyQv6Y7w%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"29","updateTime":"2024-04-01T03:02:47Z","buildId":"7433a1f6-09b6-4090-ab7d-56837f64b3da","buildName":"projects/59153071763/locations/us-central1/builds/7433a1f6-09b6-4090-ab7d-56837f64b3da"}}
[debug] [2024-04-01T03:02:54.792Z] [update-default-us-central1-sendEmailReceipt] Retrying task index 0
[debug] [2024-04-01T03:02:54.792Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ [none]
[debug] [2024-04-01T03:02:54.924Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ 200
[debug] [2024-04-01T03:02:54.924Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmailReceipt","updateTime":"2024-04-01T00:55:55.001Z","versionId":"28","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/2c05d93b-12e4-4651-ac48-4223b5ddc83e.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942336&Signature=O7%2FDGYHVPEj2qLbbs81cSTL7na3rFkqEEhw63sU3%2Fs4lfwbVTK3aYkUC2OQ8mMJkK58n62cM22VYsouu8Oe5c7%2BRH%2FTrqlhpvBkBOkW74TirSr7OaBVbB8upUgPKtEmyieAwvGJyPsME7b%2FKfkO3F5r%2Bhzq%2FSzF5GOvNLYVEHmDIO6hsqOujfbVArBJfssCnNV2nb1NuWAKHQXCTiVL91%2B%2BD3VxTeekjWVYsyxzX1UaSjVvyz7Dq6zjqUMmDHcp6SYB50C4MedLRearnvT0WqUCZ0LL6OH%2FBPD1MZc76gVoZ6HQ53kFPpMFPYIMWAcWtJu8O1%2BdOR%2BGZ7XOyQv6Y7w%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"29","updateTime":"2024-04-01T03:02:47Z","buildId":"7433a1f6-09b6-4090-ab7d-56837f64b3da","buildName":"projects/59153071763/locations/us-central1/builds/7433a1f6-09b6-4090-ab7d-56837f64b3da"}}
[debug] [2024-04-01T03:03:02.925Z] [update-default-us-central1-sendEmailReceipt] Retrying task index 0
[debug] [2024-04-01T03:03:02.925Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ [none]
[debug] [2024-04-01T03:03:03.095Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ 200
[debug] [2024-04-01T03:03:03.095Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmailReceipt","updateTime":"2024-04-01T00:55:55.001Z","versionId":"28","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/2c05d93b-12e4-4651-ac48-4223b5ddc83e.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942336&Signature=O7%2FDGYHVPEj2qLbbs81cSTL7na3rFkqEEhw63sU3%2Fs4lfwbVTK3aYkUC2OQ8mMJkK58n62cM22VYsouu8Oe5c7%2BRH%2FTrqlhpvBkBOkW74TirSr7OaBVbB8upUgPKtEmyieAwvGJyPsME7b%2FKfkO3F5r%2Bhzq%2FSzF5GOvNLYVEHmDIO6hsqOujfbVArBJfssCnNV2nb1NuWAKHQXCTiVL91%2B%2BD3VxTeekjWVYsyxzX1UaSjVvyz7Dq6zjqUMmDHcp6SYB50C4MedLRearnvT0WqUCZ0LL6OH%2FBPD1MZc76gVoZ6HQ53kFPpMFPYIMWAcWtJu8O1%2BdOR%2BGZ7XOyQv6Y7w%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"29","updateTime":"2024-04-01T03:02:47Z","buildId":"7433a1f6-09b6-4090-ab7d-56837f64b3da","buildName":"projects/59153071763/locations/us-central1/builds/7433a1f6-09b6-4090-ab7d-56837f64b3da"}}
[debug] [2024-04-01T03:03:13.101Z] [update-default-us-central1-sendEmailReceipt] Retrying task index 0
[debug] [2024-04-01T03:03:13.101Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ [none]
[debug] [2024-04-01T03:03:13.269Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ 200
[debug] [2024-04-01T03:03:13.269Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmailReceipt","updateTime":"2024-04-01T00:55:55.001Z","versionId":"28","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/2c05d93b-12e4-4651-ac48-4223b5ddc83e.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942336&Signature=O7%2FDGYHVPEj2qLbbs81cSTL7na3rFkqEEhw63sU3%2Fs4lfwbVTK3aYkUC2OQ8mMJkK58n62cM22VYsouu8Oe5c7%2BRH%2FTrqlhpvBkBOkW74TirSr7OaBVbB8upUgPKtEmyieAwvGJyPsME7b%2FKfkO3F5r%2Bhzq%2FSzF5GOvNLYVEHmDIO6hsqOujfbVArBJfssCnNV2nb1NuWAKHQXCTiVL91%2B%2BD3VxTeekjWVYsyxzX1UaSjVvyz7Dq6zjqUMmDHcp6SYB50C4MedLRearnvT0WqUCZ0LL6OH%2FBPD1MZc76gVoZ6HQ53kFPpMFPYIMWAcWtJu8O1%2BdOR%2BGZ7XOyQv6Y7w%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"29","updateTime":"2024-04-01T03:02:47Z","buildId":"7433a1f6-09b6-4090-ab7d-56837f64b3da","buildName":"projects/59153071763/locations/us-central1/builds/7433a1f6-09b6-4090-ab7d-56837f64b3da"}}
[debug] [2024-04-01T03:03:23.279Z] [update-default-us-central1-sendEmailReceipt] Retrying task index 0
[debug] [2024-04-01T03:03:23.279Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ [none]
[debug] [2024-04-01T03:03:23.587Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ 200
[debug] [2024-04-01T03:03:23.587Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmailReceipt","updateTime":"2024-04-01T00:55:55.001Z","versionId":"28","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/2c05d93b-12e4-4651-ac48-4223b5ddc83e.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942336&Signature=O7%2FDGYHVPEj2qLbbs81cSTL7na3rFkqEEhw63sU3%2Fs4lfwbVTK3aYkUC2OQ8mMJkK58n62cM22VYsouu8Oe5c7%2BRH%2FTrqlhpvBkBOkW74TirSr7OaBVbB8upUgPKtEmyieAwvGJyPsME7b%2FKfkO3F5r%2Bhzq%2FSzF5GOvNLYVEHmDIO6hsqOujfbVArBJfssCnNV2nb1NuWAKHQXCTiVL91%2B%2BD3VxTeekjWVYsyxzX1UaSjVvyz7Dq6zjqUMmDHcp6SYB50C4MedLRearnvT0WqUCZ0LL6OH%2FBPD1MZc76gVoZ6HQ53kFPpMFPYIMWAcWtJu8O1%2BdOR%2BGZ7XOyQv6Y7w%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"29","updateTime":"2024-04-01T03:02:47Z","buildId":"7433a1f6-09b6-4090-ab7d-56837f64b3da","buildName":"projects/59153071763/locations/us-central1/builds/7433a1f6-09b6-4090-ab7d-56837f64b3da"}}
[debug] [2024-04-01T03:03:33.602Z] [update-default-us-central1-sendEmailReceipt] Retrying task index 0
[debug] [2024-04-01T03:03:33.603Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ [none]
[debug] [2024-04-01T03:03:33.770Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ 200
[debug] [2024-04-01T03:03:33.770Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmailReceipt","updateTime":"2024-04-01T00:55:55.001Z","versionId":"28","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/2c05d93b-12e4-4651-ac48-4223b5ddc83e.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942336&Signature=O7%2FDGYHVPEj2qLbbs81cSTL7na3rFkqEEhw63sU3%2Fs4lfwbVTK3aYkUC2OQ8mMJkK58n62cM22VYsouu8Oe5c7%2BRH%2FTrqlhpvBkBOkW74TirSr7OaBVbB8upUgPKtEmyieAwvGJyPsME7b%2FKfkO3F5r%2Bhzq%2FSzF5GOvNLYVEHmDIO6hsqOujfbVArBJfssCnNV2nb1NuWAKHQXCTiVL91%2B%2BD3VxTeekjWVYsyxzX1UaSjVvyz7Dq6zjqUMmDHcp6SYB50C4MedLRearnvT0WqUCZ0LL6OH%2FBPD1MZc76gVoZ6HQ53kFPpMFPYIMWAcWtJu8O1%2BdOR%2BGZ7XOyQv6Y7w%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"29","updateTime":"2024-04-01T03:02:47Z","buildId":"7433a1f6-09b6-4090-ab7d-56837f64b3da","sourceToken":"b6163690-4fea-44e4-9af1-edd677e685a3","buildName":"projects/59153071763/locations/us-central1/builds/7433a1f6-09b6-4090-ab7d-56837f64b3da"}}
[debug] [2024-04-01T03:03:33.770Z] Got source token b6163690-4fea-44e4-9af1-edd677e685a3 for region us-central1
[debug] [2024-04-01T03:03:33.770Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/csc190-w/locations/us-central1/functions/handleStripeWebhook updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2024-04-01T03:03:33.770Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/csc190-w/locations/us-central1/functions/handleStripeWebhook {"name":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/2c05d93b-12e4-4651-ac48-4223b5ddc83e.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942336&Signature=O7%2FDGYHVPEj2qLbbs81cSTL7na3rFkqEEhw63sU3%2Fs4lfwbVTK3aYkUC2OQ8mMJkK58n62cM22VYsouu8Oe5c7%2BRH%2FTrqlhpvBkBOkW74TirSr7OaBVbB8upUgPKtEmyieAwvGJyPsME7b%2FKfkO3F5r%2Bhzq%2FSzF5GOvNLYVEHmDIO6hsqOujfbVArBJfssCnNV2nb1NuWAKHQXCTiVL91%2B%2BD3VxTeekjWVYsyxzX1UaSjVvyz7Dq6zjqUMmDHcp6SYB50C4MedLRearnvT0WqUCZ0LL6OH%2FBPD1MZc76gVoZ6HQ53kFPpMFPYIMWAcWtJu8O1%2BdOR%2BGZ7XOyQv6Y7w%3D%3D","entryPoint":"handleStripeWebhook","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"sourceToken":"b6163690-4fea-44e4-9af1-edd677e685a3","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2024-04-01T03:03:34.187Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/csc190-w/locations/us-central1/functions/handleStripeWebhook 200
[debug] [2024-04-01T03:03:34.187Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/csc190-w/locations/us-central1/functions/handleStripeWebhook {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay9wV0lWVlE5ZDJxMA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","httpsTrigger":{"url":"https://us-central1-csc190-w.cloudfunctions.net/handleStripeWebhook","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"handleStripeWebhook","updateTime":"2024-04-01T00:55:58.548Z","versionId":"11","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/2c05d93b-12e4-4651-ac48-4223b5ddc83e.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942336&Signature=O7%2FDGYHVPEj2qLbbs81cSTL7na3rFkqEEhw63sU3%2Fs4lfwbVTK3aYkUC2OQ8mMJkK58n62cM22VYsouu8Oe5c7%2BRH%2FTrqlhpvBkBOkW74TirSr7OaBVbB8upUgPKtEmyieAwvGJyPsME7b%2FKfkO3F5r%2Bhzq%2FSzF5GOvNLYVEHmDIO6hsqOujfbVArBJfssCnNV2nb1NuWAKHQXCTiVL91%2B%2BD3VxTeekjWVYsyxzX1UaSjVvyz7Dq6zjqUMmDHcp6SYB50C4MedLRearnvT0WqUCZ0LL6OH%2FBPD1MZc76gVoZ6HQ53kFPpMFPYIMWAcWtJu8O1%2BdOR%2BGZ7XOyQv6Y7w%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"b6163690-4fea-44e4-9af1-edd677e685a3","buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"12","updateTime":"2024-04-01T03:03:35Z","sourceToken":"b6163690-4fea-44e4-9af1-edd677e685a3"}}
[debug] [2024-04-01T03:03:34.188Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay9wV0lWVlE5ZDJxMA [none]
[debug] [2024-04-01T03:03:34.317Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay9wV0lWVlE5ZDJxMA 200
[debug] [2024-04-01T03:03:34.317Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay9wV0lWVlE5ZDJxMA {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay9wV0lWVlE5ZDJxMA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","httpsTrigger":{"url":"https://us-central1-csc190-w.cloudfunctions.net/handleStripeWebhook","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"handleStripeWebhook","updateTime":"2024-04-01T00:55:58.548Z","versionId":"11","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/2c05d93b-12e4-4651-ac48-4223b5ddc83e.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942336&Signature=O7%2FDGYHVPEj2qLbbs81cSTL7na3rFkqEEhw63sU3%2Fs4lfwbVTK3aYkUC2OQ8mMJkK58n62cM22VYsouu8Oe5c7%2BRH%2FTrqlhpvBkBOkW74TirSr7OaBVbB8upUgPKtEmyieAwvGJyPsME7b%2FKfkO3F5r%2Bhzq%2FSzF5GOvNLYVEHmDIO6hsqOujfbVArBJfssCnNV2nb1NuWAKHQXCTiVL91%2B%2BD3VxTeekjWVYsyxzX1UaSjVvyz7Dq6zjqUMmDHcp6SYB50C4MedLRearnvT0WqUCZ0LL6OH%2FBPD1MZc76gVoZ6HQ53kFPpMFPYIMWAcWtJu8O1%2BdOR%2BGZ7XOyQv6Y7w%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"b6163690-4fea-44e4-9af1-edd677e685a3","buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"12","updateTime":"2024-04-01T03:03:35Z","sourceToken":"b6163690-4fea-44e4-9af1-edd677e685a3"}}
[debug] [2024-04-01T03:03:34.317Z] Got source token b6163690-4fea-44e4-9af1-edd677e685a3 for region us-central1
[debug] [2024-04-01T03:03:34.823Z] [update-default-us-central1-handleStripeWebhook] Retrying task index 0
[debug] [2024-04-01T03:03:34.824Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay9wV0lWVlE5ZDJxMA [none]
[debug] [2024-04-01T03:03:34.963Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay9wV0lWVlE5ZDJxMA 200
[debug] [2024-04-01T03:03:34.963Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay9wV0lWVlE5ZDJxMA {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay9wV0lWVlE5ZDJxMA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","httpsTrigger":{"url":"https://us-central1-csc190-w.cloudfunctions.net/handleStripeWebhook","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"handleStripeWebhook","updateTime":"2024-04-01T00:55:58.548Z","versionId":"11","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/2c05d93b-12e4-4651-ac48-4223b5ddc83e.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942336&Signature=O7%2FDGYHVPEj2qLbbs81cSTL7na3rFkqEEhw63sU3%2Fs4lfwbVTK3aYkUC2OQ8mMJkK58n62cM22VYsouu8Oe5c7%2BRH%2FTrqlhpvBkBOkW74TirSr7OaBVbB8upUgPKtEmyieAwvGJyPsME7b%2FKfkO3F5r%2Bhzq%2FSzF5GOvNLYVEHmDIO6hsqOujfbVArBJfssCnNV2nb1NuWAKHQXCTiVL91%2B%2BD3VxTeekjWVYsyxzX1UaSjVvyz7Dq6zjqUMmDHcp6SYB50C4MedLRearnvT0WqUCZ0LL6OH%2FBPD1MZc76gVoZ6HQ53kFPpMFPYIMWAcWtJu8O1%2BdOR%2BGZ7XOyQv6Y7w%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"b6163690-4fea-44e4-9af1-edd677e685a3","buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"12","updateTime":"2024-04-01T03:03:35Z","buildId":"7433a1f6-09b6-4090-ab7d-56837f64b3da","sourceToken":"b6163690-4fea-44e4-9af1-edd677e685a3","buildName":"projects/59153071763/locations/us-central1/builds/7433a1f6-09b6-4090-ab7d-56837f64b3da"}}
[debug] [2024-04-01T03:03:34.963Z] Got source token b6163690-4fea-44e4-9af1-edd677e685a3 for region us-central1
[debug] [2024-04-01T03:03:35.964Z] [update-default-us-central1-handleStripeWebhook] Retrying task index 0
[debug] [2024-04-01T03:03:35.964Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay9wV0lWVlE5ZDJxMA [none]
[debug] [2024-04-01T03:03:36.109Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay9wV0lWVlE5ZDJxMA 200
[debug] [2024-04-01T03:03:36.109Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay9wV0lWVlE5ZDJxMA {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay9wV0lWVlE5ZDJxMA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","httpsTrigger":{"url":"https://us-central1-csc190-w.cloudfunctions.net/handleStripeWebhook","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"handleStripeWebhook","updateTime":"2024-04-01T00:55:58.548Z","versionId":"11","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/2c05d93b-12e4-4651-ac48-4223b5ddc83e.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942336&Signature=O7%2FDGYHVPEj2qLbbs81cSTL7na3rFkqEEhw63sU3%2Fs4lfwbVTK3aYkUC2OQ8mMJkK58n62cM22VYsouu8Oe5c7%2BRH%2FTrqlhpvBkBOkW74TirSr7OaBVbB8upUgPKtEmyieAwvGJyPsME7b%2FKfkO3F5r%2Bhzq%2FSzF5GOvNLYVEHmDIO6hsqOujfbVArBJfssCnNV2nb1NuWAKHQXCTiVL91%2B%2BD3VxTeekjWVYsyxzX1UaSjVvyz7Dq6zjqUMmDHcp6SYB50C4MedLRearnvT0WqUCZ0LL6OH%2FBPD1MZc76gVoZ6HQ53kFPpMFPYIMWAcWtJu8O1%2BdOR%2BGZ7XOyQv6Y7w%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"b6163690-4fea-44e4-9af1-edd677e685a3","buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"12","updateTime":"2024-04-01T03:03:35Z","buildId":"7433a1f6-09b6-4090-ab7d-56837f64b3da","sourceToken":"b6163690-4fea-44e4-9af1-edd677e685a3","buildName":"projects/59153071763/locations/us-central1/builds/7433a1f6-09b6-4090-ab7d-56837f64b3da"}}
[debug] [2024-04-01T03:03:36.109Z] Got source token b6163690-4fea-44e4-9af1-edd677e685a3 for region us-central1
[debug] [2024-04-01T03:03:38.113Z] [update-default-us-central1-handleStripeWebhook] Retrying task index 0
[debug] [2024-04-01T03:03:38.113Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay9wV0lWVlE5ZDJxMA [none]
[debug] [2024-04-01T03:03:38.248Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay9wV0lWVlE5ZDJxMA 200
[debug] [2024-04-01T03:03:38.248Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay9wV0lWVlE5ZDJxMA {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay9wV0lWVlE5ZDJxMA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","httpsTrigger":{"url":"https://us-central1-csc190-w.cloudfunctions.net/handleStripeWebhook","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"handleStripeWebhook","updateTime":"2024-04-01T00:55:58.548Z","versionId":"11","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/2c05d93b-12e4-4651-ac48-4223b5ddc83e.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942336&Signature=O7%2FDGYHVPEj2qLbbs81cSTL7na3rFkqEEhw63sU3%2Fs4lfwbVTK3aYkUC2OQ8mMJkK58n62cM22VYsouu8Oe5c7%2BRH%2FTrqlhpvBkBOkW74TirSr7OaBVbB8upUgPKtEmyieAwvGJyPsME7b%2FKfkO3F5r%2Bhzq%2FSzF5GOvNLYVEHmDIO6hsqOujfbVArBJfssCnNV2nb1NuWAKHQXCTiVL91%2B%2BD3VxTeekjWVYsyxzX1UaSjVvyz7Dq6zjqUMmDHcp6SYB50C4MedLRearnvT0WqUCZ0LL6OH%2FBPD1MZc76gVoZ6HQ53kFPpMFPYIMWAcWtJu8O1%2BdOR%2BGZ7XOyQv6Y7w%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"b6163690-4fea-44e4-9af1-edd677e685a3","buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"12","updateTime":"2024-04-01T03:03:35Z","buildId":"7433a1f6-09b6-4090-ab7d-56837f64b3da","sourceToken":"b6163690-4fea-44e4-9af1-edd677e685a3","buildName":"projects/59153071763/locations/us-central1/builds/7433a1f6-09b6-4090-ab7d-56837f64b3da"}}
[debug] [2024-04-01T03:03:38.249Z] Got source token b6163690-4fea-44e4-9af1-edd677e685a3 for region us-central1
[debug] [2024-04-01T03:03:42.264Z] [update-default-us-central1-handleStripeWebhook] Retrying task index 0
[debug] [2024-04-01T03:03:42.264Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay9wV0lWVlE5ZDJxMA [none]
[debug] [2024-04-01T03:03:42.648Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay9wV0lWVlE5ZDJxMA 200
[debug] [2024-04-01T03:03:42.648Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay9wV0lWVlE5ZDJxMA {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay9wV0lWVlE5ZDJxMA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","httpsTrigger":{"url":"https://us-central1-csc190-w.cloudfunctions.net/handleStripeWebhook","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"handleStripeWebhook","updateTime":"2024-04-01T00:55:58.548Z","versionId":"11","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/2c05d93b-12e4-4651-ac48-4223b5ddc83e.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942336&Signature=O7%2FDGYHVPEj2qLbbs81cSTL7na3rFkqEEhw63sU3%2Fs4lfwbVTK3aYkUC2OQ8mMJkK58n62cM22VYsouu8Oe5c7%2BRH%2FTrqlhpvBkBOkW74TirSr7OaBVbB8upUgPKtEmyieAwvGJyPsME7b%2FKfkO3F5r%2Bhzq%2FSzF5GOvNLYVEHmDIO6hsqOujfbVArBJfssCnNV2nb1NuWAKHQXCTiVL91%2B%2BD3VxTeekjWVYsyxzX1UaSjVvyz7Dq6zjqUMmDHcp6SYB50C4MedLRearnvT0WqUCZ0LL6OH%2FBPD1MZc76gVoZ6HQ53kFPpMFPYIMWAcWtJu8O1%2BdOR%2BGZ7XOyQv6Y7w%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"b6163690-4fea-44e4-9af1-edd677e685a3","buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"12","updateTime":"2024-04-01T03:03:35Z","buildId":"7433a1f6-09b6-4090-ab7d-56837f64b3da","sourceToken":"b6163690-4fea-44e4-9af1-edd677e685a3","buildName":"projects/59153071763/locations/us-central1/builds/7433a1f6-09b6-4090-ab7d-56837f64b3da"}}
[debug] [2024-04-01T03:03:42.648Z] Got source token b6163690-4fea-44e4-9af1-edd677e685a3 for region us-central1
[debug] [2024-04-01T03:03:43.777Z] [update-default-us-central1-sendEmailReceipt] Retrying task index 0
[debug] [2024-04-01T03:03:43.778Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ [none]
[debug] [2024-04-01T03:03:43.911Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ 200
[debug] [2024-04-01T03:03:43.912Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmailReceipt","updateTime":"2024-04-01T00:55:55.001Z","versionId":"28","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/2c05d93b-12e4-4651-ac48-4223b5ddc83e.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942336&Signature=O7%2FDGYHVPEj2qLbbs81cSTL7na3rFkqEEhw63sU3%2Fs4lfwbVTK3aYkUC2OQ8mMJkK58n62cM22VYsouu8Oe5c7%2BRH%2FTrqlhpvBkBOkW74TirSr7OaBVbB8upUgPKtEmyieAwvGJyPsME7b%2FKfkO3F5r%2Bhzq%2FSzF5GOvNLYVEHmDIO6hsqOujfbVArBJfssCnNV2nb1NuWAKHQXCTiVL91%2B%2BD3VxTeekjWVYsyxzX1UaSjVvyz7Dq6zjqUMmDHcp6SYB50C4MedLRearnvT0WqUCZ0LL6OH%2FBPD1MZc76gVoZ6HQ53kFPpMFPYIMWAcWtJu8O1%2BdOR%2BGZ7XOyQv6Y7w%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"29","updateTime":"2024-04-01T03:02:47Z","buildId":"7433a1f6-09b6-4090-ab7d-56837f64b3da","sourceToken":"b6163690-4fea-44e4-9af1-edd677e685a3","buildName":"projects/59153071763/locations/us-central1/builds/7433a1f6-09b6-4090-ab7d-56837f64b3da"}}
[debug] [2024-04-01T03:03:43.912Z] Got source token b6163690-4fea-44e4-9af1-edd677e685a3 for region us-central1
[debug] [2024-04-01T03:03:50.660Z] [update-default-us-central1-handleStripeWebhook] Retrying task index 0
[debug] [2024-04-01T03:03:50.660Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay9wV0lWVlE5ZDJxMA [none]
[debug] [2024-04-01T03:03:50.838Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay9wV0lWVlE5ZDJxMA 200
[debug] [2024-04-01T03:03:50.839Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay9wV0lWVlE5ZDJxMA {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay9wV0lWVlE5ZDJxMA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","httpsTrigger":{"url":"https://us-central1-csc190-w.cloudfunctions.net/handleStripeWebhook","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"handleStripeWebhook","updateTime":"2024-04-01T00:55:58.548Z","versionId":"11","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/2c05d93b-12e4-4651-ac48-4223b5ddc83e.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942336&Signature=O7%2FDGYHVPEj2qLbbs81cSTL7na3rFkqEEhw63sU3%2Fs4lfwbVTK3aYkUC2OQ8mMJkK58n62cM22VYsouu8Oe5c7%2BRH%2FTrqlhpvBkBOkW74TirSr7OaBVbB8upUgPKtEmyieAwvGJyPsME7b%2FKfkO3F5r%2Bhzq%2FSzF5GOvNLYVEHmDIO6hsqOujfbVArBJfssCnNV2nb1NuWAKHQXCTiVL91%2B%2BD3VxTeekjWVYsyxzX1UaSjVvyz7Dq6zjqUMmDHcp6SYB50C4MedLRearnvT0WqUCZ0LL6OH%2FBPD1MZc76gVoZ6HQ53kFPpMFPYIMWAcWtJu8O1%2BdOR%2BGZ7XOyQv6Y7w%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"b6163690-4fea-44e4-9af1-edd677e685a3","buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"12","updateTime":"2024-04-01T03:03:46Z","buildId":"7433a1f6-09b6-4090-ab7d-56837f64b3da","sourceToken":"b6163690-4fea-44e4-9af1-edd677e685a3","buildName":"projects/59153071763/locations/us-central1/builds/7433a1f6-09b6-4090-ab7d-56837f64b3da"},"done":true,"error":{"code":3,"message":"Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.\nDid you list all required modules in the package.json dependencies?\nDetailed stack trace: Error: Cannot find module 'firebase/firestore'\nRequire stack:\n- /workspace/index.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1134:15)\n    at Module._load (node:internal/modules/cjs/loader:975:27)\n    at Module.require (node:internal/modules/cjs/loader:1225:19)\n    at require (node:internal/modules/helpers:177:18)\n    at Object.<anonymous> (/workspace/index.js:5:23)\n    at Module._compile (node:internal/modules/cjs/loader:1356:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)\n    at Module.load (node:internal/modules/cjs/loader:1197:32)\n    at Module._load (node:internal/modules/cjs/loader:1013:12)\n    at Module.require (node:internal/modules/cjs/loader:1225:19)\nCould not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation."}}
[debug] [2024-04-01T03:03:50.839Z] Got source token b6163690-4fea-44e4-9af1-edd677e685a3 for region us-central1
[error] Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.
Did you list all required modules in the package.json dependencies?
Detailed stack trace: Error: Cannot find module 'firebase/firestore'
Require stack:
- /workspace/index.js
- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js
- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1134:15)
    at Module._load (node:internal/modules/cjs/loader:975:27)
    at Module.require (node:internal/modules/cjs/loader:1225:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/workspace/index.js:5:23)
    at Module._compile (node:internal/modules/cjs/loader:1356:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)
    at Module.load (node:internal/modules/cjs/loader:1197:32)
    at Module._load (node:internal/modules/cjs/loader:1013:12)
    at Module.require (node:internal/modules/cjs/loader:1225:19)
Could not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation.
[debug] [2024-04-01T03:03:53.917Z] [update-default-us-central1-sendEmailReceipt] Retrying task index 0
[debug] [2024-04-01T03:03:53.917Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ [none]
[debug] [2024-04-01T03:03:54.065Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ 200
[debug] [2024-04-01T03:03:54.065Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC84WGpkTm5aM2RCWQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmailReceipt","updateTime":"2024-04-01T00:55:55.001Z","versionId":"28","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/2c05d93b-12e4-4651-ac48-4223b5ddc83e.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942336&Signature=O7%2FDGYHVPEj2qLbbs81cSTL7na3rFkqEEhw63sU3%2Fs4lfwbVTK3aYkUC2OQ8mMJkK58n62cM22VYsouu8Oe5c7%2BRH%2FTrqlhpvBkBOkW74TirSr7OaBVbB8upUgPKtEmyieAwvGJyPsME7b%2FKfkO3F5r%2Bhzq%2FSzF5GOvNLYVEHmDIO6hsqOujfbVArBJfssCnNV2nb1NuWAKHQXCTiVL91%2B%2BD3VxTeekjWVYsyxzX1UaSjVvyz7Dq6zjqUMmDHcp6SYB50C4MedLRearnvT0WqUCZ0LL6OH%2FBPD1MZc76gVoZ6HQ53kFPpMFPYIMWAcWtJu8O1%2BdOR%2BGZ7XOyQv6Y7w%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"29","updateTime":"2024-04-01T03:03:46Z","buildId":"7433a1f6-09b6-4090-ab7d-56837f64b3da","sourceToken":"b6163690-4fea-44e4-9af1-edd677e685a3","buildName":"projects/59153071763/locations/us-central1/builds/7433a1f6-09b6-4090-ab7d-56837f64b3da"},"done":true,"error":{"code":3,"message":"Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.\nDid you list all required modules in the package.json dependencies?\nDetailed stack trace: Error: Cannot find module 'firebase/firestore'\nRequire stack:\n- /workspace/index.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1134:15)\n    at Module._load (node:internal/modules/cjs/loader:975:27)\n    at Module.require (node:internal/modules/cjs/loader:1225:19)\n    at require (node:internal/modules/helpers:177:18)\n    at Object.<anonymous> (/workspace/index.js:5:23)\n    at Module._compile (node:internal/modules/cjs/loader:1356:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)\n    at Module.load (node:internal/modules/cjs/loader:1197:32)\n    at Module._load (node:internal/modules/cjs/loader:1013:12)\n    at Module.require (node:internal/modules/cjs/loader:1225:19)\nCould not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation."}}
[debug] [2024-04-01T03:03:54.065Z] Got source token b6163690-4fea-44e4-9af1-edd677e685a3 for region us-central1
[error] Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.
Did you list all required modules in the package.json dependencies?
Detailed stack trace: Error: Cannot find module 'firebase/firestore'
Require stack:
- /workspace/index.js
- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js
- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1134:15)
    at Module._load (node:internal/modules/cjs/loader:975:27)
    at Module.require (node:internal/modules/cjs/loader:1225:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/workspace/index.js:5:23)
    at Module._compile (node:internal/modules/cjs/loader:1356:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)
    at Module.load (node:internal/modules/cjs/loader:1197:32)
    at Module._load (node:internal/modules/cjs/loader:1013:12)
    at Module.require (node:internal/modules/cjs/loader:1225:19)
Could not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation.
[debug] [2024-04-01T03:03:54.073Z] Total Function Deployment time: 68102
[debug] [2024-04-01T03:03:54.073Z] 2 Functions Deployed
[debug] [2024-04-01T03:03:54.073Z] 2 Functions Errored
[debug] [2024-04-01T03:03:54.073Z] 0 Function Deployments Aborted
[debug] [2024-04-01T03:03:54.073Z] Average Function Deployment time: 66487.5
[info] 
[info] Functions deploy had errors with the following functions:
	handleStripeWebhook(us-central1)
	sendEmailReceipt(us-central1)
[debug] [2024-04-01T03:03:54.135Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[info] i  functions: cleaning up build files... 
[debug] [2024-04-01T03:03:54.136Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/csc190-w/locations/us-central1/repositories/gcf-artifacts/packages/send_email_receipt [none]
[debug] [2024-04-01T03:03:54.136Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/csc190-w/locations/us-central1/repositories/gcf-artifacts/packages/handle_stripe_webhook [none]
[debug] [2024-04-01T03:03:54.137Z] >>> [apiv2][query] GET https://us.gcr.io/v2/csc190-w/gcf/us-central1/tags/list [none]
[debug] [2024-04-01T03:03:54.504Z] <<< [apiv2][status] GET https://us.gcr.io/v2/csc190-w/gcf/us-central1/tags/list 404
[debug] [2024-04-01T03:03:54.504Z] <<< [apiv2][body] GET https://us.gcr.io/v2/csc190-w/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-04-01T03:03:54.504Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-04-01T03:03:54.510Z] >>> [apiv2][query] GET https://us.gcr.io/v2/csc190-w/gcf/us-central1/tags/list [none]
[debug] [2024-04-01T03:03:54.523Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/csc190-w/locations/us-central1/repositories/gcf-artifacts/packages/send_email_receipt 200
[debug] [2024-04-01T03:03:54.524Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/csc190-w/locations/us-central1/repositories/gcf-artifacts/packages/send_email_receipt {"name":"projects/csc190-w/locations/us-central1/operations/1e14dc0b-8b16-41b5-8e5c-531dd39b7f3f","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1beta2.OperationMetadata"}}
[debug] [2024-04-01T03:03:54.524Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1beta2/projects/csc190-w/locations/us-central1/operations/1e14dc0b-8b16-41b5-8e5c-531dd39b7f3f [none]
[debug] [2024-04-01T03:03:54.554Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/csc190-w/locations/us-central1/repositories/gcf-artifacts/packages/handle_stripe_webhook 404
[debug] [2024-04-01T03:03:54.554Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/csc190-w/locations/us-central1/repositories/gcf-artifacts/packages/handle_stripe_webhook {"error":{"code":404,"message":"Package \"projects/csc190-w/locations/us-central1/repositories/gcf-artifacts/packages/handle_stripe_webhook\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-04-01T03:03:54.657Z] <<< [apiv2][status] GET https://us.gcr.io/v2/csc190-w/gcf/us-central1/tags/list 404
[debug] [2024-04-01T03:03:54.657Z] <<< [apiv2][body] GET https://us.gcr.io/v2/csc190-w/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-04-01T03:03:54.657Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-04-01T03:03:54.758Z] >>> [apiv2][query] GET https://us.gcr.io/v2/csc190-w/gcf/us-central1/tags/list [none]
[debug] [2024-04-01T03:03:54.845Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1beta2/projects/csc190-w/locations/us-central1/operations/1e14dc0b-8b16-41b5-8e5c-531dd39b7f3f 200
[debug] [2024-04-01T03:03:54.845Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1beta2/projects/csc190-w/locations/us-central1/operations/1e14dc0b-8b16-41b5-8e5c-531dd39b7f3f {"name":"projects/csc190-w/locations/us-central1/operations/1e14dc0b-8b16-41b5-8e5c-531dd39b7f3f","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1beta2.OperationMetadata"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[debug] [2024-04-01T03:03:54.935Z] <<< [apiv2][status] GET https://us.gcr.io/v2/csc190-w/gcf/us-central1/tags/list 404
[debug] [2024-04-01T03:03:54.935Z] <<< [apiv2][body] GET https://us.gcr.io/v2/csc190-w/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-04-01T03:03:54.935Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[warn] !  functions: Unhandled error cleaning up build images. This could result in a small monthly bill if not corrected. You can attempt to delete these images by redeploying or you can delete them manually at https://console.cloud.google.com/gcr/images/csc190-w/us/gcf 
[debug] [2024-04-01T03:03:54.936Z] Functions deploy failed.
[debug] [2024-04-01T03:03:54.936Z] {
  "endpoint": {
    "id": "handleStripeWebhook",
    "project": "csc190-w",
    "region": "us-central1",
    "entryPoint": "handleStripeWebhook",
    "platform": "gcfv1",
    "runtime": "nodejs18",
    "httpsTrigger": {},
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}",
      "GCLOUD_PROJECT": "csc190-w",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/csc190-w/locations/us-central1/functions/handleStripeWebhook"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "0091374fef38a5b1607bbdba7d2aaa8c62dace0b",
    "labels": {
      "deployment-tool": "cli-firebase"
    }
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.\nDid you list all required modules in the package.json dependencies?\nDetailed stack trace: Error: Cannot find module 'firebase/firestore'\nRequire stack:\n- /workspace/index.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1134:15)\n    at Module._load (node:internal/modules/cjs/loader:975:27)\n    at Module.require (node:internal/modules/cjs/loader:1225:19)\n    at require (node:internal/modules/helpers:177:18)\n    at Object.<anonymous> (/workspace/index.js:5:23)\n    at Module._compile (node:internal/modules/cjs/loader:1356:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)\n    at Module.load (node:internal/modules/cjs/loader:1197:32)\n    at Module._load (node:internal/modules/cjs/loader:1013:12)\n    at Module.require (node:internal/modules/cjs/loader:1225:19)\nCould not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation.",
    "status": 3,
    "code": 3
  }
}
[debug] [2024-04-01T03:03:54.936Z] {
  "endpoint": {
    "id": "sendEmailReceipt",
    "project": "csc190-w",
    "region": "us-central1",
    "entryPoint": "sendEmailReceipt",
    "platform": "gcfv1",
    "runtime": "nodejs18",
    "eventTrigger": {
      "eventType": "providers/cloud.firestore/eventTypes/document.create",
      "retry": false,
      "eventFilters": {
        "resource": "projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"
      }
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}",
      "GCLOUD_PROJECT": "csc190-w",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/csc190-w/locations/us-central1/functions/sendEmailReceipt"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "0091374fef38a5b1607bbdba7d2aaa8c62dace0b"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.\nDid you list all required modules in the package.json dependencies?\nDetailed stack trace: Error: Cannot find module 'firebase/firestore'\nRequire stack:\n- /workspace/index.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1134:15)\n    at Module._load (node:internal/modules/cjs/loader:975:27)\n    at Module.require (node:internal/modules/cjs/loader:1225:19)\n    at require (node:internal/modules/helpers:177:18)\n    at Object.<anonymous> (/workspace/index.js:5:23)\n    at Module._compile (node:internal/modules/cjs/loader:1356:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)\n    at Module.load (node:internal/modules/cjs/loader:1197:32)\n    at Module._load (node:internal/modules/cjs/loader:1013:12)\n    at Module.require (node:internal/modules/cjs/loader:1225:19)\nCould not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation.",
    "status": 3,
    "code": 3
  }
}
[error] Error: There was an error deploying functions:
[error] - Error Failed to update function handleStripeWebhook in region us-central1
[error] - Error Failed to update function sendEmailReceipt in region us-central1
[debug] [2024-04-01T03:10:00.610Z] ----------------------------------------------------------------------
[debug] [2024-04-01T03:10:00.611Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Tel\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy
[debug] [2024-04-01T03:10:00.611Z] CLI Version:   13.6.0
[debug] [2024-04-01T03:10:00.611Z] Platform:      win32
[debug] [2024-04-01T03:10:00.611Z] Node Version:  v19.6.0
[debug] [2024-04-01T03:10:00.611Z] Time:          Sun Mar 31 2024 20:10:00 GMT-0700 (Pacific Daylight Time)
[debug] [2024-04-01T03:10:00.611Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-04-01T03:10:00.643Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-04-01T03:10:00.643Z] > authorizing via signed-in user (achouhan0114@gmail.com)
[debug] [2024-04-01T03:10:00.643Z] [iam] checking project csc190-w for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]
[debug] [2024-04-01T03:10:00.644Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions [none]
[debug] [2024-04-01T03:10:00.644Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions x-goog-quota-user=projects/csc190-w
[debug] [2024-04-01T03:10:00.644Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2024-04-01T03:10:00.878Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions 200
[debug] [2024-04-01T03:10:00.879Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2024-04-01T03:10:00.879Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/csc190-w/serviceAccounts/csc190-w@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-04-01T03:10:00.879Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/csc190-w/serviceAccounts/csc190-w@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-04-01T03:10:01.045Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/csc190-w/serviceAccounts/csc190-w@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-04-01T03:10:01.045Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/csc190-w/serviceAccounts/csc190-w@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-04-01T03:10:01.045Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T03:10:01.416Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T03:10:01.416Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] 
[info] === Deploying to 'csc190-w'...
[info] 
[info] i  deploying functions, hosting 
[debug] [2024-04-01T03:10:01.420Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T03:10:01.552Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T03:10:01.552Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-04-01T03:10:01.555Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/cloudfunctions.googleapis.com [none]
[debug] [2024-04-01T03:10:01.555Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/csc190-w
[debug] [2024-04-01T03:10:01.556Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/runtimeconfig.googleapis.com [none]
[debug] [2024-04-01T03:10:01.556Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/csc190-w
[debug] [2024-04-01T03:10:01.556Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/cloudbuild.googleapis.com [none]
[debug] [2024-04-01T03:10:01.556Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/cloudbuild.googleapis.com x-goog-quota-user=projects/csc190-w
[debug] [2024-04-01T03:10:01.557Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/artifactregistry.googleapis.com [none]
[debug] [2024-04-01T03:10:01.557Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/artifactregistry.googleapis.com x-goog-quota-user=projects/csc190-w
[debug] [2024-04-01T03:10:02.078Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/cloudfunctions.googleapis.com 200
[debug] [2024-04-01T03:10:02.078Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-04-01T03:10:02.090Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/runtimeconfig.googleapis.com 200
[debug] [2024-04-01T03:10:02.091Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-04-01T03:10:02.132Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/cloudbuild.googleapis.com 200
[debug] [2024-04-01T03:10:02.132Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-04-01T03:10:02.147Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/artifactregistry.googleapis.com 200
[debug] [2024-04-01T03:10:02.147Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/csc190-w/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-04-01T03:10:02.147Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig [none]
[debug] [2024-04-01T03:10:02.316Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig 200
[debug] [2024-04-01T03:10:02.316Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig {"projectId":"csc190-w","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com"}
[debug] [2024-04-01T03:10:02.317Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs [none]
[debug] [2024-04-01T03:10:02.531Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs 200
[debug] [2024-04-01T03:10:02.531Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs {"configs":[{"name":"projects/csc190-w/configs/stripe"},{"name":"projects/csc190-w/configs/mailjet"}]}
[debug] [2024-04-01T03:10:02.532Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/stripe/variables [none]
[debug] [2024-04-01T03:10:02.532Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/mailjet/variables [none]
[debug] [2024-04-01T03:10:02.663Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/stripe/variables 200
[debug] [2024-04-01T03:10:02.663Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/stripe/variables {"variables":[{"name":"projects/csc190-w/configs/stripe/variables/webhook_secret","updateTime":"2024-03-31T20:53:25.149785383Z"},{"name":"projects/csc190-w/configs/stripe/variables/secret_key","updateTime":"2024-03-31T20:40:04.327673553Z"}]}
[debug] [2024-04-01T03:10:02.664Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/stripe/variables/webhook_secret [none]
[debug] [2024-04-01T03:10:02.664Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/stripe/variables/secret_key [none]
[debug] [2024-04-01T03:10:02.680Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/mailjet/variables 200
[debug] [2024-04-01T03:10:02.680Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/mailjet/variables {"variables":[{"name":"projects/csc190-w/configs/mailjet/variables/apikey","updateTime":"2024-03-29T07:14:03.231914245Z"},{"name":"projects/csc190-w/configs/mailjet/variables/secretkey","updateTime":"2024-03-29T07:14:04.044007098Z"}]}
[debug] [2024-04-01T03:10:02.681Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/mailjet/variables/apikey [none]
[debug] [2024-04-01T03:10:02.681Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/mailjet/variables/secretkey [none]
[debug] [2024-04-01T03:10:02.778Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/stripe/variables/webhook_secret 200
[debug] [2024-04-01T03:10:02.778Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/stripe/variables/webhook_secret {"name":"projects/csc190-w/configs/stripe/variables/webhook_secret","updateTime":"2024-03-31T20:53:25.149785383Z","text":"whsec_0j8rXx7taYVT4t7aggamwqPKkOWHsS4v"}
[debug] [2024-04-01T03:10:02.817Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/mailjet/variables/apikey 200
[debug] [2024-04-01T03:10:02.817Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/mailjet/variables/apikey {"name":"projects/csc190-w/configs/mailjet/variables/apikey","updateTime":"2024-03-29T07:14:03.231914245Z","text":"796f1880e9ff286cc1189a47ca778994"}
[debug] [2024-04-01T03:10:02.851Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/stripe/variables/secret_key 200
[debug] [2024-04-01T03:10:02.851Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/stripe/variables/secret_key {"name":"projects/csc190-w/configs/stripe/variables/secret_key","updateTime":"2024-03-31T20:40:04.327673553Z","text":"sk_test_51OfAn1IHfTroUmcjRLjz2Fb41rjIwTbClLbtOpy0LKuJ6cbA0MU9YUuScSrj7IIvKaE8UTCRds1LfUXi4kn8Iwae002FPh92H2"}
[debug] [2024-04-01T03:10:02.978Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/mailjet/variables/secretkey 200
[debug] [2024-04-01T03:10:02.978Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/csc190-w/configs/mailjet/variables/secretkey {"name":"projects/csc190-w/configs/mailjet/variables/secretkey","updateTime":"2024-03-29T07:14:04.044007098Z","text":"42e7b70a7d0661a302a2bb0c0fd97037"}
[debug] [2024-04-01T03:10:02.979Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2024-04-01T03:10:03.811Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "ejs": "^3.1.9",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.13",
    "stripe": "^14.15.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-01T03:10:03.811Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-04-01T03:10:03.812Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-01T03:10:03.817Z] Found firebase-functions binary at 'C:\Users\Tel\CSC190_Website\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8392

[debug] [2024-04-01T03:10:04.162Z] Got response from /__/functions.yaml {"endpoints":{"sendEmailReceipt":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"retry":false},"labels":{},"entryPoint":"sendEmailReceipt"},"handleStripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\Tel\CSC190_Website\functions (69.49 KB) for uploading 
[debug] [2024-04-01T03:10:09.219Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/csc190-w/locations/-/functions [none]
[debug] [2024-04-01T03:10:09.658Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/csc190-w/locations/-/functions 200
[debug] [2024-04-01T03:10:09.658Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/csc190-w/locations/-/functions {"functions":[{"name":"projects/csc190-w/locations/us-central1/functions/handleNewsletterRequest","httpsTrigger":{"url":"https://us-central1-csc190-w.cloudfunctions.net/handleNewsletterRequest","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"handleNewsletterRequest","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"csc190-w@appspot.gserviceaccount.com","updateTime":"2024-03-31T19:28:37.062Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"7f8e3da4d330965b7f673965281537e8bfdbd0c2"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/0e7a2a27-a5bf-4053-bdaa-a0d8a5701809.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/handleNewsletterRequest"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"03202b43-44f7-4eb0-bfd6-2ef38506de39","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/03202b43-44f7-4eb0-bfd6-2ef38506de39","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},{"name":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","httpsTrigger":{"url":"https://us-central1-csc190-w.cloudfunctions.net/handleStripeWebhook","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"handleStripeWebhook","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"csc190-w@appspot.gserviceaccount.com","updateTime":"2024-04-01T00:55:58.548Z","versionId":"11","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"317806cbd9e65650e0fef0b981c373f0716cd373"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/388ac7b3-9dae-452d-b0e0-be8ec59ec271.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook"},"runtime":"nodejs18","ingressSettings":"ALLOW_ALL","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},{"name":"projects/csc190-w/locations/us-central1/functions/sendEmailOnNewsletterRequest","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/csc190-w/databases/(default)/documents/newsletterRequests/{requestId}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"sendEmailOnNewsletterRequest","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"csc190-w@appspot.gserviceaccount.com","updateTime":"2024-03-31T19:28:34.046Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"7f8e3da4d330965b7f673965281537e8bfdbd0c2"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/0e7a2a27-a5bf-4053-bdaa-a0d8a5701809.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/sendEmailOnNewsletterRequest"},"runtime":"nodejs18","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"03202b43-44f7-4eb0-bfd6-2ef38506de39","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/03202b43-44f7-4eb0-bfd6-2ef38506de39","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},{"name":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"sendEmailReceipt","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"csc190-w@appspot.gserviceaccount.com","updateTime":"2024-04-01T00:55:55.001Z","versionId":"28","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"317806cbd9e65650e0fef0b981c373f0716cd373"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/388ac7b3-9dae-452d-b0e0-be8ec59ec271.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt"},"runtime":"nodejs18","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}}]}
[debug] [2024-04-01T03:10:09.659Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/csc190-w/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2024-04-01T03:10:10.259Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/csc190-w/locations/-/functions 200
[debug] [2024-04-01T03:10:10.259Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/csc190-w/locations/-/functions {}
[debug] [2024-04-01T03:10:10.262Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T03:10:10.525Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T03:10:10.525Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[debug] [2024-04-01T03:10:10.528Z] >>> [apiv2][query] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/csc190-w/versions [none]
[debug] [2024-04-01T03:10:10.528Z] >>> [apiv2][body] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/csc190-w/versions {"status":"CREATED","labels":{"deployment-tool":"cli-firebase"}}
[debug] [2024-04-01T03:10:11.155Z] <<< [apiv2][status] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/csc190-w/versions 200
[debug] [2024-04-01T03:10:11.155Z] <<< [apiv2][body] POST https://firebasehosting.googleapis.com/v1beta1/projects/-/sites/csc190-w/versions {"name":"projects/59153071763/sites/csc190-w/versions/4bd08a5bf0e09e72","status":"CREATED","config":{},"labels":{"deployment-tool":"cli-firebase"}}
[debug] [2024-04-01T03:10:11.156Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/csc190-w/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2024-04-01T03:10:11.156Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/csc190-w/locations/us-central1/functions:generateUploadUrl {}
[debug] [2024-04-01T03:10:11.675Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/csc190-w/locations/us-central1/functions:generateUploadUrl 200
[debug] [2024-04-01T03:10:11.675Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/csc190-w/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/30879c92-b7bd-4123-8bcf-b550269ae39c.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942812&Signature=EXbpuJGF63xGS3qjxMQjsfMq8uSkg8Gmjf6IHDz5tuycL04hqwQwraMmWlaAYdDjuSvwMQEQaSn0MzwbpQyIx9L2JlI%2B%2FUu1OBMbZPe7Bp4h%2Bp3JudahdSomKQjqRviswZD5rK3RtgaTPqb2NMwfTwHWiVDapNFIV2JrYtSj3nRbUopandmZ2emxRfD9YWxqxFm5YzqysH7PsPZyp2HIH158Vwg4cmo9%2BeufyCvxrnfHOuWt7xzPSPMwLbFuS1G2hOUiFtpEQDTGSsmbCvNCtz2Ud4R%2BtnrOv8msYgbkCOe67w9Eii6UWHChTrAn0oOy6j5r%2BvIXj2b0A6i18bNsgg%3D%3D"}
[debug] [2024-04-01T03:10:11.676Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/30879c92-b7bd-4123-8bcf-b550269ae39c.zip GoogleAccessId=service-59153071763%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942812&Signature=EXbpuJGF63xGS3qjxMQjsfMq8uSkg8Gmjf6IHDz5tuycL04hqwQwraMmWlaAYdDjuSvwMQEQaSn0MzwbpQyIx9L2JlI%2B%2FUu1OBMbZPe7Bp4h%2Bp3JudahdSomKQjqRviswZD5rK3RtgaTPqb2NMwfTwHWiVDapNFIV2JrYtSj3nRbUopandmZ2emxRfD9YWxqxFm5YzqysH7PsPZyp2HIH158Vwg4cmo9%2BeufyCvxrnfHOuWt7xzPSPMwLbFuS1G2hOUiFtpEQDTGSsmbCvNCtz2Ud4R%2BtnrOv8msYgbkCOe67w9Eii6UWHChTrAn0oOy6j5r%2BvIXj2b0A6i18bNsgg%3D%3D
[debug] [2024-04-01T03:10:11.676Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/30879c92-b7bd-4123-8bcf-b550269ae39c.zip [stream]
[debug] [2024-04-01T03:10:11.970Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/30879c92-b7bd-4123-8bcf-b550269ae39c.zip 200
[debug] [2024-04-01T03:10:11.970Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/30879c92-b7bd-4123-8bcf-b550269ae39c.zip [omitted]
[info] +  functions: functions folder uploaded successfully 
[info] i  hosting[csc190-w]: beginning deploy... 
[info] i  hosting[csc190-w]: found 27 files in build 
[debug] [2024-04-01T03:10:11.981Z] [hosting] uploading with 200 concurrency
[debug] [2024-04-01T03:10:12.331Z] [hosting] hash cache [YnVpbGQ] stored for 27 files
[debug] [2024-04-01T03:10:12.331Z] [hosting][hash queue][FINAL] {"max":344,"min":3,"avg":25.074074074074073,"active":0,"complete":27,"success":27,"errored":0,"retried":0,"total":27,"elapsed":348}
[debug] [2024-04-01T03:10:12.331Z] >>> [apiv2][query] POST https://firebasehosting.googleapis.com/v1beta1/projects/59153071763/sites/csc190-w/versions/4bd08a5bf0e09e72:populateFiles [none]
[debug] [2024-04-01T03:10:12.332Z] >>> [apiv2][body] POST https://firebasehosting.googleapis.com/v1beta1/projects/59153071763/sites/csc190-w/versions/4bd08a5bf0e09e72:populateFiles {"files":{"/favicon.ico":"eae62e993eb980ec8a25058c39d5a51feab118bd2100c4deebb2a9c158ec11f9","/GEG-logo.png":"fb65c4e9ed1aa5e7d8ba29c549ecf2db2b940183bf4e4acf3863a3cd94eb66d7","/logo192.png":"3ee59515172ee198f3be375979df15ac5345183e656720a381b8872b2a39dc8b","/logo512.png":"ee7e2f3fdb8209c4b6fd7bef6ba50d1b9dba30a25bb5c3126df057e1cb6f5331","/manifest.json":"5c997de1364b8be939319fa9209abd77f2caf7f8844999a9e2e9173f844e7840","/robots.txt":"b2090cf9761ef60aa06e4fab97679bd43dfa5e5df073701ead5879d7c68f1ec5","/image/Soft Group Logo.png":"131858a07157b465e591b3bfe2c13f5ad1f6d4e3d85dd6cebd49885c1a493366","/image/testimage3.jpg":"00df77905bc4286d988015bf2ebec8a2a8fb1f45fb50f47095079b09e2afe572","/image/testprofile.jpg":"0a74950e7146ac7b242ff258c836267c781ff0107e42f73da54471d5611cbfdb","/asset-manifest.json":"7cf69faf97bba634a117bc18ed424209029a34141eb8e92bd63f432a8e7d716c","/index.html":"b7404a458f63ac9ac1312e8c5534bcfd9298bb45821f88c04ce54800458d8c1f","/static/js/787.0aa5bd9d.chunk.js":"b95c41081a3c2ebd608e0ee5ecdf87733eb60a1b6e861120bd7c39c55484e579","/static/js/main.ffd88924.js.LICENSE.txt":"00d703d5eb3d2a37fcac1577acc8001986e1966da9e6b9e727175ed016eeb4c4","/static/js/787.0aa5bd9d.chunk.js.map":"7789876740787ecce64d3c298ffde3d4cda73dc3e0701df69528a9bee4a26c65","/static/css/main.3903d4f5.css":"c7350f8b4d14348a7aaf7f344cfde1b6d2b60e33df81f6d1177787f488599aa5","/static/media/slick.2630a3e3eab21c607e21.svg":"d00477d40ed40fa1dd3bdee27d9286804121b15fea83bae7d5415d902b055de0","/static/css/main.3903d4f5.css.map":"884f98b950ea31e63c4ccc4bcf6b60edaa1de0eaa1d3ec8106951547b6962f3f","/static/media/slick.295183786cd8a1389865.woff":"029a727c9e1081d2f9e1015f02f18da88f268512ea4f58589a6f17f532928530","/static/media/slick.a4e97f5a2a64f0ab1323.eot":"52b9a169969e053d43df6bd21c4dc789c2518d99afd8590a17ef50cd24c77cf6","/static/media/slick.c94f7671dcc99dce43e2.ttf":"6aad751007cf9a89350af287f824ab64f096c472c7c9c679fb3d55b6174fc004","/static/media/trophy.48027391358c96b3378e.jpg":"cd19fa7a293cb5c8768df6e455a7d739199e0c43195e4c2f54e3ab197c2372df","/static/media/customer-service-icon.0c632c6387dea62c33c1.png":"2e21de5b99f153fde82102bb25173bccfb407b3843560b8ededbc56062086b02","/static/js/main.ffd88924.js":"75117e68ee7f61ee233d77ddf3de84b14462899bb21633dd0c403e0d1672cd2f","/static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png":"770c54814c0e4e926270a42985931fefa45fedb0cc8e18b9f24c1e1aa376a2a0","/static/media/GEG-white.bff8e9bf34096593d8bd.png":"5b1ecb32a05753e357b4895704f21977b3a58c0e32555d8c7b3970ac072bb8bc","/static/media/GEG-logo.f666891fecaab69ecb4f.png":"fb65c4e9ed1aa5e7d8ba29c549ecf2db2b940183bf4e4acf3863a3cd94eb66d7","/static/js/main.ffd88924.js.map":"6fad78fe0a4ed55adfc2fd1d7688b5e584587fd4cdc9f2b85f3382e2348b2287"}}
[debug] [2024-04-01T03:10:12.508Z] <<< [apiv2][status] POST https://firebasehosting.googleapis.com/v1beta1/projects/59153071763/sites/csc190-w/versions/4bd08a5bf0e09e72:populateFiles 200
[debug] [2024-04-01T03:10:12.508Z] <<< [apiv2][body] POST https://firebasehosting.googleapis.com/v1beta1/projects/59153071763/sites/csc190-w/versions/4bd08a5bf0e09e72:populateFiles {"uploadUrl":"https://upload-firebasehosting.googleapis.com/upload/sites/csc190-w/versions/4bd08a5bf0e09e72/files"}
[debug] [2024-04-01T03:10:12.508Z] [hosting][populate queue][FINAL] {"max":178,"min":178,"avg":178,"active":0,"complete":1,"success":1,"errored":0,"retried":0,"total":1,"elapsed":178}
[debug] [2024-04-01T03:10:12.509Z] [hosting] uploads queued: 0
[debug] [2024-04-01T03:10:12.509Z] [hosting][upload queue][FINAL] {"max":0,"min":9999999999,"avg":0,"active":0,"complete":0,"success":0,"errored":0,"retried":0,"total":0,"elapsed":1711941012509}
[info] +  hosting[csc190-w]: file upload complete 
[debug] [2024-04-01T03:10:12.509Z] [hosting] deploy completed after 537ms
[info] 
The following functions are found in your project but do not exist in your local source code:
	handleNewsletterRequest(us-central1)
	sendEmailOnNewsletterRequest(us-central1)

If you are renaming a function or changing its region, it is recommended that you create the new function first before deleting the old one to prevent event loss. For more info, visit https://firebase.google.com/docs/functions/manage-functions#modify

[info] i  functions: updating Node.js 18 (1st Gen) function sendEmailReceipt(us-central1)... 
[info] i  functions: updating Node.js 18 (1st Gen) function handleStripeWebhook(us-central1)... 
[debug] [2024-04-01T03:10:18.022Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/csc190-w/locations/us-central1/functions/sendEmailReceipt updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2CeventTrigger.eventType%2CeventTrigger.resource%2CeventTrigger.failurePolicy%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2024-04-01T03:10:18.022Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/csc190-w/locations/us-central1/functions/sendEmailReceipt {"name":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/30879c92-b7bd-4123-8bcf-b550269ae39c.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942812&Signature=EXbpuJGF63xGS3qjxMQjsfMq8uSkg8Gmjf6IHDz5tuycL04hqwQwraMmWlaAYdDjuSvwMQEQaSn0MzwbpQyIx9L2JlI%2B%2FUu1OBMbZPe7Bp4h%2Bp3JudahdSomKQjqRviswZD5rK3RtgaTPqb2NMwfTwHWiVDapNFIV2JrYtSj3nRbUopandmZ2emxRfD9YWxqxFm5YzqysH7PsPZyp2HIH158Vwg4cmo9%2BeufyCvxrnfHOuWt7xzPSPMwLbFuS1G2hOUiFtpEQDTGSsmbCvNCtz2Ud4R%2BtnrOv8msYgbkCOe67w9Eii6UWHChTrAn0oOy6j5r%2BvIXj2b0A6i18bNsgg%3D%3D","entryPoint":"sendEmailReceipt","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2024-04-01T03:10:18.545Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/csc190-w/locations/us-central1/functions/sendEmailReceipt 200
[debug] [2024-04-01T03:10:18.545Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/csc190-w/locations/us-central1/functions/sendEmailReceipt {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmailReceipt","updateTime":"2024-04-01T00:55:55.001Z","versionId":"28","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/30879c92-b7bd-4123-8bcf-b550269ae39c.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942812&Signature=EXbpuJGF63xGS3qjxMQjsfMq8uSkg8Gmjf6IHDz5tuycL04hqwQwraMmWlaAYdDjuSvwMQEQaSn0MzwbpQyIx9L2JlI%2B%2FUu1OBMbZPe7Bp4h%2Bp3JudahdSomKQjqRviswZD5rK3RtgaTPqb2NMwfTwHWiVDapNFIV2JrYtSj3nRbUopandmZ2emxRfD9YWxqxFm5YzqysH7PsPZyp2HIH158Vwg4cmo9%2BeufyCvxrnfHOuWt7xzPSPMwLbFuS1G2hOUiFtpEQDTGSsmbCvNCtz2Ud4R%2BtnrOv8msYgbkCOe67w9Eii6UWHChTrAn0oOy6j5r%2BvIXj2b0A6i18bNsgg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"30","updateTime":"2024-04-01T03:10:19Z"}}
[debug] [2024-04-01T03:10:18.546Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw [none]
[debug] [2024-04-01T03:10:18.734Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw 200
[debug] [2024-04-01T03:10:18.734Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmailReceipt","updateTime":"2024-04-01T00:55:55.001Z","versionId":"28","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/30879c92-b7bd-4123-8bcf-b550269ae39c.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942812&Signature=EXbpuJGF63xGS3qjxMQjsfMq8uSkg8Gmjf6IHDz5tuycL04hqwQwraMmWlaAYdDjuSvwMQEQaSn0MzwbpQyIx9L2JlI%2B%2FUu1OBMbZPe7Bp4h%2Bp3JudahdSomKQjqRviswZD5rK3RtgaTPqb2NMwfTwHWiVDapNFIV2JrYtSj3nRbUopandmZ2emxRfD9YWxqxFm5YzqysH7PsPZyp2HIH158Vwg4cmo9%2BeufyCvxrnfHOuWt7xzPSPMwLbFuS1G2hOUiFtpEQDTGSsmbCvNCtz2Ud4R%2BtnrOv8msYgbkCOe67w9Eii6UWHChTrAn0oOy6j5r%2BvIXj2b0A6i18bNsgg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"30","updateTime":"2024-04-01T03:10:19Z"}}
[debug] [2024-04-01T03:10:19.247Z] [update-default-us-central1-sendEmailReceipt] Retrying task index 0
[debug] [2024-04-01T03:10:19.248Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw [none]
[debug] [2024-04-01T03:10:19.383Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw 200
[debug] [2024-04-01T03:10:19.383Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmailReceipt","updateTime":"2024-04-01T00:55:55.001Z","versionId":"28","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/30879c92-b7bd-4123-8bcf-b550269ae39c.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942812&Signature=EXbpuJGF63xGS3qjxMQjsfMq8uSkg8Gmjf6IHDz5tuycL04hqwQwraMmWlaAYdDjuSvwMQEQaSn0MzwbpQyIx9L2JlI%2B%2FUu1OBMbZPe7Bp4h%2Bp3JudahdSomKQjqRviswZD5rK3RtgaTPqb2NMwfTwHWiVDapNFIV2JrYtSj3nRbUopandmZ2emxRfD9YWxqxFm5YzqysH7PsPZyp2HIH158Vwg4cmo9%2BeufyCvxrnfHOuWt7xzPSPMwLbFuS1G2hOUiFtpEQDTGSsmbCvNCtz2Ud4R%2BtnrOv8msYgbkCOe67w9Eii6UWHChTrAn0oOy6j5r%2BvIXj2b0A6i18bNsgg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"30","updateTime":"2024-04-01T03:10:19Z"}}
[debug] [2024-04-01T03:10:20.389Z] [update-default-us-central1-sendEmailReceipt] Retrying task index 0
[debug] [2024-04-01T03:10:20.389Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw [none]
[debug] [2024-04-01T03:10:20.524Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw 200
[debug] [2024-04-01T03:10:20.524Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmailReceipt","updateTime":"2024-04-01T00:55:55.001Z","versionId":"28","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/30879c92-b7bd-4123-8bcf-b550269ae39c.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942812&Signature=EXbpuJGF63xGS3qjxMQjsfMq8uSkg8Gmjf6IHDz5tuycL04hqwQwraMmWlaAYdDjuSvwMQEQaSn0MzwbpQyIx9L2JlI%2B%2FUu1OBMbZPe7Bp4h%2Bp3JudahdSomKQjqRviswZD5rK3RtgaTPqb2NMwfTwHWiVDapNFIV2JrYtSj3nRbUopandmZ2emxRfD9YWxqxFm5YzqysH7PsPZyp2HIH158Vwg4cmo9%2BeufyCvxrnfHOuWt7xzPSPMwLbFuS1G2hOUiFtpEQDTGSsmbCvNCtz2Ud4R%2BtnrOv8msYgbkCOe67w9Eii6UWHChTrAn0oOy6j5r%2BvIXj2b0A6i18bNsgg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"30","updateTime":"2024-04-01T03:10:19Z","buildId":"ae26db4c-8fb3-4dc0-9f48-0e91b9520a44","buildName":"projects/59153071763/locations/us-central1/builds/ae26db4c-8fb3-4dc0-9f48-0e91b9520a44"}}
[debug] [2024-04-01T03:10:22.535Z] [update-default-us-central1-sendEmailReceipt] Retrying task index 0
[debug] [2024-04-01T03:10:22.535Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw [none]
[debug] [2024-04-01T03:10:22.711Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw 200
[debug] [2024-04-01T03:10:22.711Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmailReceipt","updateTime":"2024-04-01T00:55:55.001Z","versionId":"28","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/30879c92-b7bd-4123-8bcf-b550269ae39c.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942812&Signature=EXbpuJGF63xGS3qjxMQjsfMq8uSkg8Gmjf6IHDz5tuycL04hqwQwraMmWlaAYdDjuSvwMQEQaSn0MzwbpQyIx9L2JlI%2B%2FUu1OBMbZPe7Bp4h%2Bp3JudahdSomKQjqRviswZD5rK3RtgaTPqb2NMwfTwHWiVDapNFIV2JrYtSj3nRbUopandmZ2emxRfD9YWxqxFm5YzqysH7PsPZyp2HIH158Vwg4cmo9%2BeufyCvxrnfHOuWt7xzPSPMwLbFuS1G2hOUiFtpEQDTGSsmbCvNCtz2Ud4R%2BtnrOv8msYgbkCOe67w9Eii6UWHChTrAn0oOy6j5r%2BvIXj2b0A6i18bNsgg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"30","updateTime":"2024-04-01T03:10:19Z","buildId":"ae26db4c-8fb3-4dc0-9f48-0e91b9520a44","buildName":"projects/59153071763/locations/us-central1/builds/ae26db4c-8fb3-4dc0-9f48-0e91b9520a44"}}
[debug] [2024-04-01T03:10:26.714Z] [update-default-us-central1-sendEmailReceipt] Retrying task index 0
[debug] [2024-04-01T03:10:26.714Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw [none]
[debug] [2024-04-01T03:10:26.841Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw 200
[debug] [2024-04-01T03:10:26.841Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmailReceipt","updateTime":"2024-04-01T00:55:55.001Z","versionId":"28","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/30879c92-b7bd-4123-8bcf-b550269ae39c.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942812&Signature=EXbpuJGF63xGS3qjxMQjsfMq8uSkg8Gmjf6IHDz5tuycL04hqwQwraMmWlaAYdDjuSvwMQEQaSn0MzwbpQyIx9L2JlI%2B%2FUu1OBMbZPe7Bp4h%2Bp3JudahdSomKQjqRviswZD5rK3RtgaTPqb2NMwfTwHWiVDapNFIV2JrYtSj3nRbUopandmZ2emxRfD9YWxqxFm5YzqysH7PsPZyp2HIH158Vwg4cmo9%2BeufyCvxrnfHOuWt7xzPSPMwLbFuS1G2hOUiFtpEQDTGSsmbCvNCtz2Ud4R%2BtnrOv8msYgbkCOe67w9Eii6UWHChTrAn0oOy6j5r%2BvIXj2b0A6i18bNsgg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"30","updateTime":"2024-04-01T03:10:19Z","buildId":"ae26db4c-8fb3-4dc0-9f48-0e91b9520a44","buildName":"projects/59153071763/locations/us-central1/builds/ae26db4c-8fb3-4dc0-9f48-0e91b9520a44"}}
[debug] [2024-04-01T03:10:34.842Z] [update-default-us-central1-sendEmailReceipt] Retrying task index 0
[debug] [2024-04-01T03:10:34.842Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw [none]
[debug] [2024-04-01T03:10:35.008Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw 200
[debug] [2024-04-01T03:10:35.008Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmailReceipt","updateTime":"2024-04-01T00:55:55.001Z","versionId":"28","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/30879c92-b7bd-4123-8bcf-b550269ae39c.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942812&Signature=EXbpuJGF63xGS3qjxMQjsfMq8uSkg8Gmjf6IHDz5tuycL04hqwQwraMmWlaAYdDjuSvwMQEQaSn0MzwbpQyIx9L2JlI%2B%2FUu1OBMbZPe7Bp4h%2Bp3JudahdSomKQjqRviswZD5rK3RtgaTPqb2NMwfTwHWiVDapNFIV2JrYtSj3nRbUopandmZ2emxRfD9YWxqxFm5YzqysH7PsPZyp2HIH158Vwg4cmo9%2BeufyCvxrnfHOuWt7xzPSPMwLbFuS1G2hOUiFtpEQDTGSsmbCvNCtz2Ud4R%2BtnrOv8msYgbkCOe67w9Eii6UWHChTrAn0oOy6j5r%2BvIXj2b0A6i18bNsgg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"30","updateTime":"2024-04-01T03:10:19Z","buildId":"ae26db4c-8fb3-4dc0-9f48-0e91b9520a44","buildName":"projects/59153071763/locations/us-central1/builds/ae26db4c-8fb3-4dc0-9f48-0e91b9520a44"}}
[debug] [2024-04-01T03:10:45.010Z] [update-default-us-central1-sendEmailReceipt] Retrying task index 0
[debug] [2024-04-01T03:10:45.011Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw [none]
[debug] [2024-04-01T03:10:45.183Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw 200
[debug] [2024-04-01T03:10:45.183Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmailReceipt","updateTime":"2024-04-01T00:55:55.001Z","versionId":"28","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/30879c92-b7bd-4123-8bcf-b550269ae39c.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942812&Signature=EXbpuJGF63xGS3qjxMQjsfMq8uSkg8Gmjf6IHDz5tuycL04hqwQwraMmWlaAYdDjuSvwMQEQaSn0MzwbpQyIx9L2JlI%2B%2FUu1OBMbZPe7Bp4h%2Bp3JudahdSomKQjqRviswZD5rK3RtgaTPqb2NMwfTwHWiVDapNFIV2JrYtSj3nRbUopandmZ2emxRfD9YWxqxFm5YzqysH7PsPZyp2HIH158Vwg4cmo9%2BeufyCvxrnfHOuWt7xzPSPMwLbFuS1G2hOUiFtpEQDTGSsmbCvNCtz2Ud4R%2BtnrOv8msYgbkCOe67w9Eii6UWHChTrAn0oOy6j5r%2BvIXj2b0A6i18bNsgg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"30","updateTime":"2024-04-01T03:10:19Z","buildId":"ae26db4c-8fb3-4dc0-9f48-0e91b9520a44","buildName":"projects/59153071763/locations/us-central1/builds/ae26db4c-8fb3-4dc0-9f48-0e91b9520a44"}}
[debug] [2024-04-01T03:10:55.184Z] [update-default-us-central1-sendEmailReceipt] Retrying task index 0
[debug] [2024-04-01T03:10:55.184Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw [none]
[debug] [2024-04-01T03:10:55.344Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw 200
[debug] [2024-04-01T03:10:55.345Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmailReceipt","updateTime":"2024-04-01T00:55:55.001Z","versionId":"28","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/30879c92-b7bd-4123-8bcf-b550269ae39c.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942812&Signature=EXbpuJGF63xGS3qjxMQjsfMq8uSkg8Gmjf6IHDz5tuycL04hqwQwraMmWlaAYdDjuSvwMQEQaSn0MzwbpQyIx9L2JlI%2B%2FUu1OBMbZPe7Bp4h%2Bp3JudahdSomKQjqRviswZD5rK3RtgaTPqb2NMwfTwHWiVDapNFIV2JrYtSj3nRbUopandmZ2emxRfD9YWxqxFm5YzqysH7PsPZyp2HIH158Vwg4cmo9%2BeufyCvxrnfHOuWt7xzPSPMwLbFuS1G2hOUiFtpEQDTGSsmbCvNCtz2Ud4R%2BtnrOv8msYgbkCOe67w9Eii6UWHChTrAn0oOy6j5r%2BvIXj2b0A6i18bNsgg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"30","updateTime":"2024-04-01T03:10:19Z","buildId":"ae26db4c-8fb3-4dc0-9f48-0e91b9520a44","buildName":"projects/59153071763/locations/us-central1/builds/ae26db4c-8fb3-4dc0-9f48-0e91b9520a44"}}
[debug] [2024-04-01T03:11:05.356Z] [update-default-us-central1-sendEmailReceipt] Retrying task index 0
[debug] [2024-04-01T03:11:05.356Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw [none]
[debug] [2024-04-01T03:11:05.517Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw 200
[debug] [2024-04-01T03:11:05.517Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmailReceipt","updateTime":"2024-04-01T00:55:55.001Z","versionId":"28","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/30879c92-b7bd-4123-8bcf-b550269ae39c.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942812&Signature=EXbpuJGF63xGS3qjxMQjsfMq8uSkg8Gmjf6IHDz5tuycL04hqwQwraMmWlaAYdDjuSvwMQEQaSn0MzwbpQyIx9L2JlI%2B%2FUu1OBMbZPe7Bp4h%2Bp3JudahdSomKQjqRviswZD5rK3RtgaTPqb2NMwfTwHWiVDapNFIV2JrYtSj3nRbUopandmZ2emxRfD9YWxqxFm5YzqysH7PsPZyp2HIH158Vwg4cmo9%2BeufyCvxrnfHOuWt7xzPSPMwLbFuS1G2hOUiFtpEQDTGSsmbCvNCtz2Ud4R%2BtnrOv8msYgbkCOe67w9Eii6UWHChTrAn0oOy6j5r%2BvIXj2b0A6i18bNsgg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"30","updateTime":"2024-04-01T03:10:19Z","buildId":"ae26db4c-8fb3-4dc0-9f48-0e91b9520a44","sourceToken":"ade615ab-428d-4802-af15-dd0a74a55305","buildName":"projects/59153071763/locations/us-central1/builds/ae26db4c-8fb3-4dc0-9f48-0e91b9520a44"}}
[debug] [2024-04-01T03:11:05.517Z] Got source token ade615ab-428d-4802-af15-dd0a74a55305 for region us-central1
[debug] [2024-04-01T03:11:05.518Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/csc190-w/locations/us-central1/functions/handleStripeWebhook updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2024-04-01T03:11:05.518Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/csc190-w/locations/us-central1/functions/handleStripeWebhook {"name":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/30879c92-b7bd-4123-8bcf-b550269ae39c.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942812&Signature=EXbpuJGF63xGS3qjxMQjsfMq8uSkg8Gmjf6IHDz5tuycL04hqwQwraMmWlaAYdDjuSvwMQEQaSn0MzwbpQyIx9L2JlI%2B%2FUu1OBMbZPe7Bp4h%2Bp3JudahdSomKQjqRviswZD5rK3RtgaTPqb2NMwfTwHWiVDapNFIV2JrYtSj3nRbUopandmZ2emxRfD9YWxqxFm5YzqysH7PsPZyp2HIH158Vwg4cmo9%2BeufyCvxrnfHOuWt7xzPSPMwLbFuS1G2hOUiFtpEQDTGSsmbCvNCtz2Ud4R%2BtnrOv8msYgbkCOe67w9Eii6UWHChTrAn0oOy6j5r%2BvIXj2b0A6i18bNsgg%3D%3D","entryPoint":"handleStripeWebhook","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"sourceToken":"ade615ab-428d-4802-af15-dd0a74a55305","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2024-04-01T03:11:06.015Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/csc190-w/locations/us-central1/functions/handleStripeWebhook 200
[debug] [2024-04-01T03:11:06.015Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/csc190-w/locations/us-central1/functions/handleStripeWebhook {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay8wZmNjd1FfYUxtQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","httpsTrigger":{"url":"https://us-central1-csc190-w.cloudfunctions.net/handleStripeWebhook","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"handleStripeWebhook","updateTime":"2024-04-01T00:55:58.548Z","versionId":"11","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/30879c92-b7bd-4123-8bcf-b550269ae39c.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942812&Signature=EXbpuJGF63xGS3qjxMQjsfMq8uSkg8Gmjf6IHDz5tuycL04hqwQwraMmWlaAYdDjuSvwMQEQaSn0MzwbpQyIx9L2JlI%2B%2FUu1OBMbZPe7Bp4h%2Bp3JudahdSomKQjqRviswZD5rK3RtgaTPqb2NMwfTwHWiVDapNFIV2JrYtSj3nRbUopandmZ2emxRfD9YWxqxFm5YzqysH7PsPZyp2HIH158Vwg4cmo9%2BeufyCvxrnfHOuWt7xzPSPMwLbFuS1G2hOUiFtpEQDTGSsmbCvNCtz2Ud4R%2BtnrOv8msYgbkCOe67w9Eii6UWHChTrAn0oOy6j5r%2BvIXj2b0A6i18bNsgg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"ade615ab-428d-4802-af15-dd0a74a55305","buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"13","updateTime":"2024-04-01T03:11:07Z","sourceToken":"ade615ab-428d-4802-af15-dd0a74a55305"}}
[debug] [2024-04-01T03:11:06.015Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay8wZmNjd1FfYUxtQQ [none]
[debug] [2024-04-01T03:11:06.153Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay8wZmNjd1FfYUxtQQ 200
[debug] [2024-04-01T03:11:06.153Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay8wZmNjd1FfYUxtQQ {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay8wZmNjd1FfYUxtQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","httpsTrigger":{"url":"https://us-central1-csc190-w.cloudfunctions.net/handleStripeWebhook","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"handleStripeWebhook","updateTime":"2024-04-01T00:55:58.548Z","versionId":"11","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/30879c92-b7bd-4123-8bcf-b550269ae39c.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942812&Signature=EXbpuJGF63xGS3qjxMQjsfMq8uSkg8Gmjf6IHDz5tuycL04hqwQwraMmWlaAYdDjuSvwMQEQaSn0MzwbpQyIx9L2JlI%2B%2FUu1OBMbZPe7Bp4h%2Bp3JudahdSomKQjqRviswZD5rK3RtgaTPqb2NMwfTwHWiVDapNFIV2JrYtSj3nRbUopandmZ2emxRfD9YWxqxFm5YzqysH7PsPZyp2HIH158Vwg4cmo9%2BeufyCvxrnfHOuWt7xzPSPMwLbFuS1G2hOUiFtpEQDTGSsmbCvNCtz2Ud4R%2BtnrOv8msYgbkCOe67w9Eii6UWHChTrAn0oOy6j5r%2BvIXj2b0A6i18bNsgg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"ade615ab-428d-4802-af15-dd0a74a55305","buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"13","updateTime":"2024-04-01T03:11:07Z","sourceToken":"ade615ab-428d-4802-af15-dd0a74a55305"}}
[debug] [2024-04-01T03:11:06.153Z] Got source token ade615ab-428d-4802-af15-dd0a74a55305 for region us-central1
[debug] [2024-04-01T03:11:06.667Z] [update-default-us-central1-handleStripeWebhook] Retrying task index 0
[debug] [2024-04-01T03:11:06.667Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay8wZmNjd1FfYUxtQQ [none]
[debug] [2024-04-01T03:11:06.817Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay8wZmNjd1FfYUxtQQ 200
[debug] [2024-04-01T03:11:06.817Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay8wZmNjd1FfYUxtQQ {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay8wZmNjd1FfYUxtQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","httpsTrigger":{"url":"https://us-central1-csc190-w.cloudfunctions.net/handleStripeWebhook","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"handleStripeWebhook","updateTime":"2024-04-01T00:55:58.548Z","versionId":"11","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/30879c92-b7bd-4123-8bcf-b550269ae39c.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942812&Signature=EXbpuJGF63xGS3qjxMQjsfMq8uSkg8Gmjf6IHDz5tuycL04hqwQwraMmWlaAYdDjuSvwMQEQaSn0MzwbpQyIx9L2JlI%2B%2FUu1OBMbZPe7Bp4h%2Bp3JudahdSomKQjqRviswZD5rK3RtgaTPqb2NMwfTwHWiVDapNFIV2JrYtSj3nRbUopandmZ2emxRfD9YWxqxFm5YzqysH7PsPZyp2HIH158Vwg4cmo9%2BeufyCvxrnfHOuWt7xzPSPMwLbFuS1G2hOUiFtpEQDTGSsmbCvNCtz2Ud4R%2BtnrOv8msYgbkCOe67w9Eii6UWHChTrAn0oOy6j5r%2BvIXj2b0A6i18bNsgg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"ade615ab-428d-4802-af15-dd0a74a55305","buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"13","updateTime":"2024-04-01T03:11:07Z","buildId":"ae26db4c-8fb3-4dc0-9f48-0e91b9520a44","sourceToken":"ade615ab-428d-4802-af15-dd0a74a55305","buildName":"projects/59153071763/locations/us-central1/builds/ae26db4c-8fb3-4dc0-9f48-0e91b9520a44"}}
[debug] [2024-04-01T03:11:06.817Z] Got source token ade615ab-428d-4802-af15-dd0a74a55305 for region us-central1
[debug] [2024-04-01T03:11:07.825Z] [update-default-us-central1-handleStripeWebhook] Retrying task index 0
[debug] [2024-04-01T03:11:07.825Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay8wZmNjd1FfYUxtQQ [none]
[debug] [2024-04-01T03:11:07.967Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay8wZmNjd1FfYUxtQQ 200
[debug] [2024-04-01T03:11:07.967Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay8wZmNjd1FfYUxtQQ {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay8wZmNjd1FfYUxtQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","httpsTrigger":{"url":"https://us-central1-csc190-w.cloudfunctions.net/handleStripeWebhook","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"handleStripeWebhook","updateTime":"2024-04-01T00:55:58.548Z","versionId":"11","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/30879c92-b7bd-4123-8bcf-b550269ae39c.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942812&Signature=EXbpuJGF63xGS3qjxMQjsfMq8uSkg8Gmjf6IHDz5tuycL04hqwQwraMmWlaAYdDjuSvwMQEQaSn0MzwbpQyIx9L2JlI%2B%2FUu1OBMbZPe7Bp4h%2Bp3JudahdSomKQjqRviswZD5rK3RtgaTPqb2NMwfTwHWiVDapNFIV2JrYtSj3nRbUopandmZ2emxRfD9YWxqxFm5YzqysH7PsPZyp2HIH158Vwg4cmo9%2BeufyCvxrnfHOuWt7xzPSPMwLbFuS1G2hOUiFtpEQDTGSsmbCvNCtz2Ud4R%2BtnrOv8msYgbkCOe67w9Eii6UWHChTrAn0oOy6j5r%2BvIXj2b0A6i18bNsgg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"ade615ab-428d-4802-af15-dd0a74a55305","buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"13","updateTime":"2024-04-01T03:11:07Z","buildId":"ae26db4c-8fb3-4dc0-9f48-0e91b9520a44","sourceToken":"ade615ab-428d-4802-af15-dd0a74a55305","buildName":"projects/59153071763/locations/us-central1/builds/ae26db4c-8fb3-4dc0-9f48-0e91b9520a44"}}
[debug] [2024-04-01T03:11:07.967Z] Got source token ade615ab-428d-4802-af15-dd0a74a55305 for region us-central1
[debug] [2024-04-01T03:11:09.981Z] [update-default-us-central1-handleStripeWebhook] Retrying task index 0
[debug] [2024-04-01T03:11:09.981Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay8wZmNjd1FfYUxtQQ [none]
[debug] [2024-04-01T03:11:10.123Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay8wZmNjd1FfYUxtQQ 200
[debug] [2024-04-01T03:11:10.124Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay8wZmNjd1FfYUxtQQ {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay8wZmNjd1FfYUxtQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","httpsTrigger":{"url":"https://us-central1-csc190-w.cloudfunctions.net/handleStripeWebhook","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"handleStripeWebhook","updateTime":"2024-04-01T00:55:58.548Z","versionId":"11","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/30879c92-b7bd-4123-8bcf-b550269ae39c.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942812&Signature=EXbpuJGF63xGS3qjxMQjsfMq8uSkg8Gmjf6IHDz5tuycL04hqwQwraMmWlaAYdDjuSvwMQEQaSn0MzwbpQyIx9L2JlI%2B%2FUu1OBMbZPe7Bp4h%2Bp3JudahdSomKQjqRviswZD5rK3RtgaTPqb2NMwfTwHWiVDapNFIV2JrYtSj3nRbUopandmZ2emxRfD9YWxqxFm5YzqysH7PsPZyp2HIH158Vwg4cmo9%2BeufyCvxrnfHOuWt7xzPSPMwLbFuS1G2hOUiFtpEQDTGSsmbCvNCtz2Ud4R%2BtnrOv8msYgbkCOe67w9Eii6UWHChTrAn0oOy6j5r%2BvIXj2b0A6i18bNsgg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"ade615ab-428d-4802-af15-dd0a74a55305","buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"13","updateTime":"2024-04-01T03:11:07Z","buildId":"ae26db4c-8fb3-4dc0-9f48-0e91b9520a44","sourceToken":"ade615ab-428d-4802-af15-dd0a74a55305","buildName":"projects/59153071763/locations/us-central1/builds/ae26db4c-8fb3-4dc0-9f48-0e91b9520a44"}}
[debug] [2024-04-01T03:11:10.124Z] Got source token ade615ab-428d-4802-af15-dd0a74a55305 for region us-central1
[debug] [2024-04-01T03:11:14.137Z] [update-default-us-central1-handleStripeWebhook] Retrying task index 0
[debug] [2024-04-01T03:11:14.137Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay8wZmNjd1FfYUxtQQ [none]
[debug] [2024-04-01T03:11:14.279Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay8wZmNjd1FfYUxtQQ 200
[debug] [2024-04-01T03:11:14.279Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay8wZmNjd1FfYUxtQQ {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay8wZmNjd1FfYUxtQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","httpsTrigger":{"url":"https://us-central1-csc190-w.cloudfunctions.net/handleStripeWebhook","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"handleStripeWebhook","updateTime":"2024-04-01T00:55:58.548Z","versionId":"11","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/30879c92-b7bd-4123-8bcf-b550269ae39c.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942812&Signature=EXbpuJGF63xGS3qjxMQjsfMq8uSkg8Gmjf6IHDz5tuycL04hqwQwraMmWlaAYdDjuSvwMQEQaSn0MzwbpQyIx9L2JlI%2B%2FUu1OBMbZPe7Bp4h%2Bp3JudahdSomKQjqRviswZD5rK3RtgaTPqb2NMwfTwHWiVDapNFIV2JrYtSj3nRbUopandmZ2emxRfD9YWxqxFm5YzqysH7PsPZyp2HIH158Vwg4cmo9%2BeufyCvxrnfHOuWt7xzPSPMwLbFuS1G2hOUiFtpEQDTGSsmbCvNCtz2Ud4R%2BtnrOv8msYgbkCOe67w9Eii6UWHChTrAn0oOy6j5r%2BvIXj2b0A6i18bNsgg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"ade615ab-428d-4802-af15-dd0a74a55305","buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"13","updateTime":"2024-04-01T03:11:07Z","buildId":"ae26db4c-8fb3-4dc0-9f48-0e91b9520a44","sourceToken":"ade615ab-428d-4802-af15-dd0a74a55305","buildName":"projects/59153071763/locations/us-central1/builds/ae26db4c-8fb3-4dc0-9f48-0e91b9520a44"}}
[debug] [2024-04-01T03:11:14.279Z] Got source token ade615ab-428d-4802-af15-dd0a74a55305 for region us-central1
[debug] [2024-04-01T03:11:15.528Z] [update-default-us-central1-sendEmailReceipt] Retrying task index 0
[debug] [2024-04-01T03:11:15.528Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw [none]
[debug] [2024-04-01T03:11:15.669Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw 200
[debug] [2024-04-01T03:11:15.669Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvc2VuZEVtYWlsUmVjZWlwdC9hNVpPTFZUUzVjcw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendEmailReceipt","updateTime":"2024-04-01T00:55:55.001Z","versionId":"28","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/30879c92-b7bd-4123-8bcf-b550269ae39c.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942812&Signature=EXbpuJGF63xGS3qjxMQjsfMq8uSkg8Gmjf6IHDz5tuycL04hqwQwraMmWlaAYdDjuSvwMQEQaSn0MzwbpQyIx9L2JlI%2B%2FUu1OBMbZPe7Bp4h%2Bp3JudahdSomKQjqRviswZD5rK3RtgaTPqb2NMwfTwHWiVDapNFIV2JrYtSj3nRbUopandmZ2emxRfD9YWxqxFm5YzqysH7PsPZyp2HIH158Vwg4cmo9%2BeufyCvxrnfHOuWt7xzPSPMwLbFuS1G2hOUiFtpEQDTGSsmbCvNCtz2Ud4R%2BtnrOv8msYgbkCOe67w9Eii6UWHChTrAn0oOy6j5r%2BvIXj2b0A6i18bNsgg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/sendEmailReceipt"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"30","updateTime":"2024-04-01T03:11:14Z","buildId":"ae26db4c-8fb3-4dc0-9f48-0e91b9520a44","sourceToken":"ade615ab-428d-4802-af15-dd0a74a55305","buildName":"projects/59153071763/locations/us-central1/builds/ae26db4c-8fb3-4dc0-9f48-0e91b9520a44"},"done":true,"error":{"code":3,"message":"Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.\nDid you list all required modules in the package.json dependencies?\nDetailed stack trace: Error: Cannot find module 'firebase/firestore'\nRequire stack:\n- /workspace/index.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1134:15)\n    at Module._load (node:internal/modules/cjs/loader:975:27)\n    at Module.require (node:internal/modules/cjs/loader:1225:19)\n    at require (node:internal/modules/helpers:177:18)\n    at Object.<anonymous> (/workspace/index.js:5:23)\n    at Module._compile (node:internal/modules/cjs/loader:1356:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)\n    at Module.load (node:internal/modules/cjs/loader:1197:32)\n    at Module._load (node:internal/modules/cjs/loader:1013:12)\n    at Module.require (node:internal/modules/cjs/loader:1225:19)\nCould not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation."}}
[debug] [2024-04-01T03:11:15.669Z] Got source token ade615ab-428d-4802-af15-dd0a74a55305 for region us-central1
[error] Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.
Did you list all required modules in the package.json dependencies?
Detailed stack trace: Error: Cannot find module 'firebase/firestore'
Require stack:
- /workspace/index.js
- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js
- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1134:15)
    at Module._load (node:internal/modules/cjs/loader:975:27)
    at Module.require (node:internal/modules/cjs/loader:1225:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/workspace/index.js:5:23)
    at Module._compile (node:internal/modules/cjs/loader:1356:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)
    at Module.load (node:internal/modules/cjs/loader:1197:32)
    at Module._load (node:internal/modules/cjs/loader:1013:12)
    at Module.require (node:internal/modules/cjs/loader:1225:19)
Could not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation.
[debug] [2024-04-01T03:11:22.291Z] [update-default-us-central1-handleStripeWebhook] Retrying task index 0
[debug] [2024-04-01T03:11:22.291Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay8wZmNjd1FfYUxtQQ [none]
[debug] [2024-04-01T03:11:22.462Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay8wZmNjd1FfYUxtQQ 200
[debug] [2024-04-01T03:11:22.462Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay8wZmNjd1FfYUxtQQ {"name":"operations/Y3NjMTkwLXcvdXMtY2VudHJhbDEvaGFuZGxlU3RyaXBlV2ViaG9vay8wZmNjd1FfYUxtQQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook","httpsTrigger":{"url":"https://us-central1-csc190-w.cloudfunctions.net/handleStripeWebhook","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"handleStripeWebhook","updateTime":"2024-04-01T00:55:58.548Z","versionId":"11","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0091374fef38a5b1607bbdba7d2aaa8c62dace0b"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-351145659803.us-central1.cloudfunctions.appspot.com/30879c92-b7bd-4123-8bcf-b550269ae39c.zip?GoogleAccessId=service-59153071763@gcf-admin-robot.iam.gserviceaccount.com&Expires=1711942812&Signature=EXbpuJGF63xGS3qjxMQjsfMq8uSkg8Gmjf6IHDz5tuycL04hqwQwraMmWlaAYdDjuSvwMQEQaSn0MzwbpQyIx9L2JlI%2B%2FUu1OBMbZPe7Bp4h%2Bp3JudahdSomKQjqRviswZD5rK3RtgaTPqb2NMwfTwHWiVDapNFIV2JrYtSj3nRbUopandmZ2emxRfD9YWxqxFm5YzqysH7PsPZyp2HIH158Vwg4cmo9%2BeufyCvxrnfHOuWt7xzPSPMwLbFuS1G2hOUiFtpEQDTGSsmbCvNCtz2Ud4R%2BtnrOv8msYgbkCOe67w9Eii6UWHChTrAn0oOy6j5r%2BvIXj2b0A6i18bNsgg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}","GCLOUD_PROJECT":"csc190-w","EVENTARC_CLOUD_EVENT_SOURCE":"projects/csc190-w/locations/us-central1/functions/handleStripeWebhook"},"runtime":"nodejs18","buildId":"ff2afa8d-3a22-491d-8971-e5f6487b915b","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"ade615ab-428d-4802-af15-dd0a74a55305","buildName":"projects/59153071763/locations/us-central1/builds/ff2afa8d-3a22-491d-8971-e5f6487b915b","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"13","updateTime":"2024-04-01T03:11:22Z","buildId":"ae26db4c-8fb3-4dc0-9f48-0e91b9520a44","sourceToken":"ade615ab-428d-4802-af15-dd0a74a55305","buildName":"projects/59153071763/locations/us-central1/builds/ae26db4c-8fb3-4dc0-9f48-0e91b9520a44"},"done":true,"error":{"code":3,"message":"Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.\nDid you list all required modules in the package.json dependencies?\nDetailed stack trace: Error: Cannot find module 'firebase/firestore'\nRequire stack:\n- /workspace/index.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1134:15)\n    at Module._load (node:internal/modules/cjs/loader:975:27)\n    at Module.require (node:internal/modules/cjs/loader:1225:19)\n    at require (node:internal/modules/helpers:177:18)\n    at Object.<anonymous> (/workspace/index.js:5:23)\n    at Module._compile (node:internal/modules/cjs/loader:1356:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)\n    at Module.load (node:internal/modules/cjs/loader:1197:32)\n    at Module._load (node:internal/modules/cjs/loader:1013:12)\n    at Module.require (node:internal/modules/cjs/loader:1225:19)\nCould not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation."}}
[debug] [2024-04-01T03:11:22.462Z] Got source token ade615ab-428d-4802-af15-dd0a74a55305 for region us-central1
[error] Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.
Did you list all required modules in the package.json dependencies?
Detailed stack trace: Error: Cannot find module 'firebase/firestore'
Require stack:
- /workspace/index.js
- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js
- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1134:15)
    at Module._load (node:internal/modules/cjs/loader:975:27)
    at Module.require (node:internal/modules/cjs/loader:1225:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/workspace/index.js:5:23)
    at Module._compile (node:internal/modules/cjs/loader:1356:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)
    at Module.load (node:internal/modules/cjs/loader:1197:32)
    at Module._load (node:internal/modules/cjs/loader:1013:12)
    at Module.require (node:internal/modules/cjs/loader:1225:19)
Could not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation.
[debug] [2024-04-01T03:11:22.468Z] Total Function Deployment time: 64444
[debug] [2024-04-01T03:11:22.468Z] 2 Functions Deployed
[debug] [2024-04-01T03:11:22.468Z] 2 Functions Errored
[debug] [2024-04-01T03:11:22.468Z] 0 Function Deployments Aborted
[debug] [2024-04-01T03:11:22.468Z] Average Function Deployment time: 61046.5
[info] 
[info] Functions deploy had errors with the following functions:
	handleStripeWebhook(us-central1)
	sendEmailReceipt(us-central1)
[debug] [2024-04-01T03:11:22.552Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[info] i  functions: cleaning up build files... 
[debug] [2024-04-01T03:11:22.553Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/csc190-w/locations/us-central1/repositories/gcf-artifacts/packages/send_email_receipt [none]
[debug] [2024-04-01T03:11:22.553Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/csc190-w/locations/us-central1/repositories/gcf-artifacts/packages/handle_stripe_webhook [none]
[debug] [2024-04-01T03:11:22.553Z] >>> [apiv2][query] GET https://us.gcr.io/v2/csc190-w/gcf/us-central1/tags/list [none]
[debug] [2024-04-01T03:11:22.878Z] <<< [apiv2][status] GET https://us.gcr.io/v2/csc190-w/gcf/us-central1/tags/list 404
[debug] [2024-04-01T03:11:22.878Z] <<< [apiv2][body] GET https://us.gcr.io/v2/csc190-w/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-04-01T03:11:22.879Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-04-01T03:11:22.885Z] >>> [apiv2][query] GET https://us.gcr.io/v2/csc190-w/gcf/us-central1/tags/list [none]
[debug] [2024-04-01T03:11:22.956Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/csc190-w/locations/us-central1/repositories/gcf-artifacts/packages/send_email_receipt 200
[debug] [2024-04-01T03:11:22.956Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/csc190-w/locations/us-central1/repositories/gcf-artifacts/packages/send_email_receipt {"name":"projects/csc190-w/locations/us-central1/operations/594db72a-c6c9-41b1-b0f3-9661b6503ea1","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1beta2.OperationMetadata"}}
[debug] [2024-04-01T03:11:22.956Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1beta2/projects/csc190-w/locations/us-central1/operations/594db72a-c6c9-41b1-b0f3-9661b6503ea1 [none]
[debug] [2024-04-01T03:11:22.971Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/csc190-w/locations/us-central1/repositories/gcf-artifacts/packages/handle_stripe_webhook 404
[debug] [2024-04-01T03:11:22.971Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/csc190-w/locations/us-central1/repositories/gcf-artifacts/packages/handle_stripe_webhook {"error":{"code":404,"message":"Package \"projects/csc190-w/locations/us-central1/repositories/gcf-artifacts/packages/handle_stripe_webhook\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-04-01T03:11:23.037Z] <<< [apiv2][status] GET https://us.gcr.io/v2/csc190-w/gcf/us-central1/tags/list 404
[debug] [2024-04-01T03:11:23.038Z] <<< [apiv2][body] GET https://us.gcr.io/v2/csc190-w/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-04-01T03:11:23.038Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-04-01T03:11:23.089Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1beta2/projects/csc190-w/locations/us-central1/operations/594db72a-c6c9-41b1-b0f3-9661b6503ea1 200
[debug] [2024-04-01T03:11:23.089Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1beta2/projects/csc190-w/locations/us-central1/operations/594db72a-c6c9-41b1-b0f3-9661b6503ea1 {"name":"projects/csc190-w/locations/us-central1/operations/594db72a-c6c9-41b1-b0f3-9661b6503ea1","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1beta2.OperationMetadata"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[debug] [2024-04-01T03:11:23.151Z] >>> [apiv2][query] GET https://us.gcr.io/v2/csc190-w/gcf/us-central1/tags/list [none]
[debug] [2024-04-01T03:11:23.302Z] <<< [apiv2][status] GET https://us.gcr.io/v2/csc190-w/gcf/us-central1/tags/list 404
[debug] [2024-04-01T03:11:23.302Z] <<< [apiv2][body] GET https://us.gcr.io/v2/csc190-w/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-04-01T03:11:23.303Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[warn] !  functions: Unhandled error cleaning up build images. This could result in a small monthly bill if not corrected. You can attempt to delete these images by redeploying or you can delete them manually at https://console.cloud.google.com/gcr/images/csc190-w/us/gcf 
[debug] [2024-04-01T03:11:23.303Z] Functions deploy failed.
[debug] [2024-04-01T03:11:23.304Z] {
  "endpoint": {
    "id": "sendEmailReceipt",
    "project": "csc190-w",
    "region": "us-central1",
    "entryPoint": "sendEmailReceipt",
    "platform": "gcfv1",
    "runtime": "nodejs18",
    "eventTrigger": {
      "eventType": "providers/cloud.firestore/eventTypes/document.create",
      "retry": false,
      "eventFilters": {
        "resource": "projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"
      }
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}",
      "GCLOUD_PROJECT": "csc190-w",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/csc190-w/locations/us-central1/functions/sendEmailReceipt"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "0091374fef38a5b1607bbdba7d2aaa8c62dace0b"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.\nDid you list all required modules in the package.json dependencies?\nDetailed stack trace: Error: Cannot find module 'firebase/firestore'\nRequire stack:\n- /workspace/index.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1134:15)\n    at Module._load (node:internal/modules/cjs/loader:975:27)\n    at Module.require (node:internal/modules/cjs/loader:1225:19)\n    at require (node:internal/modules/helpers:177:18)\n    at Object.<anonymous> (/workspace/index.js:5:23)\n    at Module._compile (node:internal/modules/cjs/loader:1356:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)\n    at Module.load (node:internal/modules/cjs/loader:1197:32)\n    at Module._load (node:internal/modules/cjs/loader:1013:12)\n    at Module.require (node:internal/modules/cjs/loader:1225:19)\nCould not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation.",
    "status": 3,
    "code": 3
  }
}
[debug] [2024-04-01T03:11:23.304Z] {
  "endpoint": {
    "id": "handleStripeWebhook",
    "project": "csc190-w",
    "region": "us-central1",
    "entryPoint": "handleStripeWebhook",
    "platform": "gcfv1",
    "runtime": "nodejs18",
    "httpsTrigger": {},
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"csc190-w\",\"databaseURL\":\"https://csc190-w-default-rtdb.firebaseio.com\",\"storageBucket\":\"csc190-w.appspot.com\"}",
      "GCLOUD_PROJECT": "csc190-w",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/csc190-w/locations/us-central1/functions/handleStripeWebhook"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "0091374fef38a5b1607bbdba7d2aaa8c62dace0b",
    "labels": {
      "deployment-tool": "cli-firebase"
    }
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.\nDid you list all required modules in the package.json dependencies?\nDetailed stack trace: Error: Cannot find module 'firebase/firestore'\nRequire stack:\n- /workspace/index.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1134:15)\n    at Module._load (node:internal/modules/cjs/loader:975:27)\n    at Module.require (node:internal/modules/cjs/loader:1225:19)\n    at require (node:internal/modules/helpers:177:18)\n    at Object.<anonymous> (/workspace/index.js:5:23)\n    at Module._compile (node:internal/modules/cjs/loader:1356:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)\n    at Module.load (node:internal/modules/cjs/loader:1197:32)\n    at Module._load (node:internal/modules/cjs/loader:1013:12)\n    at Module.require (node:internal/modules/cjs/loader:1225:19)\nCould not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation.",
    "status": 3,
    "code": 3
  }
}
[error] Error: There was an error deploying functions:
[error] - Error Failed to update function sendEmailReceipt in region us-central1
[error] - Error Failed to update function handleStripeWebhook in region us-central1
[debug] [2024-04-01T03:12:13.707Z] ----------------------------------------------------------------------
[debug] [2024-04-01T03:12:13.708Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Tel\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js serve
[debug] [2024-04-01T03:12:13.708Z] CLI Version:   13.6.0
[debug] [2024-04-01T03:12:13.708Z] Platform:      win32
[debug] [2024-04-01T03:12:13.709Z] Node Version:  v19.6.0
[debug] [2024-04-01T03:12:13.709Z] Time:          Sun Mar 31 2024 20:12:13 GMT-0700 (Pacific Daylight Time)
[debug] [2024-04-01T03:12:13.709Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-04-01T03:12:13.762Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-04-01T03:12:13.763Z] > authorizing via signed-in user (achouhan0114@gmail.com)
[debug] [2024-04-01T03:12:13.763Z] [iam] checking project csc190-w for permissions ["firebase.projects.get"]
[debug] [2024-04-01T03:12:13.764Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions [none]
[debug] [2024-04-01T03:12:13.764Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions x-goog-quota-user=projects/csc190-w
[debug] [2024-04-01T03:12:13.764Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T03:12:13.882Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions 200
[debug] [2024-04-01T03:12:13.882Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T03:12:13.882Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T03:12:14.198Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T03:12:14.198Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] 
[info] === Serving from 'C:\Users\Tel\CSC190_Website'...
[info] 
[debug] [2024-04-01T03:12:14.204Z] defaultcredentials: writing to file C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json
[debug] [2024-04-01T03:12:14.204Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 
[debug] [2024-04-01T03:12:14.206Z] Setting GAC to C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Tel\\AppData\\Roaming\\firebase\\achouhan0114_gmail_com_application_default_credentials.json"}}
[debug] [2024-04-01T03:12:14.206Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig [none]
[debug] [2024-04-01T03:12:14.524Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig 200
[debug] [2024-04-01T03:12:14.524Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig {"projectId":"csc190-w","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com"}
[debug] [2024-04-01T03:12:14.697Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 200
[debug] [2024-04-01T03:12:14.697Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites {"sites":[{"name":"projects/csc190-w/sites/csc190-w","defaultUrl":"https://csc190-w.web.app","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","type":"DEFAULT_SITE"}]}
[debug] [2024-04-01T03:12:14.697Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config [none]
[debug] [2024-04-01T03:12:14.999Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config 200
[debug] [2024-04-01T03:12:14.999Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config {"projectId":"csc190-w","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com","apiKey":"AIzaSyDTmAvGOetZpKVXBDQyOG18Y8YfVOVPV3M","authDomain":"csc190-w.firebaseapp.com","messagingSenderId":"59153071763","measurementId":"G-KYZHBDYFBR"}
[debug] [2024-04-01T03:12:15.003Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T03:12:15.152Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T03:12:15.152Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] i  functions: Watching "C:\Users\Tel\CSC190_Website\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\Tel\\CSC190_Website\\functions\" for Cloud Functions..."}}
[info] i  hosting[csc190-w]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] +  hosting[csc190-w]: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[debug] [2024-04-01T03:12:15.168Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2024-04-01T03:12:15.905Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "ejs": "^3.1.9",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.13",
    "stripe": "^14.15.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-01T03:12:15.905Z] Building nodejs source
[debug] [2024-04-01T03:12:15.906Z] Failed to find version of module node: reached end of search path C:\Users\Tel\CSC190_Website\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "19". Using node@19 from host. 
[debug] [2024-04-01T03:12:15.907Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-01T03:12:15.911Z] Found firebase-functions binary at 'C:\Users\Tel\CSC190_Website\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8177

[debug] [2024-04-01T03:12:16.262Z] Got response from /__/functions.yaml {"endpoints":{"sendEmailReceipt":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"retry":false},"labels":{},"entryPoint":"sendEmailReceipt"},"handleStripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: sendEmailReceipt, handleStripeWebhook. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: sendEmailReceipt, handleStripeWebhook."}}
[info] i  functions[us-central1-sendEmailReceipt]: function ignored because the firestore emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the firestore emulator does not exist or is not running."}}
[info] +  functions[us-central1-handleStripeWebhook]: http function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook)."}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:13:16 +0000] "GET / HTTP/1.1" 200 774 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:13:16 +0000] \"GET / HTTP/1.1\" 200 774 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:13:16 +0000] "GET /static/css/main.3903d4f5.css HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:13:16 +0000] \"GET /static/css/main.3903d4f5.css HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:13:16 +0000] "GET /static/js/main.ffd88924.js HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:13:16 +0000] \"GET /static/js/main.ffd88924.js HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:13:16 +0000] "GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1" 200 1363422 "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:13:16 +0000] \"GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1\" 200 1363422 \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[debug] [2024-04-01T03:17:16.485Z] ----------------------------------------------------------------------
[debug] [2024-04-01T03:17:16.487Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Tel\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js serve
[debug] [2024-04-01T03:17:16.487Z] CLI Version:   13.6.0
[debug] [2024-04-01T03:17:16.487Z] Platform:      win32
[debug] [2024-04-01T03:17:16.487Z] Node Version:  v19.6.0
[debug] [2024-04-01T03:17:16.487Z] Time:          Sun Mar 31 2024 20:17:16 GMT-0700 (Pacific Daylight Time)
[debug] [2024-04-01T03:17:16.487Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-04-01T03:17:16.539Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-04-01T03:17:16.540Z] > authorizing via signed-in user (achouhan0114@gmail.com)
[debug] [2024-04-01T03:17:16.540Z] [iam] checking project csc190-w for permissions ["firebase.projects.get"]
[debug] [2024-04-01T03:17:16.541Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions [none]
[debug] [2024-04-01T03:17:16.541Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions x-goog-quota-user=projects/csc190-w
[debug] [2024-04-01T03:17:16.541Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T03:17:16.771Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions 200
[debug] [2024-04-01T03:17:16.772Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T03:17:16.772Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T03:17:16.992Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T03:17:16.992Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] 
[info] === Serving from 'C:\Users\Tel\CSC190_Website'...
[info] 
[debug] [2024-04-01T03:17:16.998Z] defaultcredentials: writing to file C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json
[debug] [2024-04-01T03:17:16.998Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 
[debug] [2024-04-01T03:17:17.000Z] Setting GAC to C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Tel\\AppData\\Roaming\\firebase\\achouhan0114_gmail_com_application_default_credentials.json"}}
[debug] [2024-04-01T03:17:17.000Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig [none]
[debug] [2024-04-01T03:17:17.259Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig 200
[debug] [2024-04-01T03:17:17.259Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig {"projectId":"csc190-w","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com"}
[debug] [2024-04-01T03:17:17.509Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 200
[debug] [2024-04-01T03:17:17.509Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites {"sites":[{"name":"projects/csc190-w/sites/csc190-w","defaultUrl":"https://csc190-w.web.app","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","type":"DEFAULT_SITE"}]}
[debug] [2024-04-01T03:17:17.509Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config [none]
[debug] [2024-04-01T03:17:17.980Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config 200
[debug] [2024-04-01T03:17:17.981Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config {"projectId":"csc190-w","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com","apiKey":"AIzaSyDTmAvGOetZpKVXBDQyOG18Y8YfVOVPV3M","authDomain":"csc190-w.firebaseapp.com","messagingSenderId":"59153071763","measurementId":"G-KYZHBDYFBR"}
[debug] [2024-04-01T03:17:17.985Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T03:17:18.261Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T03:17:18.261Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] i  functions: Watching "C:\Users\Tel\CSC190_Website\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\Tel\\CSC190_Website\\functions\" for Cloud Functions..."}}
[info] i  hosting[csc190-w]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] +  hosting[csc190-w]: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[debug] [2024-04-01T03:17:18.275Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2024-04-01T03:17:19.008Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "ejs": "^3.1.9",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.13",
    "stripe": "^14.15.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-01T03:17:19.008Z] Building nodejs source
[debug] [2024-04-01T03:17:19.008Z] Failed to find version of module node: reached end of search path C:\Users\Tel\CSC190_Website\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "19". Using node@19 from host. 
[debug] [2024-04-01T03:17:19.010Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-01T03:17:19.014Z] Found firebase-functions binary at 'C:\Users\Tel\CSC190_Website\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8629

[debug] [2024-04-01T03:17:19.354Z] Got response from /__/functions.yaml {"endpoints":{"sendEmailReceipt":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"retry":false},"labels":{},"entryPoint":"sendEmailReceipt"},"handleStripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: sendEmailReceipt, handleStripeWebhook. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: sendEmailReceipt, handleStripeWebhook."}}
[info] i  functions[us-central1-sendEmailReceipt]: function ignored because the firestore emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the firestore emulator does not exist or is not running."}}
[info] +  functions[us-central1-handleStripeWebhook]: http function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook)."}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:17:28 +0000] "GET / HTTP/1.1" 200 774 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:17:28 +0000] \"GET / HTTP/1.1\" 200 774 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:17:28 +0000] "GET /static/css/main.3903d4f5.css HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:17:28 +0000] \"GET /static/css/main.3903d4f5.css HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:17:28 +0000] "GET /static/js/main.f4fd8342.js HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:17:28 +0000] \"GET /static/js/main.f4fd8342.js HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:17:28 +0000] "GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1" 200 1363422 "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:17:28 +0000] \"GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1\" 200 1363422 \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[debug] [2024-04-01T03:20:09.017Z] ----------------------------------------------------------------------
[debug] [2024-04-01T03:20:09.018Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Tel\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js serve
[debug] [2024-04-01T03:20:09.019Z] CLI Version:   13.6.0
[debug] [2024-04-01T03:20:09.019Z] Platform:      win32
[debug] [2024-04-01T03:20:09.019Z] Node Version:  v19.6.0
[debug] [2024-04-01T03:20:09.019Z] Time:          Sun Mar 31 2024 20:20:09 GMT-0700 (Pacific Daylight Time)
[debug] [2024-04-01T03:20:09.019Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-04-01T03:20:09.071Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-04-01T03:20:09.072Z] > authorizing via signed-in user (achouhan0114@gmail.com)
[debug] [2024-04-01T03:20:09.072Z] [iam] checking project csc190-w for permissions ["firebase.projects.get"]
[debug] [2024-04-01T03:20:09.073Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions [none]
[debug] [2024-04-01T03:20:09.073Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions x-goog-quota-user=projects/csc190-w
[debug] [2024-04-01T03:20:09.073Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T03:20:09.293Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions 200
[debug] [2024-04-01T03:20:09.294Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T03:20:09.294Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T03:20:09.782Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T03:20:09.782Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] 
[info] === Serving from 'C:\Users\Tel\CSC190_Website'...
[info] 
[debug] [2024-04-01T03:20:09.788Z] defaultcredentials: writing to file C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json
[debug] [2024-04-01T03:20:09.788Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 
[debug] [2024-04-01T03:20:09.790Z] Setting GAC to C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Tel\\AppData\\Roaming\\firebase\\achouhan0114_gmail_com_application_default_credentials.json"}}
[debug] [2024-04-01T03:20:09.791Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig [none]
[debug] [2024-04-01T03:20:09.949Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig 200
[debug] [2024-04-01T03:20:09.950Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig {"projectId":"csc190-w","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com"}
[debug] [2024-04-01T03:20:10.308Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 200
[debug] [2024-04-01T03:20:10.308Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites {"sites":[{"name":"projects/csc190-w/sites/csc190-w","defaultUrl":"https://csc190-w.web.app","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","type":"DEFAULT_SITE"}]}
[debug] [2024-04-01T03:20:10.309Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config [none]
[debug] [2024-04-01T03:20:10.600Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config 200
[debug] [2024-04-01T03:20:10.600Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config {"projectId":"csc190-w","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com","apiKey":"AIzaSyDTmAvGOetZpKVXBDQyOG18Y8YfVOVPV3M","authDomain":"csc190-w.firebaseapp.com","messagingSenderId":"59153071763","measurementId":"G-KYZHBDYFBR"}
[debug] [2024-04-01T03:20:10.603Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T03:20:10.747Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T03:20:10.747Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] i  functions: Watching "C:\Users\Tel\CSC190_Website\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\Tel\\CSC190_Website\\functions\" for Cloud Functions..."}}
[info] i  hosting[csc190-w]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] +  hosting[csc190-w]: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[debug] [2024-04-01T03:20:10.756Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2024-04-01T03:20:11.653Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "ejs": "^3.1.9",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.13",
    "stripe": "^14.15.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-01T03:20:11.653Z] Building nodejs source
[debug] [2024-04-01T03:20:11.653Z] Failed to find version of module node: reached end of search path C:\Users\Tel\CSC190_Website\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "19". Using node@19 from host. 
[debug] [2024-04-01T03:20:11.654Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-01T03:20:11.658Z] Found firebase-functions binary at 'C:\Users\Tel\CSC190_Website\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8453

[debug] [2024-04-01T03:20:12.014Z] Got response from /__/functions.yaml {"endpoints":{"sendEmailReceipt":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"retry":false},"labels":{},"entryPoint":"sendEmailReceipt"},"handleStripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: sendEmailReceipt, handleStripeWebhook. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: sendEmailReceipt, handleStripeWebhook."}}
[info] i  functions[us-central1-sendEmailReceipt]: function ignored because the firestore emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the firestore emulator does not exist or is not running."}}
[info] +  functions[us-central1-handleStripeWebhook]: http function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook)."}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:20:24 +0000] "GET / HTTP/1.1" 200 774 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:20:24 +0000] \"GET / HTTP/1.1\" 200 774 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:20:24 +0000] "GET /static/css/main.3903d4f5.css HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:20:24 +0000] \"GET /static/css/main.3903d4f5.css HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:20:24 +0000] "GET /static/js/main.76532dd9.js HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:20:24 +0000] \"GET /static/js/main.76532dd9.js HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:20:24 +0000] "GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1" 200 1363422 "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:20:24 +0000] \"GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1\" 200 1363422 \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[debug] [2024-04-01T03:22:46.458Z] File C:\Users\Tel\CSC190_Website\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Tel\\CSC190_Website\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-04-01T03:22:47.461Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2024-04-01T03:22:48.209Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "ejs": "^3.1.9",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.13",
    "stripe": "^14.15.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-01T03:22:48.209Z] Building nodejs source
[debug] [2024-04-01T03:22:48.209Z] Failed to find version of module node: reached end of search path C:\Users\Tel\CSC190_Website\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "19". Using node@19 from host. 
[debug] [2024-04-01T03:22:48.210Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-01T03:22:48.213Z] Found firebase-functions binary at 'C:\Users\Tel\CSC190_Website\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8718

[debug] [2024-04-01T03:22:48.573Z] Got response from /__/functions.yaml {"endpoints":{"sendEmailReceipt":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"retry":false},"labels":{},"entryPoint":"sendEmailReceipt"},"handleStripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-04-01T03:23:29.543Z] ----------------------------------------------------------------------
[debug] [2024-04-01T03:23:29.544Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Tel\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js serve
[debug] [2024-04-01T03:23:29.544Z] CLI Version:   13.6.0
[debug] [2024-04-01T03:23:29.544Z] Platform:      win32
[debug] [2024-04-01T03:23:29.544Z] Node Version:  v19.6.0
[debug] [2024-04-01T03:23:29.544Z] Time:          Sun Mar 31 2024 20:23:29 GMT-0700 (Pacific Daylight Time)
[debug] [2024-04-01T03:23:29.544Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-04-01T03:23:29.603Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-04-01T03:23:29.604Z] > authorizing via signed-in user (achouhan0114@gmail.com)
[debug] [2024-04-01T03:23:29.604Z] [iam] checking project csc190-w for permissions ["firebase.projects.get"]
[debug] [2024-04-01T03:23:29.605Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions [none]
[debug] [2024-04-01T03:23:29.605Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions x-goog-quota-user=projects/csc190-w
[debug] [2024-04-01T03:23:29.605Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T03:23:29.847Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions 200
[debug] [2024-04-01T03:23:29.847Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T03:23:29.847Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T03:23:30.170Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T03:23:30.171Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] 
[info] === Serving from 'C:\Users\Tel\CSC190_Website'...
[info] 
[debug] [2024-04-01T03:23:30.175Z] defaultcredentials: writing to file C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json
[debug] [2024-04-01T03:23:30.175Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 
[debug] [2024-04-01T03:23:30.176Z] Setting GAC to C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Tel\\AppData\\Roaming\\firebase\\achouhan0114_gmail_com_application_default_credentials.json"}}
[debug] [2024-04-01T03:23:30.176Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig [none]
[debug] [2024-04-01T03:23:30.457Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig 200
[debug] [2024-04-01T03:23:30.457Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig {"projectId":"csc190-w","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com"}
[debug] [2024-04-01T03:23:30.696Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 200
[debug] [2024-04-01T03:23:30.696Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites {"sites":[{"name":"projects/csc190-w/sites/csc190-w","defaultUrl":"https://csc190-w.web.app","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","type":"DEFAULT_SITE"}]}
[debug] [2024-04-01T03:23:30.697Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config [none]
[debug] [2024-04-01T03:23:31.017Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config 200
[debug] [2024-04-01T03:23:31.017Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config {"projectId":"csc190-w","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com","apiKey":"AIzaSyDTmAvGOetZpKVXBDQyOG18Y8YfVOVPV3M","authDomain":"csc190-w.firebaseapp.com","messagingSenderId":"59153071763","measurementId":"G-KYZHBDYFBR"}
[debug] [2024-04-01T03:23:31.021Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T03:23:31.302Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T03:23:31.302Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] i  functions: Watching "C:\Users\Tel\CSC190_Website\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\Tel\\CSC190_Website\\functions\" for Cloud Functions..."}}
[info] i  hosting[csc190-w]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] +  hosting[csc190-w]: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[debug] [2024-04-01T03:23:31.312Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2024-04-01T03:23:32.124Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "ejs": "^3.1.9",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.13",
    "stripe": "^14.15.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-01T03:23:32.124Z] Building nodejs source
[debug] [2024-04-01T03:23:32.124Z] Failed to find version of module node: reached end of search path C:\Users\Tel\CSC190_Website\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "19". Using node@19 from host. 
[debug] [2024-04-01T03:23:32.126Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-01T03:23:32.129Z] Found firebase-functions binary at 'C:\Users\Tel\CSC190_Website\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8230

[debug] [2024-04-01T03:23:32.487Z] Got response from /__/functions.yaml {"endpoints":{"sendEmailReceipt":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"retry":false},"labels":{},"entryPoint":"sendEmailReceipt"},"handleStripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: sendEmailReceipt, handleStripeWebhook. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: sendEmailReceipt, handleStripeWebhook."}}
[info] i  functions[us-central1-sendEmailReceipt]: function ignored because the firestore emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the firestore emulator does not exist or is not running."}}
[info] +  functions[us-central1-handleStripeWebhook]: http function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook)."}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:23:57 +0000] "GET / HTTP/1.1" 200 774 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:23:57 +0000] \"GET / HTTP/1.1\" 200 774 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:23:57 +0000] "GET /static/css/main.3903d4f5.css HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:23:57 +0000] \"GET /static/css/main.3903d4f5.css HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:23:57 +0000] "GET /static/js/main.76532dd9.js HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:23:57 +0000] \"GET /static/js/main.76532dd9.js HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:23:57 +0000] "GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1" 200 1363422 "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:23:57 +0000] \"GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1\" 200 1363422 \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[debug] [2024-04-01T03:29:13.516Z] File C:\Users\Tel\CSC190_Website\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Tel\\CSC190_Website\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-04-01T03:29:14.521Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2024-04-01T03:29:15.489Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "ejs": "^3.1.9",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.13",
    "stripe": "^14.15.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-01T03:29:15.489Z] Building nodejs source
[debug] [2024-04-01T03:29:15.490Z] Failed to find version of module node: reached end of search path C:\Users\Tel\CSC190_Website\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "19". Using node@19 from host. 
[debug] [2024-04-01T03:29:15.491Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-01T03:29:15.495Z] Found firebase-functions binary at 'C:\Users\Tel\CSC190_Website\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8224

[debug] [2024-04-01T03:29:15.855Z] Got response from /__/functions.yaml {"endpoints":{"sendEmailReceipt":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"retry":false},"labels":{},"entryPoint":"sendEmailReceipt"},"handleStripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: sendEmailReceipt, handleStripeWebhook. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: sendEmailReceipt, handleStripeWebhook."}}
[debug] [2024-04-01T03:29:38.236Z] File C:\Users\Tel\CSC190_Website\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Tel\\CSC190_Website\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-04-01T03:29:39.249Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2024-04-01T03:29:39.970Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "ejs": "^3.1.9",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.13",
    "stripe": "^14.15.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-01T03:29:39.970Z] Building nodejs source
[debug] [2024-04-01T03:29:39.971Z] Failed to find version of module node: reached end of search path C:\Users\Tel\CSC190_Website\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "19". Using node@19 from host. 
[debug] [2024-04-01T03:29:39.971Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-01T03:29:39.974Z] Found firebase-functions binary at 'C:\Users\Tel\CSC190_Website\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8774

[debug] [2024-04-01T03:29:40.326Z] Got response from /__/functions.yaml {"endpoints":{"sendEmailReceipt":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"retry":false},"labels":{},"entryPoint":"sendEmailReceipt"},"handleStripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: sendEmailReceipt, handleStripeWebhook. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: sendEmailReceipt, handleStripeWebhook."}}
[debug] [2024-04-01T03:29:56.186Z] ----------------------------------------------------------------------
[debug] [2024-04-01T03:29:56.188Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Tel\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js serve
[debug] [2024-04-01T03:29:56.188Z] CLI Version:   13.6.0
[debug] [2024-04-01T03:29:56.188Z] Platform:      win32
[debug] [2024-04-01T03:29:56.188Z] Node Version:  v19.6.0
[debug] [2024-04-01T03:29:56.188Z] Time:          Sun Mar 31 2024 20:29:56 GMT-0700 (Pacific Daylight Time)
[debug] [2024-04-01T03:29:56.188Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-04-01T03:29:56.241Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-04-01T03:29:56.241Z] > authorizing via signed-in user (achouhan0114@gmail.com)
[debug] [2024-04-01T03:29:56.242Z] [iam] checking project csc190-w for permissions ["firebase.projects.get"]
[debug] [2024-04-01T03:29:56.242Z] > refreshing access token with scopes: []
[debug] [2024-04-01T03:29:56.243Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2024-04-01T03:29:56.243Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2024-04-01T03:29:56.393Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2024-04-01T03:29:56.393Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2024-04-01T03:29:56.401Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions [none]
[debug] [2024-04-01T03:29:56.401Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions x-goog-quota-user=projects/csc190-w
[debug] [2024-04-01T03:29:56.401Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T03:29:56.620Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions 200
[debug] [2024-04-01T03:29:56.620Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T03:29:56.621Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T03:29:56.932Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T03:29:56.932Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] 
[info] === Serving from 'C:\Users\Tel\CSC190_Website'...
[info] 
[debug] [2024-04-01T03:29:56.938Z] defaultcredentials: writing to file C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json
[debug] [2024-04-01T03:29:56.938Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 
[debug] [2024-04-01T03:29:56.940Z] Setting GAC to C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Tel\\AppData\\Roaming\\firebase\\achouhan0114_gmail_com_application_default_credentials.json"}}
[debug] [2024-04-01T03:29:56.941Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig [none]
[debug] [2024-04-01T03:29:57.095Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig 200
[debug] [2024-04-01T03:29:57.095Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig {"projectId":"csc190-w","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com"}
[debug] [2024-04-01T03:29:57.101Z] Error: listen EADDRINUSE: address already in use ::1:5001
    at Server.setupListenHandle [as _listen2] (node:net:1740:16)
    at listenInCluster (node:net:1788:12)
    at GetAddrInfoReqWrap.doListen [as callback] (node:net:1937:7)
    at GetAddrInfoReqWrap.onlookup [as oncomplete] (node:dns:109:8)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2024-04-01T03:30:06.191Z] ----------------------------------------------------------------------
[debug] [2024-04-01T03:30:06.192Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Tel\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js serve
[debug] [2024-04-01T03:30:06.192Z] CLI Version:   13.6.0
[debug] [2024-04-01T03:30:06.193Z] Platform:      win32
[debug] [2024-04-01T03:30:06.193Z] Node Version:  v19.6.0
[debug] [2024-04-01T03:30:06.193Z] Time:          Sun Mar 31 2024 20:30:06 GMT-0700 (Pacific Daylight Time)
[debug] [2024-04-01T03:30:06.193Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-04-01T03:30:06.244Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-04-01T03:30:06.244Z] > authorizing via signed-in user (achouhan0114@gmail.com)
[debug] [2024-04-01T03:30:06.244Z] [iam] checking project csc190-w for permissions ["firebase.projects.get"]
[debug] [2024-04-01T03:30:06.245Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions [none]
[debug] [2024-04-01T03:30:06.245Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions x-goog-quota-user=projects/csc190-w
[debug] [2024-04-01T03:30:06.245Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T03:30:06.356Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions 200
[debug] [2024-04-01T03:30:06.357Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T03:30:06.357Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T03:30:06.659Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T03:30:06.659Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] 
[info] === Serving from 'C:\Users\Tel\CSC190_Website'...
[info] 
[debug] [2024-04-01T03:30:06.665Z] defaultcredentials: writing to file C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json
[debug] [2024-04-01T03:30:06.665Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 
[debug] [2024-04-01T03:30:06.667Z] Setting GAC to C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Tel\\AppData\\Roaming\\firebase\\achouhan0114_gmail_com_application_default_credentials.json"}}
[debug] [2024-04-01T03:30:06.667Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig [none]
[debug] [2024-04-01T03:30:06.962Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig 200
[debug] [2024-04-01T03:30:06.962Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig {"projectId":"csc190-w","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com"}
[debug] [2024-04-01T03:30:06.968Z] Error: listen EADDRINUSE: address already in use ::1:5001
    at Server.setupListenHandle [as _listen2] (node:net:1740:16)
    at listenInCluster (node:net:1788:12)
    at GetAddrInfoReqWrap.doListen [as callback] (node:net:1937:7)
    at GetAddrInfoReqWrap.onlookup [as oncomplete] (node:dns:109:8)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2024-04-01T03:30:07.130Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 200
[debug] [2024-04-01T03:30:07.130Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites {"sites":[{"name":"projects/csc190-w/sites/csc190-w","defaultUrl":"https://csc190-w.web.app","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","type":"DEFAULT_SITE"}]}
[debug] [2024-04-01T03:30:07.130Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config [none]
[debug] [2024-04-01T03:30:10.307Z] ----------------------------------------------------------------------
[debug] [2024-04-01T03:30:10.309Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Tel\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js serve
[debug] [2024-04-01T03:30:10.309Z] CLI Version:   13.6.0
[debug] [2024-04-01T03:30:10.309Z] Platform:      win32
[debug] [2024-04-01T03:30:10.309Z] Node Version:  v19.6.0
[debug] [2024-04-01T03:30:10.309Z] Time:          Sun Mar 31 2024 20:30:10 GMT-0700 (Pacific Daylight Time)
[debug] [2024-04-01T03:30:10.309Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-04-01T03:30:10.360Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-04-01T03:30:10.360Z] > authorizing via signed-in user (achouhan0114@gmail.com)
[debug] [2024-04-01T03:30:10.360Z] [iam] checking project csc190-w for permissions ["firebase.projects.get"]
[debug] [2024-04-01T03:30:10.361Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions [none]
[debug] [2024-04-01T03:30:10.361Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions x-goog-quota-user=projects/csc190-w
[debug] [2024-04-01T03:30:10.361Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T03:30:10.572Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions 200
[debug] [2024-04-01T03:30:10.572Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T03:30:10.573Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T03:30:10.875Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T03:30:10.875Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] 
[info] === Serving from 'C:\Users\Tel\CSC190_Website'...
[info] 
[debug] [2024-04-01T03:30:10.880Z] defaultcredentials: writing to file C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json
[debug] [2024-04-01T03:30:10.880Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 
[debug] [2024-04-01T03:30:10.882Z] Setting GAC to C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Tel\\AppData\\Roaming\\firebase\\achouhan0114_gmail_com_application_default_credentials.json"}}
[debug] [2024-04-01T03:30:10.882Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig [none]
[debug] [2024-04-01T03:30:11.178Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig 200
[debug] [2024-04-01T03:30:11.179Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig {"projectId":"csc190-w","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com"}
[debug] [2024-04-01T03:30:11.188Z] Error: listen EADDRINUSE: address already in use ::1:5001
    at Server.setupListenHandle [as _listen2] (node:net:1740:16)
    at listenInCluster (node:net:1788:12)
    at GetAddrInfoReqWrap.doListen [as callback] (node:net:1937:7)
    at GetAddrInfoReqWrap.onlookup [as oncomplete] (node:dns:109:8)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2024-04-01T03:30:11.347Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 200
[debug] [2024-04-01T03:30:11.347Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites {"sites":[{"name":"projects/csc190-w/sites/csc190-w","defaultUrl":"https://csc190-w.web.app","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","type":"DEFAULT_SITE"}]}
[debug] [2024-04-01T03:30:11.347Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config [none]
[debug] [2024-04-01T03:30:26.091Z] ----------------------------------------------------------------------
[debug] [2024-04-01T03:30:26.092Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Tel\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js serve
[debug] [2024-04-01T03:30:26.092Z] CLI Version:   13.6.0
[debug] [2024-04-01T03:30:26.093Z] Platform:      win32
[debug] [2024-04-01T03:30:26.093Z] Node Version:  v19.6.0
[debug] [2024-04-01T03:30:26.093Z] Time:          Sun Mar 31 2024 20:30:26 GMT-0700 (Pacific Daylight Time)
[debug] [2024-04-01T03:30:26.093Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-04-01T03:30:26.144Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-04-01T03:30:26.144Z] > authorizing via signed-in user (achouhan0114@gmail.com)
[debug] [2024-04-01T03:30:26.144Z] [iam] checking project csc190-w for permissions ["firebase.projects.get"]
[debug] [2024-04-01T03:30:26.145Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions [none]
[debug] [2024-04-01T03:30:26.145Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions x-goog-quota-user=projects/csc190-w
[debug] [2024-04-01T03:30:26.145Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T03:30:26.424Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions 200
[debug] [2024-04-01T03:30:26.424Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T03:30:26.425Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T03:30:26.744Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T03:30:26.744Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] 
[info] === Serving from 'C:\Users\Tel\CSC190_Website'...
[info] 
[debug] [2024-04-01T03:30:26.749Z] defaultcredentials: writing to file C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json
[debug] [2024-04-01T03:30:26.749Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 
[debug] [2024-04-01T03:30:26.751Z] Setting GAC to C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Tel\\AppData\\Roaming\\firebase\\achouhan0114_gmail_com_application_default_credentials.json"}}
[debug] [2024-04-01T03:30:26.751Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig [none]
[debug] [2024-04-01T03:30:26.978Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig 200
[debug] [2024-04-01T03:30:26.978Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig {"projectId":"csc190-w","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com"}
[debug] [2024-04-01T03:30:26.988Z] Error: listen EADDRINUSE: address already in use ::1:5001
    at Server.setupListenHandle [as _listen2] (node:net:1740:16)
    at listenInCluster (node:net:1788:12)
    at GetAddrInfoReqWrap.doListen [as callback] (node:net:1937:7)
    at GetAddrInfoReqWrap.onlookup [as oncomplete] (node:dns:109:8)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2024-04-01T03:30:27.222Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 200
[debug] [2024-04-01T03:30:27.222Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites {"sites":[{"name":"projects/csc190-w/sites/csc190-w","defaultUrl":"https://csc190-w.web.app","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","type":"DEFAULT_SITE"}]}
[debug] [2024-04-01T03:30:27.222Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config [none]
[debug] [2024-04-01T03:34:38.029Z] File C:\Users\Tel\CSC190_Website\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Tel\\CSC190_Website\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-04-01T03:34:39.038Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2024-04-01T03:34:39.790Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "ejs": "^3.1.9",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.13",
    "stripe": "^14.15.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-01T03:34:39.790Z] Building nodejs source
[debug] [2024-04-01T03:34:39.790Z] Failed to find version of module node: reached end of search path C:\Users\Tel\CSC190_Website\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "19". Using node@19 from host. 
[debug] [2024-04-01T03:34:39.791Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-01T03:34:39.794Z] Found firebase-functions binary at 'C:\Users\Tel\CSC190_Website\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8834

[debug] [2024-04-01T03:34:40.143Z] Got response from /__/functions.yaml {"endpoints":{"sendEmailReceipt":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"retry":false},"labels":{},"entryPoint":"sendEmailReceipt"},"handleStripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-04-01T03:44:28.088Z] ----------------------------------------------------------------------
[debug] [2024-04-01T03:44:28.089Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Tel\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js serve
[debug] [2024-04-01T03:44:28.089Z] CLI Version:   13.6.0
[debug] [2024-04-01T03:44:28.089Z] Platform:      win32
[debug] [2024-04-01T03:44:28.089Z] Node Version:  v19.6.0
[debug] [2024-04-01T03:44:28.089Z] Time:          Sun Mar 31 2024 20:44:28 GMT-0700 (Pacific Daylight Time)
[debug] [2024-04-01T03:44:28.090Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-04-01T03:44:28.143Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-04-01T03:44:28.144Z] > authorizing via signed-in user (achouhan0114@gmail.com)
[debug] [2024-04-01T03:44:28.144Z] [iam] checking project csc190-w for permissions ["firebase.projects.get"]
[debug] [2024-04-01T03:44:28.148Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions [none]
[debug] [2024-04-01T03:44:28.148Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions x-goog-quota-user=projects/csc190-w
[debug] [2024-04-01T03:44:28.148Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T03:44:28.308Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions 200
[debug] [2024-04-01T03:44:28.308Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T03:44:28.308Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T03:44:28.571Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T03:44:28.571Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] 
[info] === Serving from 'C:\Users\Tel\CSC190_Website'...
[info] 
[debug] [2024-04-01T03:44:28.577Z] defaultcredentials: writing to file C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json
[debug] [2024-04-01T03:44:28.578Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 
[debug] [2024-04-01T03:44:28.579Z] Setting GAC to C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Tel\\AppData\\Roaming\\firebase\\achouhan0114_gmail_com_application_default_credentials.json"}}
[debug] [2024-04-01T03:44:28.580Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig [none]
[debug] [2024-04-01T03:44:28.922Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig 200
[debug] [2024-04-01T03:44:28.922Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig {"projectId":"csc190-w","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com"}
[debug] [2024-04-01T03:44:29.133Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 200
[debug] [2024-04-01T03:44:29.133Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites {"sites":[{"name":"projects/csc190-w/sites/csc190-w","defaultUrl":"https://csc190-w.web.app","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","type":"DEFAULT_SITE"}]}
[debug] [2024-04-01T03:44:29.133Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config [none]
[debug] [2024-04-01T03:44:29.607Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config 200
[debug] [2024-04-01T03:44:29.608Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config {"projectId":"csc190-w","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com","apiKey":"AIzaSyDTmAvGOetZpKVXBDQyOG18Y8YfVOVPV3M","authDomain":"csc190-w.firebaseapp.com","messagingSenderId":"59153071763","measurementId":"G-KYZHBDYFBR"}
[debug] [2024-04-01T03:44:29.612Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T03:44:29.798Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T03:44:29.798Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] i  functions: Watching "C:\Users\Tel\CSC190_Website\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\Tel\\CSC190_Website\\functions\" for Cloud Functions..."}}
[info] i  hosting[csc190-w]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] +  hosting[csc190-w]: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[debug] [2024-04-01T03:44:29.812Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2024-04-01T03:44:30.553Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "ejs": "^3.1.9",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.13",
    "stripe": "^14.15.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-01T03:44:30.554Z] Building nodejs source
[debug] [2024-04-01T03:44:30.554Z] Failed to find version of module node: reached end of search path C:\Users\Tel\CSC190_Website\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "19". Using node@19 from host. 
[debug] [2024-04-01T03:44:30.555Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-01T03:44:30.558Z] Found firebase-functions binary at 'C:\Users\Tel\CSC190_Website\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8007

[debug] [2024-04-01T03:44:30.944Z] Got response from /__/functions.yaml {"endpoints":{"sendEmailReceipt":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"retry":false},"labels":{},"entryPoint":"sendEmailReceipt"},"handleStripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] i  hosting: ::1 - - [01/Apr/2024:03:44:35 +0000] "GET / HTTP/1.1" 200 774 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:44:35 +0000] \"GET / HTTP/1.1\" 200 774 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:44:35 +0000] "GET /static/css/main.3903d4f5.css HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:44:35 +0000] \"GET /static/css/main.3903d4f5.css HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:44:35 +0000] "GET /static/js/main.76532dd9.js HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:44:35 +0000] \"GET /static/js/main.76532dd9.js HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:44:35 +0000] "GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1" 200 1363422 "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:44:35 +0000] \"GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1\" 200 1363422 \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] +  functions: Loaded functions definitions from source: sendEmailReceipt, handleStripeWebhook. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: sendEmailReceipt, handleStripeWebhook."}}
[info] i  functions[us-central1-sendEmailReceipt]: function ignored because the firestore emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the firestore emulator does not exist or is not running."}}
[info] +  functions[us-central1-handleStripeWebhook]: http function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook)."}}
[debug] [2024-04-01T03:50:49.477Z] File C:\Users\Tel\CSC190_Website\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Tel\\CSC190_Website\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-04-01T03:50:50.492Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2024-04-01T03:50:51.301Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "ejs": "^3.1.9",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.13",
    "stripe": "^14.15.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-01T03:50:51.302Z] Building nodejs source
[debug] [2024-04-01T03:50:51.302Z] Failed to find version of module node: reached end of search path C:\Users\Tel\CSC190_Website\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "19". Using node@19 from host. 
[debug] [2024-04-01T03:50:51.302Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-01T03:50:51.306Z] Found firebase-functions binary at 'C:\Users\Tel\CSC190_Website\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8334

[debug] [2024-04-01T03:50:51.586Z] Got response from /__/functions.yaml {"endpoints":{"sendEmailReceipt":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"retry":false},"labels":{},"entryPoint":"sendEmailReceipt"},"handleStripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: sendEmailReceipt, handleStripeWebhook. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: sendEmailReceipt, handleStripeWebhook."}}
[debug] [2024-04-01T03:52:52.905Z] File C:\Users\Tel\CSC190_Website\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Tel\\CSC190_Website\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-04-01T03:52:53.914Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2024-04-01T03:52:55.099Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "ejs": "^3.1.9",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.13",
    "stripe": "^14.15.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-01T03:52:55.099Z] Building nodejs source
[debug] [2024-04-01T03:52:55.099Z] Failed to find version of module node: reached end of search path C:\Users\Tel\CSC190_Website\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "19". Using node@19 from host. 
[debug] [2024-04-01T03:52:55.100Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-01T03:52:55.103Z] Found firebase-functions binary at 'C:\Users\Tel\CSC190_Website\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8811

[debug] [2024-04-01T03:52:55.385Z] Got response from /__/functions.yaml {"endpoints":{"sendEmailReceipt":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"retry":false},"labels":{},"entryPoint":"sendEmailReceipt"},"handleStripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2024-04-01T03:53:10.460Z] ----------------------------------------------------------------------
[debug] [2024-04-01T03:53:10.461Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Tel\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js serve
[debug] [2024-04-01T03:53:10.462Z] CLI Version:   13.6.0
[debug] [2024-04-01T03:53:10.462Z] Platform:      win32
[debug] [2024-04-01T03:53:10.462Z] Node Version:  v19.6.0
[debug] [2024-04-01T03:53:10.462Z] Time:          Sun Mar 31 2024 20:53:10 GMT-0700 (Pacific Daylight Time)
[debug] [2024-04-01T03:53:10.462Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-04-01T03:53:10.515Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-04-01T03:53:10.515Z] > authorizing via signed-in user (achouhan0114@gmail.com)
[debug] [2024-04-01T03:53:10.515Z] [iam] checking project csc190-w for permissions ["firebase.projects.get"]
[debug] [2024-04-01T03:53:10.516Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions [none]
[debug] [2024-04-01T03:53:10.516Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions x-goog-quota-user=projects/csc190-w
[debug] [2024-04-01T03:53:10.517Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T03:53:10.671Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions 200
[debug] [2024-04-01T03:53:10.671Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T03:53:10.671Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T03:53:11.004Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T03:53:11.005Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] 
[info] === Serving from 'C:\Users\Tel\CSC190_Website'...
[info] 
[debug] [2024-04-01T03:53:11.009Z] defaultcredentials: writing to file C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json
[debug] [2024-04-01T03:53:11.009Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 
[debug] [2024-04-01T03:53:11.010Z] Setting GAC to C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Tel\\AppData\\Roaming\\firebase\\achouhan0114_gmail_com_application_default_credentials.json"}}
[debug] [2024-04-01T03:53:11.010Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig [none]
[debug] [2024-04-01T03:53:11.200Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig 200
[debug] [2024-04-01T03:53:11.200Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig {"projectId":"csc190-w","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com"}
[debug] [2024-04-01T03:53:11.511Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 200
[debug] [2024-04-01T03:53:11.511Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites {"sites":[{"name":"projects/csc190-w/sites/csc190-w","defaultUrl":"https://csc190-w.web.app","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","type":"DEFAULT_SITE"}]}
[debug] [2024-04-01T03:53:11.511Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config [none]
[debug] [2024-04-01T03:53:11.811Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config 200
[debug] [2024-04-01T03:53:11.811Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config {"projectId":"csc190-w","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com","apiKey":"AIzaSyDTmAvGOetZpKVXBDQyOG18Y8YfVOVPV3M","authDomain":"csc190-w.firebaseapp.com","messagingSenderId":"59153071763","measurementId":"G-KYZHBDYFBR"}
[debug] [2024-04-01T03:53:11.814Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T03:53:12.074Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T03:53:12.074Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] i  functions: Watching "C:\Users\Tel\CSC190_Website\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\Tel\\CSC190_Website\\functions\" for Cloud Functions..."}}
[info] i  hosting[csc190-w]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] +  hosting[csc190-w]: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[debug] [2024-04-01T03:53:12.083Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2024-04-01T03:53:12.816Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "ejs": "^3.1.9",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.13",
    "stripe": "^14.15.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-01T03:53:12.816Z] Building nodejs source
[debug] [2024-04-01T03:53:12.816Z] Failed to find version of module node: reached end of search path C:\Users\Tel\CSC190_Website\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "19". Using node@19 from host. 
[debug] [2024-04-01T03:53:12.817Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-01T03:53:12.821Z] Found firebase-functions binary at 'C:\Users\Tel\CSC190_Website\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8069

[debug] [2024-04-01T03:53:13.101Z] Got response from /__/functions.yaml {"endpoints":{"sendEmailReceipt":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"retry":false},"labels":{},"entryPoint":"sendEmailReceipt"},"handleStripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: sendEmailReceipt, handleStripeWebhook. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: sendEmailReceipt, handleStripeWebhook."}}
[info] i  functions[us-central1-sendEmailReceipt]: function ignored because the firestore emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the firestore emulator does not exist or is not running."}}
[info] +  functions[us-central1-handleStripeWebhook]: http function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook)."}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:53:27 +0000] "GET / HTTP/1.1" 200 774 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:53:27 +0000] \"GET / HTTP/1.1\" 200 774 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:53:27 +0000] "GET /static/css/main.3903d4f5.css HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:53:27 +0000] \"GET /static/css/main.3903d4f5.css HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:53:27 +0000] "GET /static/js/main.76532dd9.js HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:53:27 +0000] \"GET /static/js/main.76532dd9.js HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:53:27 +0000] "GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1" 200 1363422 "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:53:27 +0000] \"GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1\" 200 1363422 \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[debug] [2024-04-01T03:55:40.171Z] File C:\Users\Tel\CSC190_Website\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Tel\\CSC190_Website\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-04-01T03:55:41.173Z] Validating nodejs source
[debug] [2024-04-01T03:55:56.877Z] ----------------------------------------------------------------------
[debug] [2024-04-01T03:55:56.878Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Tel\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js serve
[debug] [2024-04-01T03:55:56.878Z] CLI Version:   13.6.0
[debug] [2024-04-01T03:55:56.879Z] Platform:      win32
[debug] [2024-04-01T03:55:56.879Z] Node Version:  v19.6.0
[debug] [2024-04-01T03:55:56.879Z] Time:          Sun Mar 31 2024 20:55:56 GMT-0700 (Pacific Daylight Time)
[debug] [2024-04-01T03:55:56.879Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-04-01T03:55:56.932Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-04-01T03:55:56.932Z] > authorizing via signed-in user (achouhan0114@gmail.com)
[debug] [2024-04-01T03:55:56.932Z] [iam] checking project csc190-w for permissions ["firebase.projects.get"]
[debug] [2024-04-01T03:55:56.933Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions [none]
[debug] [2024-04-01T03:55:56.933Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions x-goog-quota-user=projects/csc190-w
[debug] [2024-04-01T03:55:56.933Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T03:55:57.150Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions 200
[debug] [2024-04-01T03:55:57.150Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T03:55:57.150Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T03:55:57.496Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T03:55:57.497Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] 
[info] === Serving from 'C:\Users\Tel\CSC190_Website'...
[info] 
[debug] [2024-04-01T03:55:57.503Z] defaultcredentials: writing to file C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json
[debug] [2024-04-01T03:55:57.503Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 
[debug] [2024-04-01T03:55:57.505Z] Setting GAC to C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Tel\\AppData\\Roaming\\firebase\\achouhan0114_gmail_com_application_default_credentials.json"}}
[debug] [2024-04-01T03:55:57.505Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig [none]
[debug] [2024-04-01T03:55:57.681Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig 200
[debug] [2024-04-01T03:55:57.681Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig {"projectId":"csc190-w","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com"}
[debug] [2024-04-01T03:55:58.001Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 200
[debug] [2024-04-01T03:55:58.002Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites {"sites":[{"name":"projects/csc190-w/sites/csc190-w","defaultUrl":"https://csc190-w.web.app","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","type":"DEFAULT_SITE"}]}
[debug] [2024-04-01T03:55:58.002Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config [none]
[debug] [2024-04-01T03:55:58.444Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config 200
[debug] [2024-04-01T03:55:58.444Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config {"projectId":"csc190-w","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com","apiKey":"AIzaSyDTmAvGOetZpKVXBDQyOG18Y8YfVOVPV3M","authDomain":"csc190-w.firebaseapp.com","messagingSenderId":"59153071763","measurementId":"G-KYZHBDYFBR"}
[debug] [2024-04-01T03:55:58.449Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T03:55:58.584Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T03:55:58.584Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] i  functions: Watching "C:\Users\Tel\CSC190_Website\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\Tel\\CSC190_Website\\functions\" for Cloud Functions..."}}
[info] i  hosting[csc190-w]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] +  hosting[csc190-w]: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[debug] [2024-04-01T03:55:58.598Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2024-04-01T03:55:59.306Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "ejs": "^3.1.9",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.13",
    "stripe": "^14.15.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-01T03:55:59.306Z] Building nodejs source
[debug] [2024-04-01T03:55:59.306Z] Failed to find version of module node: reached end of search path C:\Users\Tel\CSC190_Website\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "19". Using node@19 from host. 
[debug] [2024-04-01T03:55:59.307Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-01T03:55:59.311Z] Found firebase-functions binary at 'C:\Users\Tel\CSC190_Website\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8809

[debug] [2024-04-01T03:55:59.585Z] Got response from /__/functions.yaml {"endpoints":{"sendEmailReceipt":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"retry":false},"labels":{},"entryPoint":"sendEmailReceipt"},"handleStripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: sendEmailReceipt, handleStripeWebhook. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: sendEmailReceipt, handleStripeWebhook."}}
[info] i  functions[us-central1-sendEmailReceipt]: function ignored because the firestore emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the firestore emulator does not exist or is not running."}}
[info] +  functions[us-central1-handleStripeWebhook]: http function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook)."}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:56:19 +0000] "GET / HTTP/1.1" 200 774 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:56:19 +0000] \"GET / HTTP/1.1\" 200 774 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:56:19 +0000] "GET /static/css/main.3903d4f5.css HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:56:19 +0000] \"GET /static/css/main.3903d4f5.css HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:56:19 +0000] "GET /static/js/main.76532dd9.js HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:56:19 +0000] \"GET /static/js/main.76532dd9.js HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:56:19 +0000] "GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1" 200 1363422 "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:56:19 +0000] \"GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1\" 200 1363422 \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[debug] [2024-04-01T03:58:29.719Z] File C:\Users\Tel\CSC190_Website\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Tel\\CSC190_Website\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-04-01T03:58:30.722Z] Validating nodejs source
[debug] [2024-04-01T03:58:48.682Z] ----------------------------------------------------------------------
[debug] [2024-04-01T03:58:48.683Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Tel\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js serve
[debug] [2024-04-01T03:58:48.683Z] CLI Version:   13.6.0
[debug] [2024-04-01T03:58:48.683Z] Platform:      win32
[debug] [2024-04-01T03:58:48.684Z] Node Version:  v19.6.0
[debug] [2024-04-01T03:58:48.684Z] Time:          Sun Mar 31 2024 20:58:48 GMT-0700 (Pacific Daylight Time)
[debug] [2024-04-01T03:58:48.684Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-04-01T03:58:48.741Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-04-01T03:58:48.741Z] > authorizing via signed-in user (achouhan0114@gmail.com)
[debug] [2024-04-01T03:58:48.741Z] [iam] checking project csc190-w for permissions ["firebase.projects.get"]
[debug] [2024-04-01T03:58:48.742Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions [none]
[debug] [2024-04-01T03:58:48.742Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions x-goog-quota-user=projects/csc190-w
[debug] [2024-04-01T03:58:48.742Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T03:58:48.967Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions 200
[debug] [2024-04-01T03:58:48.967Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T03:58:48.967Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T03:58:49.226Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T03:58:49.226Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] 
[info] === Serving from 'C:\Users\Tel\CSC190_Website'...
[info] 
[debug] [2024-04-01T03:58:49.229Z] defaultcredentials: writing to file C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json
[debug] [2024-04-01T03:58:49.230Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 
[debug] [2024-04-01T03:58:49.231Z] Setting GAC to C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Tel\\AppData\\Roaming\\firebase\\achouhan0114_gmail_com_application_default_credentials.json"}}
[debug] [2024-04-01T03:58:49.231Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig [none]
[debug] [2024-04-01T03:58:49.533Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig 200
[debug] [2024-04-01T03:58:49.533Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig {"projectId":"csc190-w","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com"}
[debug] [2024-04-01T03:58:49.718Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 200
[debug] [2024-04-01T03:58:49.718Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites {"sites":[{"name":"projects/csc190-w/sites/csc190-w","defaultUrl":"https://csc190-w.web.app","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","type":"DEFAULT_SITE"}]}
[debug] [2024-04-01T03:58:49.718Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config [none]
[debug] [2024-04-01T03:58:50.027Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config 200
[debug] [2024-04-01T03:58:50.027Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config {"projectId":"csc190-w","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com","apiKey":"AIzaSyDTmAvGOetZpKVXBDQyOG18Y8YfVOVPV3M","authDomain":"csc190-w.firebaseapp.com","messagingSenderId":"59153071763","measurementId":"G-KYZHBDYFBR"}
[debug] [2024-04-01T03:58:50.032Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T03:58:50.281Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T03:58:50.281Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] i  functions: Watching "C:\Users\Tel\CSC190_Website\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\Tel\\CSC190_Website\\functions\" for Cloud Functions..."}}
[info] i  hosting[csc190-w]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] +  hosting[csc190-w]: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[debug] [2024-04-01T03:58:50.290Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2024-04-01T03:58:51.034Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "ejs": "^3.1.9",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.13",
    "stripe": "^14.15.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-01T03:58:51.034Z] Building nodejs source
[debug] [2024-04-01T03:58:51.034Z] Failed to find version of module node: reached end of search path C:\Users\Tel\CSC190_Website\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "19". Using node@19 from host. 
[debug] [2024-04-01T03:58:51.036Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-01T03:58:51.039Z] Found firebase-functions binary at 'C:\Users\Tel\CSC190_Website\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8466

[debug] [2024-04-01T03:58:51.329Z] Got response from /__/functions.yaml {"endpoints":{"sendEmailReceipt":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"retry":false},"labels":{},"entryPoint":"sendEmailReceipt"},"handleStripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] +  functions: Loaded functions definitions from source: sendEmailReceipt, handleStripeWebhook. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: sendEmailReceipt, handleStripeWebhook."}}
[info] i  functions[us-central1-sendEmailReceipt]: function ignored because the firestore emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the firestore emulator does not exist or is not running."}}
[info] +  functions[us-central1-handleStripeWebhook]: http function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook)."}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:59:00 +0000] "GET / HTTP/1.1" 200 774 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:59:00 +0000] \"GET / HTTP/1.1\" 200 774 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:59:00 +0000] "GET /static/css/main.3903d4f5.css HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:59:00 +0000] \"GET /static/css/main.3903d4f5.css HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:59:00 +0000] "GET /static/js/main.76532dd9.js HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:59:00 +0000] \"GET /static/js/main.76532dd9.js HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:03:59:00 +0000] "GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1" 200 1363422 "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:03:59:00 +0000] \"GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1\" 200 1363422 \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[debug] [2024-04-01T04:01:52.981Z] File C:\Users\Tel\CSC190_Website\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Tel\\CSC190_Website\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-04-01T04:01:53.990Z] Validating nodejs source
[debug] [2024-04-01T04:02:13.630Z] ----------------------------------------------------------------------
[debug] [2024-04-01T04:02:13.632Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Tel\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js serve
[debug] [2024-04-01T04:02:13.632Z] CLI Version:   13.6.0
[debug] [2024-04-01T04:02:13.632Z] Platform:      win32
[debug] [2024-04-01T04:02:13.632Z] Node Version:  v19.6.0
[debug] [2024-04-01T04:02:13.632Z] Time:          Sun Mar 31 2024 21:02:13 GMT-0700 (Pacific Daylight Time)
[debug] [2024-04-01T04:02:13.632Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-04-01T04:02:13.686Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-04-01T04:02:13.686Z] > authorizing via signed-in user (achouhan0114@gmail.com)
[debug] [2024-04-01T04:02:13.686Z] [iam] checking project csc190-w for permissions ["firebase.projects.get"]
[debug] [2024-04-01T04:02:13.687Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions [none]
[debug] [2024-04-01T04:02:13.688Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions x-goog-quota-user=projects/csc190-w
[debug] [2024-04-01T04:02:13.688Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T04:02:13.900Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions 200
[debug] [2024-04-01T04:02:13.900Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T04:02:13.900Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T04:02:14.224Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T04:02:14.224Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] 
[info] === Serving from 'C:\Users\Tel\CSC190_Website'...
[info] 
[debug] [2024-04-01T04:02:14.228Z] defaultcredentials: writing to file C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json
[debug] [2024-04-01T04:02:14.229Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 
[debug] [2024-04-01T04:02:14.230Z] Setting GAC to C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Tel\\AppData\\Roaming\\firebase\\achouhan0114_gmail_com_application_default_credentials.json"}}
[debug] [2024-04-01T04:02:14.230Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig [none]
[debug] [2024-04-01T04:02:14.501Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig 200
[debug] [2024-04-01T04:02:14.501Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig {"projectId":"csc190-w","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com"}
[debug] [2024-04-01T04:02:14.715Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 200
[debug] [2024-04-01T04:02:14.715Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites {"sites":[{"name":"projects/csc190-w/sites/csc190-w","defaultUrl":"https://csc190-w.web.app","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","type":"DEFAULT_SITE"}]}
[debug] [2024-04-01T04:02:14.715Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config [none]
[debug] [2024-04-01T04:02:15.024Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config 200
[debug] [2024-04-01T04:02:15.024Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config {"projectId":"csc190-w","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com","apiKey":"AIzaSyDTmAvGOetZpKVXBDQyOG18Y8YfVOVPV3M","authDomain":"csc190-w.firebaseapp.com","messagingSenderId":"59153071763","measurementId":"G-KYZHBDYFBR"}
[debug] [2024-04-01T04:02:15.028Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T04:02:15.328Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T04:02:15.328Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] i  functions: Watching "C:\Users\Tel\CSC190_Website\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\Tel\\CSC190_Website\\functions\" for Cloud Functions..."}}
[info] i  hosting[csc190-w]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] +  hosting[csc190-w]: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[debug] [2024-04-01T04:02:15.338Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2024-04-01T04:02:16.070Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "ejs": "^3.1.9",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.13",
    "stripe": "^14.15.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-01T04:02:16.070Z] Building nodejs source
[debug] [2024-04-01T04:02:16.070Z] Failed to find version of module node: reached end of search path C:\Users\Tel\CSC190_Website\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "19". Using node@19 from host. 
[debug] [2024-04-01T04:02:16.071Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-01T04:02:16.075Z] Found firebase-functions binary at 'C:\Users\Tel\CSC190_Website\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8811

[debug] [2024-04-01T04:02:16.351Z] Got response from /__/functions.yaml {"endpoints":{"sendEmailReceipt":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"retry":false},"labels":{},"entryPoint":"sendEmailReceipt"},"handleStripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] i  hosting: ::1 - - [01/Apr/2024:04:02:20 +0000] "GET / HTTP/1.1" 200 774 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:02:20 +0000] \"GET / HTTP/1.1\" 200 774 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:02:20 +0000] "GET /static/css/main.3903d4f5.css HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:02:20 +0000] \"GET /static/css/main.3903d4f5.css HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:02:20 +0000] "GET /static/js/main.76532dd9.js HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:02:20 +0000] \"GET /static/js/main.76532dd9.js HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:02:21 +0000] "GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1" 200 1363422 "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:02:21 +0000] \"GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1\" 200 1363422 \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] +  functions: Loaded functions definitions from source: sendEmailReceipt, handleStripeWebhook. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: sendEmailReceipt, handleStripeWebhook."}}
[info] i  functions[us-central1-sendEmailReceipt]: function ignored because the firestore emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the firestore emulator does not exist or is not running."}}
[info] +  functions[us-central1-handleStripeWebhook]: http function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook)."}}
[debug] [2024-04-01T04:07:28.028Z] File C:\Users\Tel\CSC190_Website\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Tel\\CSC190_Website\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-04-01T04:07:29.032Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2024-04-01T04:07:29.767Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "ejs": "^3.1.9",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.13",
    "stripe": "^14.15.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-01T04:07:29.767Z] Building nodejs source
[debug] [2024-04-01T04:07:29.767Z] Failed to find version of module node: reached end of search path C:\Users\Tel\CSC190_Website\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "19". Using node@19 from host. 
[debug] [2024-04-01T04:07:29.768Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-01T04:07:29.771Z] Found firebase-functions binary at 'C:\Users\Tel\CSC190_Website\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8163

[debug] [2024-04-01T04:07:30.045Z] Got response from /__/functions.yaml {"endpoints":{"deleteUnpaidReservations":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"scheduleTrigger":{"schedule":"every 24 hours","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetryDuration":null,"maxBackoffDuration":null,"minBackoffDuration":null},"timeZone":null},"labels":{},"entryPoint":"deleteUnpaidReservations"},"sendEmailReceipt":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"retry":false},"labels":{},"entryPoint":"sendEmailReceipt"},"handleStripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] +  functions: Loaded functions definitions from source: deleteUnpaidReservations, sendEmailReceipt, handleStripeWebhook. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: deleteUnpaidReservations, sendEmailReceipt, handleStripeWebhook."}}
[info] i  functions[us-central1-deleteUnpaidReservations]: function ignored because the pubsub emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the pubsub emulator does not exist or is not running."}}
[debug] [2024-04-01T04:13:09.092Z] File C:\Users\Tel\CSC190_Website\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Tel\\CSC190_Website\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-04-01T04:13:10.104Z] Validating nodejs source
[debug] [2024-04-01T04:13:24.079Z] ----------------------------------------------------------------------
[debug] [2024-04-01T04:13:24.081Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Tel\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js serve
[debug] [2024-04-01T04:13:24.081Z] CLI Version:   13.6.0
[debug] [2024-04-01T04:13:24.081Z] Platform:      win32
[debug] [2024-04-01T04:13:24.081Z] Node Version:  v19.6.0
[debug] [2024-04-01T04:13:24.081Z] Time:          Sun Mar 31 2024 21:13:24 GMT-0700 (Pacific Daylight Time)
[debug] [2024-04-01T04:13:24.081Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-04-01T04:13:24.140Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-04-01T04:13:24.140Z] > authorizing via signed-in user (achouhan0114@gmail.com)
[debug] [2024-04-01T04:13:24.140Z] [iam] checking project csc190-w for permissions ["firebase.projects.get"]
[debug] [2024-04-01T04:13:24.141Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions [none]
[debug] [2024-04-01T04:13:24.141Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions x-goog-quota-user=projects/csc190-w
[debug] [2024-04-01T04:13:24.141Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T04:13:24.385Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions 200
[debug] [2024-04-01T04:13:24.386Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T04:13:24.386Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T04:13:24.649Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T04:13:24.649Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] 
[info] === Serving from 'C:\Users\Tel\CSC190_Website'...
[info] 
[debug] [2024-04-01T04:13:24.654Z] defaultcredentials: writing to file C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json
[debug] [2024-04-01T04:13:24.654Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 
[debug] [2024-04-01T04:13:24.655Z] Setting GAC to C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Tel\\AppData\\Roaming\\firebase\\achouhan0114_gmail_com_application_default_credentials.json"}}
[debug] [2024-04-01T04:13:24.656Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig [none]
[debug] [2024-04-01T04:13:24.976Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig 200
[debug] [2024-04-01T04:13:24.976Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig {"projectId":"csc190-w","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com"}
[debug] [2024-04-01T04:13:25.153Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 200
[debug] [2024-04-01T04:13:25.153Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites {"sites":[{"name":"projects/csc190-w/sites/csc190-w","defaultUrl":"https://csc190-w.web.app","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","type":"DEFAULT_SITE"}]}
[debug] [2024-04-01T04:13:25.153Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config [none]
[debug] [2024-04-01T04:13:25.494Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config 200
[debug] [2024-04-01T04:13:25.494Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config {"projectId":"csc190-w","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com","apiKey":"AIzaSyDTmAvGOetZpKVXBDQyOG18Y8YfVOVPV3M","authDomain":"csc190-w.firebaseapp.com","messagingSenderId":"59153071763","measurementId":"G-KYZHBDYFBR"}
[debug] [2024-04-01T04:13:25.497Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T04:13:25.773Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T04:13:25.773Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] i  functions: Watching "C:\Users\Tel\CSC190_Website\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\Tel\\CSC190_Website\\functions\" for Cloud Functions..."}}
[info] i  hosting[csc190-w]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] +  hosting[csc190-w]: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[debug] [2024-04-01T04:13:25.783Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2024-04-01T04:13:26.533Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "ejs": "^3.1.9",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.13",
    "stripe": "^14.15.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-01T04:13:26.533Z] Building nodejs source
[debug] [2024-04-01T04:13:26.534Z] Failed to find version of module node: reached end of search path C:\Users\Tel\CSC190_Website\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "19". Using node@19 from host. 
[debug] [2024-04-01T04:13:26.535Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-01T04:13:26.539Z] Found firebase-functions binary at 'C:\Users\Tel\CSC190_Website\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8350

[debug] [2024-04-01T04:13:26.815Z] Got response from /__/functions.yaml {"endpoints":{"deleteUnpaidReservations":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"scheduleTrigger":{"schedule":"every 24 hours","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetryDuration":null,"maxBackoffDuration":null,"minBackoffDuration":null},"timeZone":null},"labels":{},"entryPoint":"deleteUnpaidReservations"},"sendEmailReceipt":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"retry":false},"labels":{},"entryPoint":"sendEmailReceipt"},"handleStripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] i  hosting: ::1 - - [01/Apr/2024:04:13:28 +0000] "GET / HTTP/1.1" 200 774 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:13:28 +0000] \"GET / HTTP/1.1\" 200 774 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:13:28 +0000] "GET /static/css/main.3903d4f5.css HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:13:28 +0000] \"GET /static/css/main.3903d4f5.css HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:13:28 +0000] "GET /static/js/main.76532dd9.js HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:13:28 +0000] \"GET /static/js/main.76532dd9.js HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:13:28 +0000] "GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1" 200 1363422 "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:13:28 +0000] \"GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1\" 200 1363422 \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] +  functions: Loaded functions definitions from source: deleteUnpaidReservations, sendEmailReceipt, handleStripeWebhook. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: deleteUnpaidReservations, sendEmailReceipt, handleStripeWebhook."}}
[info] i  functions[us-central1-deleteUnpaidReservations]: function ignored because the pubsub emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the pubsub emulator does not exist or is not running."}}
[info] i  functions[us-central1-sendEmailReceipt]: function ignored because the firestore emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the firestore emulator does not exist or is not running."}}
[info] +  functions[us-central1-handleStripeWebhook]: http function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook)."}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:16:47 +0000] "GET / HTTP/1.1" 200 774 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:16:47 +0000] \"GET / HTTP/1.1\" 200 774 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:16:47 +0000] "GET /static/css/main.3903d4f5.css HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:16:47 +0000] \"GET /static/css/main.3903d4f5.css HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:16:47 +0000] "GET /static/js/main.76532dd9.js HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:16:47 +0000] \"GET /static/js/main.76532dd9.js HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:16:47 +0000] "GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1" 200 1363422 "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:16:47 +0000] \"GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1\" 200 1363422 \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:17:19 +0000] "GET /static/css/main.3903d4f5.css HTTP/1.1" 200 - "http://localhost:5000/pages/PrivateRooms" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:17:19 +0000] \"GET /static/css/main.3903d4f5.css HTTP/1.1\" 200 - \"http://localhost:5000/pages/PrivateRooms\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:17:19 +0000] "GET /static/css/main.3903d4f5.css.map HTTP/1.1" 200 - "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:17:19 +0000] \"GET /static/css/main.3903d4f5.css.map HTTP/1.1\" 200 - \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:17:19 +0000] "GET /static/js/main.76532dd9.js.map HTTP/1.1" 200 - "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:17:19 +0000] \"GET /static/js/main.76532dd9.js.map HTTP/1.1\" 200 - \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:17:35 +0000] "OPTIONS /static/css/main.3903d4f5.css.map HTTP/1.1" 200 - "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:17:35 +0000] \"OPTIONS /static/css/main.3903d4f5.css.map HTTP/1.1\" 200 - \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:17:35 +0000] "GET /static/css/main.3903d4f5.css.map HTTP/1.1" 200 - "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:17:35 +0000] \"GET /static/css/main.3903d4f5.css.map HTTP/1.1\" 200 - \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[debug] [2024-04-01T04:19:19.672Z] ----------------------------------------------------------------------
[debug] [2024-04-01T04:19:19.673Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Tel\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js serve
[debug] [2024-04-01T04:19:19.673Z] CLI Version:   13.6.0
[debug] [2024-04-01T04:19:19.673Z] Platform:      win32
[debug] [2024-04-01T04:19:19.674Z] Node Version:  v19.6.0
[debug] [2024-04-01T04:19:19.674Z] Time:          Sun Mar 31 2024 21:19:19 GMT-0700 (Pacific Daylight Time)
[debug] [2024-04-01T04:19:19.674Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-04-01T04:19:19.726Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-04-01T04:19:19.726Z] > authorizing via signed-in user (achouhan0114@gmail.com)
[debug] [2024-04-01T04:19:19.726Z] [iam] checking project csc190-w for permissions ["firebase.projects.get"]
[debug] [2024-04-01T04:19:19.727Z] > refreshing access token with scopes: []
[debug] [2024-04-01T04:19:19.728Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2024-04-01T04:19:19.728Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2024-04-01T04:19:19.871Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2024-04-01T04:19:19.871Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2024-04-01T04:19:19.884Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions [none]
[debug] [2024-04-01T04:19:19.884Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions x-goog-quota-user=projects/csc190-w
[debug] [2024-04-01T04:19:19.884Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T04:19:20.095Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions 200
[debug] [2024-04-01T04:19:20.095Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T04:19:20.096Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T04:19:20.299Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T04:19:20.299Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] 
[info] === Serving from 'C:\Users\Tel\CSC190_Website'...
[info] 
[debug] [2024-04-01T04:19:20.304Z] defaultcredentials: writing to file C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json
[debug] [2024-04-01T04:19:20.305Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 
[debug] [2024-04-01T04:19:20.307Z] Setting GAC to C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Tel\\AppData\\Roaming\\firebase\\achouhan0114_gmail_com_application_default_credentials.json"}}
[debug] [2024-04-01T04:19:20.307Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig [none]
[debug] [2024-04-01T04:19:20.590Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig 200
[debug] [2024-04-01T04:19:20.590Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig {"projectId":"csc190-w","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com"}
[debug] [2024-04-01T04:19:20.829Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 200
[debug] [2024-04-01T04:19:20.829Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites {"sites":[{"name":"projects/csc190-w/sites/csc190-w","defaultUrl":"https://csc190-w.web.app","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","type":"DEFAULT_SITE"}]}
[debug] [2024-04-01T04:19:20.829Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config [none]
[debug] [2024-04-01T04:19:21.146Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config 200
[debug] [2024-04-01T04:19:21.146Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config {"projectId":"csc190-w","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com","apiKey":"AIzaSyDTmAvGOetZpKVXBDQyOG18Y8YfVOVPV3M","authDomain":"csc190-w.firebaseapp.com","messagingSenderId":"59153071763","measurementId":"G-KYZHBDYFBR"}
[debug] [2024-04-01T04:19:21.150Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T04:19:21.300Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T04:19:21.301Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] i  functions: Watching "C:\Users\Tel\CSC190_Website\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\Tel\\CSC190_Website\\functions\" for Cloud Functions..."}}
[info] i  hosting[csc190-w]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] +  hosting[csc190-w]: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[debug] [2024-04-01T04:19:21.315Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2024-04-01T04:19:22.050Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "ejs": "^3.1.9",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.13",
    "stripe": "^14.15.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-01T04:19:22.050Z] Building nodejs source
[debug] [2024-04-01T04:19:22.050Z] Failed to find version of module node: reached end of search path C:\Users\Tel\CSC190_Website\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "19". Using node@19 from host. 
[debug] [2024-04-01T04:19:22.051Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-01T04:19:22.054Z] Found firebase-functions binary at 'C:\Users\Tel\CSC190_Website\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8813

[debug] [2024-04-01T04:19:22.327Z] Got response from /__/functions.yaml {"endpoints":{"deleteUnpaidReservations":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"scheduleTrigger":{"schedule":"every 24 hours","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetryDuration":null,"maxBackoffDuration":null,"minBackoffDuration":null},"timeZone":null},"labels":{},"entryPoint":"deleteUnpaidReservations"},"sendEmailReceipt":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"retry":false},"labels":{},"entryPoint":"sendEmailReceipt"},"handleStripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] +  functions: Loaded functions definitions from source: deleteUnpaidReservations, sendEmailReceipt, handleStripeWebhook. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: deleteUnpaidReservations, sendEmailReceipt, handleStripeWebhook."}}
[info] i  functions[us-central1-deleteUnpaidReservations]: function ignored because the pubsub emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the pubsub emulator does not exist or is not running."}}
[info] i  functions[us-central1-sendEmailReceipt]: function ignored because the firestore emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the firestore emulator does not exist or is not running."}}
[info] +  functions[us-central1-handleStripeWebhook]: http function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook)."}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:19:41 +0000] "GET / HTTP/1.1" 200 774 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:19:41 +0000] \"GET / HTTP/1.1\" 200 774 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:19:41 +0000] "GET /static/css/main.3903d4f5.css HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:19:41 +0000] \"GET /static/css/main.3903d4f5.css HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:19:41 +0000] "GET /static/js/main.76532dd9.js HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:19:41 +0000] \"GET /static/js/main.76532dd9.js HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:19:41 +0000] "GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1" 200 1363422 "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:19:41 +0000] \"GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1\" 200 1363422 \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:20:14 +0000] "GET /static/css/main.3903d4f5.css HTTP/1.1" 200 - "http://localhost:5000/pages/PrivateRooms" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:20:14 +0000] \"GET /static/css/main.3903d4f5.css HTTP/1.1\" 200 - \"http://localhost:5000/pages/PrivateRooms\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:20:14 +0000] "GET /static/css/main.3903d4f5.css.map HTTP/1.1" 200 - "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:20:14 +0000] \"GET /static/css/main.3903d4f5.css.map HTTP/1.1\" 200 - \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:20:15 +0000] "GET /static/js/main.76532dd9.js.map HTTP/1.1" 200 - "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:20:15 +0000] \"GET /static/js/main.76532dd9.js.map HTTP/1.1\" 200 - \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:20:38 +0000] "OPTIONS /static/css/main.3903d4f5.css.map HTTP/1.1" 200 - "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:20:38 +0000] \"OPTIONS /static/css/main.3903d4f5.css.map HTTP/1.1\" 200 - \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:20:38 +0000] "GET /static/css/main.3903d4f5.css.map HTTP/1.1" 200 - "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:20:38 +0000] \"GET /static/css/main.3903d4f5.css.map HTTP/1.1\" 200 - \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[debug] [2024-04-01T04:26:44.183Z] File C:\Users\Tel\CSC190_Website\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Tel\\CSC190_Website\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-04-01T04:26:45.196Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2024-04-01T04:26:45.951Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "ejs": "^3.1.9",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.13",
    "stripe": "^14.15.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-01T04:26:45.951Z] Building nodejs source
[debug] [2024-04-01T04:26:45.951Z] Failed to find version of module node: reached end of search path C:\Users\Tel\CSC190_Website\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "19". Using node@19 from host. 
[debug] [2024-04-01T04:26:45.951Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-01T04:26:45.955Z] Found firebase-functions binary at 'C:\Users\Tel\CSC190_Website\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8895

[debug] [2024-04-01T04:26:46.238Z] Got response from /__/functions.yaml {"endpoints":{"deleteUnpaidReservations":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"scheduleTrigger":{"schedule":"every 24 hours","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetryDuration":null,"maxBackoffDuration":null,"minBackoffDuration":null},"timeZone":null},"labels":{},"entryPoint":"deleteUnpaidReservations"},"sendEmailReceipt":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"retry":false},"labels":{},"entryPoint":"sendEmailReceipt"},"handleStripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[debug] [2024-04-01T04:27:04.638Z] ----------------------------------------------------------------------
[debug] [2024-04-01T04:27:04.640Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Tel\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js serve
[debug] [2024-04-01T04:27:04.640Z] CLI Version:   13.6.0
[debug] [2024-04-01T04:27:04.640Z] Platform:      win32
[debug] [2024-04-01T04:27:04.640Z] Node Version:  v19.6.0
[debug] [2024-04-01T04:27:04.640Z] Time:          Sun Mar 31 2024 21:27:04 GMT-0700 (Pacific Daylight Time)
[debug] [2024-04-01T04:27:04.640Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-04-01T04:27:04.696Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-04-01T04:27:04.696Z] > authorizing via signed-in user (achouhan0114@gmail.com)
[debug] [2024-04-01T04:27:04.696Z] [iam] checking project csc190-w for permissions ["firebase.projects.get"]
[debug] [2024-04-01T04:27:04.697Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions [none]
[debug] [2024-04-01T04:27:04.697Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions x-goog-quota-user=projects/csc190-w
[debug] [2024-04-01T04:27:04.697Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T04:27:04.929Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions 200
[debug] [2024-04-01T04:27:04.929Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T04:27:04.929Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T04:27:05.234Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T04:27:05.235Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] 
[info] === Serving from 'C:\Users\Tel\CSC190_Website'...
[info] 
[debug] [2024-04-01T04:27:05.239Z] defaultcredentials: writing to file C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json
[debug] [2024-04-01T04:27:05.239Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 
[debug] [2024-04-01T04:27:05.240Z] Setting GAC to C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Tel\\AppData\\Roaming\\firebase\\achouhan0114_gmail_com_application_default_credentials.json"}}
[debug] [2024-04-01T04:27:05.241Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig [none]
[debug] [2024-04-01T04:27:05.517Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig 200
[debug] [2024-04-01T04:27:05.517Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig {"projectId":"csc190-w","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com"}
[debug] [2024-04-01T04:27:05.737Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 200
[debug] [2024-04-01T04:27:05.737Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites {"sites":[{"name":"projects/csc190-w/sites/csc190-w","defaultUrl":"https://csc190-w.web.app","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","type":"DEFAULT_SITE"}]}
[debug] [2024-04-01T04:27:05.737Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config [none]
[debug] [2024-04-01T04:27:06.088Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config 200
[debug] [2024-04-01T04:27:06.088Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config {"projectId":"csc190-w","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com","apiKey":"AIzaSyDTmAvGOetZpKVXBDQyOG18Y8YfVOVPV3M","authDomain":"csc190-w.firebaseapp.com","messagingSenderId":"59153071763","measurementId":"G-KYZHBDYFBR"}
[debug] [2024-04-01T04:27:06.092Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T04:27:06.342Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T04:27:06.342Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] i  functions: Watching "C:\Users\Tel\CSC190_Website\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\Tel\\CSC190_Website\\functions\" for Cloud Functions..."}}
[info] i  hosting[csc190-w]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] +  hosting[csc190-w]: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[debug] [2024-04-01T04:27:06.351Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2024-04-01T04:27:07.070Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "ejs": "^3.1.9",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.13",
    "stripe": "^14.15.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-01T04:27:07.070Z] Building nodejs source
[debug] [2024-04-01T04:27:07.070Z] Failed to find version of module node: reached end of search path C:\Users\Tel\CSC190_Website\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "19". Using node@19 from host. 
[debug] [2024-04-01T04:27:07.071Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-01T04:27:07.075Z] Found firebase-functions binary at 'C:\Users\Tel\CSC190_Website\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8434

[debug] [2024-04-01T04:27:07.354Z] Got response from /__/functions.yaml {"endpoints":{"deleteUnpaidReservations":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"scheduleTrigger":{"schedule":"every 24 hours","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetryDuration":null,"maxBackoffDuration":null,"minBackoffDuration":null},"timeZone":null},"labels":{},"entryPoint":"deleteUnpaidReservations"},"sendEmailReceipt":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"retry":false},"labels":{},"entryPoint":"sendEmailReceipt"},"handleStripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] i  hosting: ::1 - - [01/Apr/2024:04:27:08 +0000] "GET / HTTP/1.1" 200 774 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:27:08 +0000] \"GET / HTTP/1.1\" 200 774 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:27:09 +0000] "GET /static/css/main.3903d4f5.css HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:27:09 +0000] \"GET /static/css/main.3903d4f5.css HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:27:09 +0000] "GET /static/js/main.76532dd9.js HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:27:09 +0000] \"GET /static/js/main.76532dd9.js HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:27:09 +0000] "GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1" 200 1363422 "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:27:09 +0000] \"GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1\" 200 1363422 \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] +  functions: Loaded functions definitions from source: deleteUnpaidReservations, sendEmailReceipt, handleStripeWebhook. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: deleteUnpaidReservations, sendEmailReceipt, handleStripeWebhook."}}
[info] i  functions[us-central1-deleteUnpaidReservations]: function ignored because the pubsub emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the pubsub emulator does not exist or is not running."}}
[info] i  functions[us-central1-sendEmailReceipt]: function ignored because the firestore emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the firestore emulator does not exist or is not running."}}
[info] +  functions[us-central1-handleStripeWebhook]: http function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook)."}}
[debug] [2024-04-01T04:31:06.524Z] ----------------------------------------------------------------------
[debug] [2024-04-01T04:31:06.526Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Tel\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js serve
[debug] [2024-04-01T04:31:06.526Z] CLI Version:   13.6.0
[debug] [2024-04-01T04:31:06.526Z] Platform:      win32
[debug] [2024-04-01T04:31:06.526Z] Node Version:  v19.6.0
[debug] [2024-04-01T04:31:06.526Z] Time:          Sun Mar 31 2024 21:31:06 GMT-0700 (Pacific Daylight Time)
[debug] [2024-04-01T04:31:06.526Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-04-01T04:31:06.580Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-04-01T04:31:06.581Z] > authorizing via signed-in user (achouhan0114@gmail.com)
[debug] [2024-04-01T04:31:06.581Z] [iam] checking project csc190-w for permissions ["firebase.projects.get"]
[debug] [2024-04-01T04:31:06.582Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions [none]
[debug] [2024-04-01T04:31:06.582Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions x-goog-quota-user=projects/csc190-w
[debug] [2024-04-01T04:31:06.582Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T04:31:06.708Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions 200
[debug] [2024-04-01T04:31:06.708Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T04:31:06.708Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T04:31:06.935Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T04:31:06.935Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] 
[info] === Serving from 'C:\Users\Tel\CSC190_Website'...
[info] 
[debug] [2024-04-01T04:31:06.939Z] defaultcredentials: writing to file C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json
[debug] [2024-04-01T04:31:06.939Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 
[debug] [2024-04-01T04:31:06.940Z] Setting GAC to C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Tel\\AppData\\Roaming\\firebase\\achouhan0114_gmail_com_application_default_credentials.json"}}
[debug] [2024-04-01T04:31:06.941Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig [none]
[debug] [2024-04-01T04:31:07.104Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig 200
[debug] [2024-04-01T04:31:07.104Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig {"projectId":"csc190-w","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com"}
[debug] [2024-04-01T04:31:07.419Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 200
[debug] [2024-04-01T04:31:07.419Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites {"sites":[{"name":"projects/csc190-w/sites/csc190-w","defaultUrl":"https://csc190-w.web.app","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","type":"DEFAULT_SITE"}]}
[debug] [2024-04-01T04:31:07.419Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config [none]
[debug] [2024-04-01T04:31:07.708Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config 200
[debug] [2024-04-01T04:31:07.708Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config {"projectId":"csc190-w","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com","apiKey":"AIzaSyDTmAvGOetZpKVXBDQyOG18Y8YfVOVPV3M","authDomain":"csc190-w.firebaseapp.com","messagingSenderId":"59153071763","measurementId":"G-KYZHBDYFBR"}
[debug] [2024-04-01T04:31:07.712Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T04:31:07.863Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T04:31:07.863Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] i  functions: Watching "C:\Users\Tel\CSC190_Website\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\Tel\\CSC190_Website\\functions\" for Cloud Functions..."}}
[info] i  hosting[csc190-w]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] +  hosting[csc190-w]: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[debug] [2024-04-01T04:31:07.873Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2024-04-01T04:31:08.632Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "ejs": "^3.1.9",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.13",
    "stripe": "^14.15.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-01T04:31:08.633Z] Building nodejs source
[debug] [2024-04-01T04:31:08.633Z] Failed to find version of module node: reached end of search path C:\Users\Tel\CSC190_Website\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "19". Using node@19 from host. 
[debug] [2024-04-01T04:31:08.634Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-01T04:31:08.638Z] Found firebase-functions binary at 'C:\Users\Tel\CSC190_Website\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8526

[debug] [2024-04-01T04:31:08.928Z] Got response from /__/functions.yaml {"endpoints":{"deleteUnpaidReservations":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"scheduleTrigger":{"schedule":"every 24 hours","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetryDuration":null,"maxBackoffDuration":null,"minBackoffDuration":null},"timeZone":null},"labels":{},"entryPoint":"deleteUnpaidReservations"},"sendEmailReceipt":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"retry":false},"labels":{},"entryPoint":"sendEmailReceipt"},"handleStripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] i  hosting: ::1 - - [01/Apr/2024:04:31:13 +0000] "GET / HTTP/1.1" 200 774 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:31:13 +0000] \"GET / HTTP/1.1\" 200 774 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:31:13 +0000] "GET /static/css/main.3903d4f5.css HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:31:13 +0000] \"GET /static/css/main.3903d4f5.css HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:31:13 +0000] "GET /static/js/main.76532dd9.js HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:31:13 +0000] \"GET /static/js/main.76532dd9.js HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:31:13 +0000] "GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1" 200 1363422 "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:31:13 +0000] \"GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1\" 200 1363422 \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] +  functions: Loaded functions definitions from source: deleteUnpaidReservations, sendEmailReceipt, handleStripeWebhook. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: deleteUnpaidReservations, sendEmailReceipt, handleStripeWebhook."}}
[info] i  functions[us-central1-deleteUnpaidReservations]: function ignored because the pubsub emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the pubsub emulator does not exist or is not running."}}
[info] i  functions[us-central1-sendEmailReceipt]: function ignored because the firestore emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the firestore emulator does not exist or is not running."}}
[info] +  functions[us-central1-handleStripeWebhook]: http function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook)."}}
[debug] [2024-04-01T04:38:56.603Z] File C:\Users\Tel\CSC190_Website\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Tel\\CSC190_Website\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-04-01T04:38:57.618Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2024-04-01T04:38:58.374Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "ejs": "^3.1.9",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.13",
    "stripe": "^14.15.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-01T04:38:58.374Z] Building nodejs source
[debug] [2024-04-01T04:38:58.374Z] Failed to find version of module node: reached end of search path C:\Users\Tel\CSC190_Website\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "19". Using node@19 from host. 
[debug] [2024-04-01T04:38:58.374Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-01T04:38:58.378Z] Found firebase-functions binary at 'C:\Users\Tel\CSC190_Website\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8563

[debug] [2024-04-01T04:38:58.649Z] Got response from /__/functions.yaml {"endpoints":{"deleteUnpaidReservations":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"scheduleTrigger":{"schedule":"every 24 hours","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetryDuration":null,"maxBackoffDuration":null,"minBackoffDuration":null},"timeZone":null},"labels":{},"entryPoint":"deleteUnpaidReservations"},"sendEmailReceipt":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"retry":false},"labels":{},"entryPoint":"sendEmailReceipt"},"handleStripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[debug] [2024-04-01T04:39:38.925Z] ----------------------------------------------------------------------
[debug] [2024-04-01T04:39:38.927Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Tel\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js serve
[debug] [2024-04-01T04:39:38.927Z] CLI Version:   13.6.0
[debug] [2024-04-01T04:39:38.927Z] Platform:      win32
[debug] [2024-04-01T04:39:38.927Z] Node Version:  v19.6.0
[debug] [2024-04-01T04:39:38.927Z] Time:          Sun Mar 31 2024 21:39:38 GMT-0700 (Pacific Daylight Time)
[debug] [2024-04-01T04:39:38.927Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-04-01T04:39:38.990Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-04-01T04:39:38.990Z] > authorizing via signed-in user (achouhan0114@gmail.com)
[debug] [2024-04-01T04:39:38.990Z] [iam] checking project csc190-w for permissions ["firebase.projects.get"]
[debug] [2024-04-01T04:39:38.992Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions [none]
[debug] [2024-04-01T04:39:38.992Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions x-goog-quota-user=projects/csc190-w
[debug] [2024-04-01T04:39:38.992Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T04:39:39.230Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions 200
[debug] [2024-04-01T04:39:39.230Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T04:39:39.231Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T04:39:39.544Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T04:39:39.544Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] 
[info] === Serving from 'C:\Users\Tel\CSC190_Website'...
[info] 
[debug] [2024-04-01T04:39:39.548Z] defaultcredentials: writing to file C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json
[debug] [2024-04-01T04:39:39.548Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 
[debug] [2024-04-01T04:39:39.550Z] Setting GAC to C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Tel\\AppData\\Roaming\\firebase\\achouhan0114_gmail_com_application_default_credentials.json"}}
[debug] [2024-04-01T04:39:39.550Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig [none]
[debug] [2024-04-01T04:39:39.724Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig 200
[debug] [2024-04-01T04:39:39.724Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig {"projectId":"csc190-w","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com"}
[debug] [2024-04-01T04:39:40.059Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 200
[debug] [2024-04-01T04:39:40.059Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites {"sites":[{"name":"projects/csc190-w/sites/csc190-w","defaultUrl":"https://csc190-w.web.app","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","type":"DEFAULT_SITE"}]}
[debug] [2024-04-01T04:39:40.059Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config [none]
[debug] [2024-04-01T04:39:40.470Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config 200
[debug] [2024-04-01T04:39:40.470Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config {"projectId":"csc190-w","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com","apiKey":"AIzaSyDTmAvGOetZpKVXBDQyOG18Y8YfVOVPV3M","authDomain":"csc190-w.firebaseapp.com","messagingSenderId":"59153071763","measurementId":"G-KYZHBDYFBR"}
[debug] [2024-04-01T04:39:40.473Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T04:39:40.767Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T04:39:40.768Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] i  functions: Watching "C:\Users\Tel\CSC190_Website\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\Tel\\CSC190_Website\\functions\" for Cloud Functions..."}}
[info] i  hosting[csc190-w]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] +  hosting[csc190-w]: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[debug] [2024-04-01T04:39:40.779Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2024-04-01T04:39:41.523Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "ejs": "^3.1.9",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.13",
    "stripe": "^14.15.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-01T04:39:41.523Z] Building nodejs source
[debug] [2024-04-01T04:39:41.523Z] Failed to find version of module node: reached end of search path C:\Users\Tel\CSC190_Website\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "19". Using node@19 from host. 
[debug] [2024-04-01T04:39:41.524Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-01T04:39:41.528Z] Found firebase-functions binary at 'C:\Users\Tel\CSC190_Website\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8631

[debug] [2024-04-01T04:39:41.802Z] Got response from /__/functions.yaml {"endpoints":{"deleteUnpaidReservations":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"scheduleTrigger":{"schedule":"every 24 hours","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetryDuration":null,"maxBackoffDuration":null,"minBackoffDuration":null},"timeZone":null},"labels":{},"entryPoint":"deleteUnpaidReservations"},"sendEmailReceipt":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"retry":false},"labels":{},"entryPoint":"sendEmailReceipt"},"handleStripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] i  hosting: ::1 - - [01/Apr/2024:04:39:43 +0000] "GET / HTTP/1.1" 200 774 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:39:43 +0000] \"GET / HTTP/1.1\" 200 774 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:39:43 +0000] "GET /static/css/main.3903d4f5.css HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:39:43 +0000] \"GET /static/css/main.3903d4f5.css HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:39:43 +0000] "GET /static/js/main.76532dd9.js HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:39:43 +0000] \"GET /static/js/main.76532dd9.js HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:39:43 +0000] "GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1" 200 1363422 "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:39:43 +0000] \"GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1\" 200 1363422 \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] +  functions: Loaded functions definitions from source: deleteUnpaidReservations, sendEmailReceipt, handleStripeWebhook. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: deleteUnpaidReservations, sendEmailReceipt, handleStripeWebhook."}}
[info] i  functions[us-central1-deleteUnpaidReservations]: function ignored because the pubsub emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the pubsub emulator does not exist or is not running."}}
[info] i  functions[us-central1-sendEmailReceipt]: function ignored because the firestore emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the firestore emulator does not exist or is not running."}}
[info] +  functions[us-central1-handleStripeWebhook]: http function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook)."}}
[debug] [2024-04-01T04:46:33.227Z] File C:\Users\Tel\CSC190_Website\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Tel\\CSC190_Website\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-04-01T04:46:34.237Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2024-04-01T04:46:35.029Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "ejs": "^3.1.9",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.13",
    "stripe": "^14.15.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-01T04:46:35.030Z] Building nodejs source
[debug] [2024-04-01T04:46:35.030Z] Failed to find version of module node: reached end of search path C:\Users\Tel\CSC190_Website\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "19". Using node@19 from host. 
[debug] [2024-04-01T04:46:35.030Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-01T04:46:35.034Z] Found firebase-functions binary at 'C:\Users\Tel\CSC190_Website\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8958

[debug] [2024-04-01T04:46:35.338Z] Got response from /__/functions.yaml {"endpoints":{"deleteUnpaidReservations":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"scheduleTrigger":{"schedule":"every 24 hours","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetryDuration":null,"maxBackoffDuration":null,"minBackoffDuration":null},"timeZone":null},"labels":{},"entryPoint":"deleteUnpaidReservations"},"sendEmailReceipt":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"retry":false},"labels":{},"entryPoint":"sendEmailReceipt"},"handleStripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[debug] [2024-04-01T04:47:29.207Z] ----------------------------------------------------------------------
[debug] [2024-04-01T04:47:29.209Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Tel\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js serve
[debug] [2024-04-01T04:47:29.209Z] CLI Version:   13.6.0
[debug] [2024-04-01T04:47:29.209Z] Platform:      win32
[debug] [2024-04-01T04:47:29.209Z] Node Version:  v19.6.0
[debug] [2024-04-01T04:47:29.209Z] Time:          Sun Mar 31 2024 21:47:29 GMT-0700 (Pacific Daylight Time)
[debug] [2024-04-01T04:47:29.209Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-04-01T04:47:29.263Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-04-01T04:47:29.263Z] > authorizing via signed-in user (achouhan0114@gmail.com)
[debug] [2024-04-01T04:47:29.263Z] [iam] checking project csc190-w for permissions ["firebase.projects.get"]
[debug] [2024-04-01T04:47:29.264Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions [none]
[debug] [2024-04-01T04:47:29.264Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions x-goog-quota-user=projects/csc190-w
[debug] [2024-04-01T04:47:29.264Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T04:47:29.495Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions 200
[debug] [2024-04-01T04:47:29.495Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/csc190-w:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2024-04-01T04:47:29.496Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T04:47:29.825Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T04:47:29.825Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] 
[info] === Serving from 'C:\Users\Tel\CSC190_Website'...
[info] 
[debug] [2024-04-01T04:47:29.829Z] defaultcredentials: writing to file C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json
[debug] [2024-04-01T04:47:29.829Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 
[debug] [2024-04-01T04:47:29.830Z] Setting GAC to C:\Users\Tel\AppData\Roaming\firebase\achouhan0114_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\Tel\\AppData\\Roaming\\firebase\\achouhan0114_gmail_com_application_default_credentials.json"}}
[debug] [2024-04-01T04:47:29.831Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig [none]
[debug] [2024-04-01T04:47:30.140Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig 200
[debug] [2024-04-01T04:47:30.140Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/adminSdkConfig {"projectId":"csc190-w","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com"}
[debug] [2024-04-01T04:47:30.338Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites 200
[debug] [2024-04-01T04:47:30.338Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/csc190-w/sites {"sites":[{"name":"projects/csc190-w/sites/csc190-w","defaultUrl":"https://csc190-w.web.app","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","type":"DEFAULT_SITE"}]}
[debug] [2024-04-01T04:47:30.339Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config [none]
[debug] [2024-04-01T04:47:30.797Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config 200
[debug] [2024-04-01T04:47:30.798Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w/webApps/1:59153071763:web:dbb5fd713ef03b6353d766/config {"projectId":"csc190-w","appId":"1:59153071763:web:dbb5fd713ef03b6353d766","databaseURL":"https://csc190-w-default-rtdb.firebaseio.com","storageBucket":"csc190-w.appspot.com","apiKey":"AIzaSyDTmAvGOetZpKVXBDQyOG18Y8YfVOVPV3M","authDomain":"csc190-w.firebaseapp.com","messagingSenderId":"59153071763","measurementId":"G-KYZHBDYFBR"}
[debug] [2024-04-01T04:47:30.802Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w [none]
[debug] [2024-04-01T04:47:31.085Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w 200
[debug] [2024-04-01T04:47:31.085Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/csc190-w {"projectId":"csc190-w","projectNumber":"59153071763","displayName":"CSC190-Website","name":"projects/csc190-w","resources":{"hostingSite":"csc190-w","realtimeDatabaseInstance":"csc190-w-default-rtdb"},"state":"ACTIVE","etag":"1_8d1e015f-ef1c-49ae-9813-fb44ffaeff77"}
[info] i  functions: Watching "C:\Users\Tel\CSC190_Website\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\Tel\\CSC190_Website\\functions\" for Cloud Functions..."}}
[info] i  hosting[csc190-w]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] +  hosting[csc190-w]: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[debug] [2024-04-01T04:47:31.095Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2024-04-01T04:47:31.887Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "ejs": "^3.1.9",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.13",
    "stripe": "^14.15.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-01T04:47:31.887Z] Building nodejs source
[debug] [2024-04-01T04:47:31.887Z] Failed to find version of module node: reached end of search path C:\Users\Tel\CSC190_Website\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "19". Using node@19 from host. 
[debug] [2024-04-01T04:47:31.889Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-01T04:47:31.893Z] Found firebase-functions binary at 'C:\Users\Tel\CSC190_Website\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8983

[debug] [2024-04-01T04:47:32.172Z] Got response from /__/functions.yaml {"endpoints":{"deleteUnpaidReservations":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"scheduleTrigger":{"schedule":"every 24 hours","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetryDuration":null,"maxBackoffDuration":null,"minBackoffDuration":null},"timeZone":null},"labels":{},"entryPoint":"deleteUnpaidReservations"},"sendEmailReceipt":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"retry":false},"labels":{},"entryPoint":"sendEmailReceipt"},"handleStripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] +  functions: Loaded functions definitions from source: deleteUnpaidReservations, sendEmailReceipt, handleStripeWebhook. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: deleteUnpaidReservations, sendEmailReceipt, handleStripeWebhook."}}
[info] i  functions[us-central1-deleteUnpaidReservations]: function ignored because the pubsub emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the pubsub emulator does not exist or is not running."}}
[info] i  functions[us-central1-sendEmailReceipt]: function ignored because the firestore emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the firestore emulator does not exist or is not running."}}
[info] +  functions[us-central1-handleStripeWebhook]: http function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/csc190-w/us-central1/handleStripeWebhook)."}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:47:38 +0000] "GET / HTTP/1.1" 200 774 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:47:38 +0000] \"GET / HTTP/1.1\" 200 774 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:47:38 +0000] "GET /static/css/main.3903d4f5.css HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:47:38 +0000] \"GET /static/css/main.3903d4f5.css HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:47:38 +0000] "GET /static/js/main.76532dd9.js HTTP/1.1" 200 - "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:47:38 +0000] \"GET /static/js/main.76532dd9.js HTTP/1.1\" 200 - \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[info] i  hosting: ::1 - - [01/Apr/2024:04:47:38 +0000] "GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1" 200 1363422 "http://localhost:5000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0" {"metadata":{"emulator":{"name":"hosting"},"message":"::1 - - [01/Apr/2024:04:47:38 +0000] \"GET /static/media/GEG-white-logo.2c9dca6d24bb86d2da10.png HTTP/1.1\" 200 1363422 \"http://localhost:5000/\" \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36 Edg/123.0.0.0\""}}
[debug] [2024-04-01T04:49:56.634Z] File C:\Users\Tel\CSC190_Website\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\Tel\\CSC190_Website\\functions\\index.js changed, reloading triggers"}}
[debug] [2024-04-01T04:49:57.647Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[debug] [2024-04-01T04:49:58.412Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "ejs": "^3.1.9",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "nodemailer": "^6.9.13",
    "stripe": "^14.15.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-01T04:49:58.412Z] Building nodejs source
[debug] [2024-04-01T04:49:58.412Z] Failed to find version of module node: reached end of search path C:\Users\Tel\CSC190_Website\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "19". Using node@19 from host. 
[debug] [2024-04-01T04:49:58.413Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-01T04:49:58.416Z] Found firebase-functions binary at 'C:\Users\Tel\CSC190_Website\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8775

[debug] [2024-04-01T04:49:58.691Z] Got response from /__/functions.yaml {"endpoints":{"deleteUnpaidReservations":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"scheduleTrigger":{"schedule":"every 24 hours","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetryDuration":null,"maxBackoffDuration":null,"minBackoffDuration":null},"timeZone":null},"labels":{},"entryPoint":"deleteUnpaidReservations"},"sendEmailReceipt":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/csc190-w/databases/(default)/documents/roomReservations/{reservationId}"},"retry":false},"labels":{},"entryPoint":"sendEmailReceipt"},"handleStripeWebhook":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
